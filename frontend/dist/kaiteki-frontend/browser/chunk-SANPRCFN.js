import{b as Dt,c as yt,d as Et,f as kt,h as Pt,i as Tt}from"./chunk-BUDHHZRR.js";import{a as Gt}from"./chunk-UYMINATM.js";import{c as O}from"./chunk-LZVTTR4F.js";import{a as I}from"./chunk-SSMAG4H5.js";import{A as se,B as q,D as ce,E as Xe,F as et,Fa as at,G as tt,Ia as Ee,Ja as mt,Ka as lt,La as st,N,P as it,Pa as ct,Qa as dt,R as de,Ra as pt,Sa as gt,T as H,Ta as ft,U as pe,Ua as ut,V as ge,Va as _t,W as fe,Wa as ht,X as D,Xa as vt,Z as ue,aa as _e,b as Ze,ba as he,ha as nt,ja as ve,ka as Me,la as W,lb as Mt,m as me,ma as Ce,mb as Ct,na as xe,nb as xt,o as le,oa as Se,ob as St,p as Ke,pa as ot,pb as bt,qa as be,qb as wt,sa as we,ta as De,u as Re,ua as ye,wa as rt}from"./chunk-XOZLSJZG.js";import"./chunk-4N6BO7AP.js";import{Aa as w,Ab as re,Da as qe,Eb as v,F as T,Fb as Qe,Gb as X,Hb as y,I as Be,Ib as E,Jb as o,K as A,Ka as He,Kb as r,Lb as p,Mc as U,N as Ge,Pb as F,Sb as u,Ub as x,X as Ue,Y as S,_ as J,aa as Z,ac as z,bc as a,cc as Fe,dc as M,ea as G,eb as l,f as R,fa as ne,fb as d,g as $e,id as V,ja as K,jd as ae,k as Le,lc as Ye,nb as We,nd as Je,o as _,pa as h,qa as oe,s as ze,uc as k,vc as j,wb as C,wc as ee,yb as g,yc as je,za as b}from"./chunk-IF3PND7Q.js";import"./chunk-REV7FFDQ.js";import{a as Y,b as ie,f as Bt}from"./chunk-MON7YFGF.js";var Ve=Bt(Gt());var Yt=(n,t)=>t.id;function Jt(n,t){if(n&1&&(o(0,"mat-option",10),a(1),r()),n&2){let s=t.$implicit;g("value",s.id),l(),M(" ",s.fullName," ")}}var Ot=(()=>{let t=class t{constructor(e,i,m,c,f){this.dialogRef=e,this.data=i,this.teamsService=m,this.cd=c,this.toastService=f,this.isAllDayToggled=!1,this.form=this.createForm(),this.allTeamMembers$=this.teamsService.getAllTeamMembers()}toggleAllDay(e){this.isAllDayToggled=e;let i=this.form.get("endDate");if(e){i?.disable();let m=new Date;m.setHours(23,59,59,0),i?.setValue(m)}else{i?.enable();let m=(0,Ve.default)().add(1,"hour");i?.setValue(m.toDate())}this.cd.markForCheck()}onBackClick(){this.dialogRef.close()}onSubmit(){let{title:e,description:i,startDate:m,endDate:c,invitedMemberIds:f}=this.form.getRawValue();if(!e||!i||!m||!c||!f){this.toastService.error("Missing required fields");return}let L={title:e,description:i,startDate:m,endDate:c,invitedMemberIds:f};this.dialogRef.close(L)}createForm(){let e=(0,Ve.default)(),i=e.add(1,"hour");return new fe({title:new D("",[H.required]),description:new D("",[H.required]),invitedMemberIds:new D([],[H.required]),startDate:new D(e.toDate(),[H.required]),endDate:new D(i.toDate(),[H.required])})}};t.\u0275fac=function(i){return new(i||t)(d(ve),d(Me),d(O),d(U),d(I))},t.\u0275cmp=h({type:t,selectors:[["app-create-meeting-dialog"]],decls:42,vars:19,consts:[["autosize","cdkTextareaAutosize"],["startDatetimePicker",""],["endDatetimePicker",""],["mat-dialog-title","",1,"ctask__title"],["mat-dialog-content","",1,"ctask"],[1,"ctask__form",3,"formGroup"],["appearance","outline"],["formControlName","title","matInput",""],["formControlName","description","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","8"],["formControlName","invitedMemberIds","multiple",""],[3,"value"],[1,"row"],["type","datetime","mode","portrait","startView","month",3,"multiYearSelector","twelvehour","timeInterval","touchUi","timeInput"],["formControlName","startDate","matInput","","required","",3,"mtxDatetimepicker"],["matSuffix","",3,"for"],["formControlName","endDate","matInput","","required","",3,"mtxDatetimepicker"],[3,"change","checked"],["mat-dialog-actions","","align","end"],["mat-stroked-button","",3,"click"],["type","submit","mat-flat-button","","color","primary",3,"click","disabled"]],template:function(i,m){if(i&1){let c=F();o(0,"h4",3),a(1,` Create new meeting
`),r(),o(2,"section",4)(3,"form",5)(4,"mat-form-field",6)(5,"mat-label"),a(6,"Title"),r(),p(7,"input",7),r(),o(8,"mat-form-field",6)(9,"mat-label"),a(10,"Description"),r(),p(11,"textarea",8,0),r(),o(13,"mat-form-field",6)(14,"mat-label"),a(15,"Particapants"),r(),o(16,"mat-select",9),y(17,Jt,2,2,"mat-option",10,Yt),k(19,"async"),r()(),o(20,"div",11)(21,"mat-form-field",6)(22,"mat-label"),a(23,"Start Date"),r(),p(24,"mtx-datetimepicker",12,1)(26,"input",13)(27,"mtx-datetimepicker-toggle",14),r(),o(28,"mat-form-field",6)(29,"mat-label"),a(30,"End Date"),r(),p(31,"mtx-datetimepicker",12,2)(33,"input",15)(34,"mtx-datetimepicker-toggle",14),r()(),o(35,"mat-checkbox",16),u("change",function(L){return b(c),w(m.toggleAllDay(L.checked))}),a(36,"All Day"),r()()(),o(37,"mat-dialog-actions",17)(38,"button",18),u("click",function(){return b(c),w(m.onBackClick())}),a(39," Back "),r(),o(40,"button",19),u("click",function(){return b(c),w(m.onSubmit())}),a(41," Create "),r()()}if(i&2){let c=z(25),f=z(32);l(3),g("formGroup",m.form),l(14),E(j(19,17,m.allTeamMembers$)),l(7),g("multiYearSelector",!0)("twelvehour",!1)("timeInterval",5)("touchUi",!1)("timeInput",!1),l(2),g("mtxDatetimepicker",c),l(),g("for",c),l(4),g("multiYearSelector",!0)("twelvehour",!1)("timeInterval",5)("touchUi",!1)("timeInput",!1),l(2),g("mtxDatetimepicker",f),l(),g("for",f),l(),g("checked",m.isAllDayToggled),l(5),g("disabled",m.form.invalid)}},dependencies:[q,ye,De,be,we,ot,Ee,se,st,Ce,Se,xe,Mt,xt,Ct,ue,de,pe,ge,nt,_e,he,V],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:14px;margin-bottom:0}.ctask__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.ctask__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:22px}.ctask__form-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.row[_ngcontent-%COMP%]{display:flex;gap:22px}  .mat-form-field-flex>.mat-form-field-infix{padding:.4em 0!important}  .mat-form-field-label-wrapper{top:-1.5em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:translateY(-1.1em) scale(.75);width:133.33333%}"],changeDetection:0});let n=t;return n})();var At=(()=>{let t=class t{constructor(e){this.httpClient=e,this.baseUrl="/api/v1/meetings"}getMeetings(e,i,m){let c=ie(Y(Y({},i),m),{teamId:e});return this.httpClient.get(`${this.baseUrl}`,{params:N(c)})}getMeeting(e,i){return this.httpClient.get(`${this.baseUrl}/${i}`,{params:N({teamId:e})})}createMeeting(e,i){return this.httpClient.post(`${this.baseUrl}`,i,{params:N({teamId:e})})}deleteMeeting(e,i){return this.httpClient.delete(`${this.baseUrl}/${i}`,{params:N({teamId:e})})}joinMeeting(e,i){return this.httpClient.post(`${this.baseUrl}/${i}/join`,{},{params:N({teamId:e})})}leaveMeeting(e,i){return this.httpClient.post(`${this.baseUrl}/${i}/leave`,{},{params:N({teamId:e})})}updateMeeting(e,i,m){return this.httpClient.put(`${this.baseUrl}/${i}`,m,{params:N({teamId:e})})}};t.\u0275fac=function(i){return new(i||t)(K(Ze))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var $=(()=>{let t=class t{constructor(e,i){this.meetingsApiService=e,this.teamsService=i,this.refetchMeetingsSubject=new R,this.currentMeetingRoomSubject=new $e(null),this.refetchMeetings$=this.refetchMeetingsSubject.asObservable(),this.currentMeetingRoom$=this.currentMeetingRoomSubject.asObservable()}refetchMeetings(){this.refetchMeetingsSubject.next()}setCurrentMeetingRoom(e){this.currentMeetingRoomSubject.next(e)}getMeetings(e,i){return this.teamsService.currentTeam$.pipe(S(m=>m?this.meetingsApiService.getMeetings(m.id,e,i):_(()=>Error("No current team"))))}getMeeting(e){return this.teamsService.currentTeam$.pipe(S(i=>i?this.meetingsApiService.getMeeting(i.id,e):_(()=>Error("No current team"))))}createMeeting(e){return this.teamsService.currentTeam$.pipe(S(i=>i?this.meetingsApiService.createMeeting(i.id,e):_(()=>Error("No current team"))))}deleteMeeting(e){return this.teamsService.currentTeam$.pipe(S(i=>i?this.meetingsApiService.deleteMeeting(i.id,e):_(()=>Error("No current team"))))}joinMeeting(e){return this.teamsService.currentTeam$.pipe(S(i=>i?this.meetingsApiService.joinMeeting(i.id,e):_(()=>Error("No current team"))))}leaveMeeting(e){return this.teamsService.currentTeam$.pipe(S(i=>i?this.meetingsApiService.leaveMeeting(i.id,e):_(()=>Error("No current team"))))}updateMeeting(e,i){return this.teamsService.currentTeam$.pipe(S(m=>m?this.meetingsApiService.updateMeeting(m.id,e,i):_(()=>Error("No current team"))))}};t.\u0275fac=function(i){return new(i||t)(K(At),K(O))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Xt=(n,t)=>t.id;function ei(n,t){n&1&&(o(0,"span"),a(1,", "),r())}function ti(n,t){if(n&1&&(o(0,"span"),a(1),C(2,ei,2,0,"span"),r()),n&2){let s=t.$implicit,e=t.$index,i=t.$count;l(),M(" ",s.fullName," "),l(),v(2,e!==i-1?2:-1)}}function ii(n,t){if(n&1){let s=F();o(0,"button",9),u("click",function(){b(s);let i=x(3);return w(i.onDeleteMeetingClick())}),o(1,"mat-icon"),a(2,"delete_outline"),r(),a(3," Delete "),r()}}function ni(n,t){n&1&&(o(0,"button",7)(1,"mat-icon"),a(2,"edit"),r(),a(3," Update "),r())}function oi(n,t){if(n&1){let s=F();o(0,"h3",0),a(1),r(),o(2,"section",1)(3,"div",2)(4,"div",3)(5,"p",4),a(6,"Description"),r(),o(7,"p",5),a(8),r()(),o(9,"div",3)(10,"p",4),a(11,"Status"),r(),o(12,"p",5),a(13),r()(),o(14,"div",3)(15,"p",4),a(16,"Start Time"),r(),o(17,"p",5),a(18),k(19,"date"),r()(),o(20,"div",3)(21,"p",4),a(22,"End Time"),r(),o(23,"p",5),a(24),k(25,"date"),r()(),o(26,"div",3)(27,"p",4),a(28,"Participants"),r(),o(29,"p",5),y(30,ti,3,2,"span",null,Xt),r()()()(),o(32,"mat-dialog-actions",6),C(33,ii,4,0,"button",7)(34,ni,4,0,"button",7),o(35,"button",8),u("click",function(){b(s);let i=x(2);return w(i.onJoinMeetingClick())}),a(36," Join meeting "),r()()}if(n&2){let s=x(),e=x();l(),M(" ",e.selectedMeeting.title," "),l(7),M(" ",e.selectedMeeting.description," "),l(5),M(" ",e.selectedMeeting.status," "),l(5),M(" ",ee(19,7,e.selectedMeeting.start,"MMM d, h:mm a")," "),l(6),M(" ",ee(25,10,e.selectedMeeting.end,"MMM d, h:mm a")," "),l(6),E(e.selectedMeeting.invitedMembers),l(3),v(33,s.id===e.selectedMeeting.createdMember.id?33:-1),l(),v(34,s.id===e.selectedMeeting.createdMember.id?34:-1)}}function ri(n,t){if(n&1&&C(0,oi,37,13),n&2){let s=x();v(0,s.selectedMeeting?0:-1)}}var Ae=(()=>{let t=class t{constructor(e,i,m,c,f,L){this.data=e,this.dialogRef=i,this.router=m,this.teamsService=c,this.meetingsService=f,this.toastService=L,this.selectedMeeting=null,this.currentMember$=this.teamsService.currentTeamMember$,this.selectedMeeting=e.selectedMeeting}onJoinMeetingClick(){this.selectedMeeting&&this.meetingsService.joinMeeting(this.selectedMeeting.id).pipe(T(e=>(this.toastService.error("Failed to join meeting"),_(()=>e))),S(()=>this.teamsService.currentTeam$),A(1)).subscribe(e=>{e&&this.selectedMeeting&&this.router.navigate(["hub","teams",e.id,"meetings",this.selectedMeeting.id])}),this.dialogRef.close(null)}onDeleteMeetingClick(){this.selectedMeeting&&this.meetingsService.deleteMeeting(this.selectedMeeting.id).pipe(A(1),T(e=>(this.toastService.error("Failed to delete the meeting!"),_(()=>e)))).subscribe(()=>{this.toastService.open("Successfully deleted the meeting!"),this.meetingsService.refetchMeetings(),this.dialogRef.close(null)})}};t.\u0275fac=function(i){return new(i||t)(d(Me),d(ve),d(le),d(O),d($),d(I))},t.\u0275cmp=h({type:t,selectors:[["app-meetings-selected-dialog"]],decls:2,vars:3,consts:[["mat-dialog-title","",1,"selected-meeting-title"],["mat-dialog-content","",1,"selected-meeting-card"],[1,"selected-meeting-detail-list"],[1,"selected-meeting-detail"],[1,"selected-meeting-detail-label"],[1,"selected-meeting-detail-desc"],["align","end",1,"selected-meeting__actions"],["mat-stroked-button","","color","primary",1,"selected-meeting__button"],["mat-flat-button","","color","primary",1,"selected-meeting__button",3,"click"],["mat-stroked-button","","color","primary",1,"selected-meeting__button",3,"click"]],template:function(i,m){if(i&1&&(C(0,ri,1,1),k(1,"async")),i&2){let c;v(0,(c=j(1,1,m.currentMember$))?0:-1,c)}},dependencies:[ce,q,Ce,Se,xe,V,ae],styles:[".selected-meeting[_ngcontent-%COMP%]{width:100%}.selected-meeting-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.selected-meeting-status[_ngcontent-%COMP%]{color:#7c7c7c}.selected-meeting__actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.selected-meeting-detail[_ngcontent-%COMP%]{width:100%}.selected-meeting-detail-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(.5fr);gap:12px}.selected-meeting-detail-label[_ngcontent-%COMP%]{font-size:12px;color:#7c7c7c}.selected-meeting-detail-desc[_ngcontent-%COMP%]{margin-top:2px;color:#000}"],changeDetection:0});let n=t;return n})();var Q=function(n){return n.SCHEDULED="SCHEDULED",n.IN_PROGRESS="IN_PROGRESS",n.COMPLETED="COMPLETED",n.CANCELLED="CANCELLED",n}(Q||{}),B=function(n){return n.LIST="list",n.CALENDAR="calendar",n}(B||{}),te=function(n){return n.DATE_ASC="createdDate,asc",n.DATE_DESC="createdDate,desc",n}(te||{});function ai(n,t){if(n&1&&(o(0,"mat-option",10),a(1),r()),n&2){let s=t.$implicit;g("matTooltip",s.label)("value",s.id),l(),M(" ",s.label," ")}}function mi(n,t){if(n&1&&(o(0,"mat-option",10),a(1),r()),n&2){let s=t.$implicit;g("matTooltip",s.label)("value",s.id),l(),M(" ",s.label," ")}}function li(n,t){if(n&1&&(o(0,"mat-option",10),a(1),r()),n&2){let s=t.$implicit;g("matTooltip",s.fullName)("value",s.id),l(),M(" ",s.fullName," ")}}function si(n,t){n&1&&(o(0,"mat-form-field",3)(1,"mat-label"),a(2,"Participants"),r(),o(3,"mat-select",13),y(4,li,2,3,"mat-option",10,X),r()()),n&2&&(l(4),E(t))}function ci(n,t){if(n&1&&(o(0,"mat-option",10),a(1),r()),n&2){let s=t.$implicit;g("matTooltip",s.label)("value",s.id),l(),M(" ",s.label," ")}}var di={searchValue:"",startDate:void 0,endDate:void 0,status:void 0,view:B.LIST,sort:te.DATE_DESC},Ft=(()=>{let t=class t{constructor(e,i,m,c){this.router=e,this.route=i,this.cd=m,this.teamsService=c,this.filter=new He,this.destroy$=new R,this.form=new fe({searchValue:new D(""),startDate:new D(null),endDate:new D(null),status:new D(null),invitedMemberIds:new D([]),view:new D(null),sort:new D(null)}),this.allTeamMembers$=this.teamsService.getAllTeamMembers(),this.views=[{id:B.LIST,label:"List"},{id:B.CALENDAR,label:"Calendar"}],this.sorting=[{id:te.DATE_ASC,label:"Date ASC"},{id:te.DATE_DESC,label:"Date DESC"}],this.statuses=[{id:Q.IN_PROGRESS,label:"In Progress"},{id:Q.SCHEDULED,label:"Scheduled"},{id:Q.COMPLETED,label:"Completed"},{id:Q.CANCELLED,label:"Canceled"}]}ngOnInit(){this.patchInitialFormValues(),this.trackFormValueChanges()}ngOnDestroy(){this.destroy$.complete()}patchInitialFormValues(){let e=this.getQueryParameters();this.form.patchValue({searchValue:e.searchValue,view:e.view,sort:e.sort,startDate:e.startDate?new Date(e.startDate):null,endDate:e.endDate?new Date(e.endDate):null,status:e.status}),this.filter.emit(e),this.cd.markForCheck()}trackFormValueChanges(){this.form.valueChanges.pipe(Be(800),Ge(),J(this.destroy$)).subscribe(e=>{let i={searchValue:e.searchValue??void 0,view:e.view??void 0,sort:e.sort??void 0,startDate:e.startDate?e.startDate.toISOString():void 0,endDate:e.endDate?e.endDate.toISOString():void 0,status:e.status??void 0};this.saveQueryParameters(i),this.filter.emit(i)})}saveQueryParameters(e){this.router.navigate([],{queryParams:e,queryParamsHandling:"merge"})}getQueryParameters(){let e=this.route.snapshot.queryParams;return it(e,di)}};t.\u0275fac=function(i){return new(i||t)(d(le),d(me),d(U),d(O))},t.\u0275cmp=h({type:t,selectors:[["app-meetings-filter"]],outputs:{filter:"filter"},decls:40,vars:6,consts:[["picker",""],[1,"filter"],[1,"filter__fields",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","searchValue","type","text"],[3,"rangePicker"],["matStartDate","","formControlName","startDate","placeholder","Start date"],["matEndDate","","formControlName","endDate","placeholder","End date"],["matIconSuffix","",3,"for"],["formControlName","view"],[3,"matTooltip","value"],["formControlName","status"],["formControlName","sort"],["formControlName","invitedMemberIds","multiple",""]],template:function(i,m){if(i&1&&(o(0,"section",1)(1,"mat-accordion")(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title"),a(5,"Filters"),r()(),o(6,"form",2)(7,"mat-form-field",3)(8,"mat-label"),a(9,"Search"),r(),p(10,"input",4),r(),o(11,"mat-form-field",3)(12,"mat-label"),a(13,"Period"),r(),o(14,"mat-date-range-input",5),p(15,"input",6)(16,"input",7),r(),p(17,"mat-datepicker-toggle",8)(18,"mat-date-range-picker",null,0),r(),o(20,"mat-form-field",3)(21,"mat-label"),a(22,"View"),r(),o(23,"mat-select",9),y(24,ai,2,3,"mat-option",10,X),r()(),o(26,"mat-form-field",3)(27,"mat-label"),a(28,"View"),r(),o(29,"mat-select",11),y(30,mi,2,3,"mat-option",10,X),r()(),C(32,si,6,0,"mat-form-field",3),k(33,"async"),o(34,"mat-form-field",3)(35,"mat-label"),a(36,"Sorting"),r(),o(37,"mat-select",12),y(38,ci,2,3,"mat-option",10,X),r()()()()()()),i&2){let c,f=z(19);l(6),g("formGroup",m.form),l(8),g("rangePicker",f),l(3),g("for",f),l(7),E(m.views),l(6),E(m.statuses),l(2),v(32,(c=j(33,4,m.allTeamMembers$))?32:-1,c),l(6),E(m.sorting)}},dependencies:[vt,ut,_t,ht,ye,De,be,we,Ee,se,ct,gt,dt,pt,ft,rt,ue,de,pe,ge,_e,he,V],styles:["[_nghost-%COMP%]     mat-form-field{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.filter[_ngcontent-%COMP%]{margin-top:22px}.filter__fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem;align-items:start}"],changeDetection:0});let n=t;return n})();var jt=(()=>{let t=class t{constructor(e,i,m){this.dialog=e,this.meetingsService=i,this.toastService=m}onCreateButtonClick(e){e.preventDefault(),this.dialog.open(Ot,{minWidth:"30%",minHeight:"50%"}).afterClosed().pipe(S(m=>m?this.meetingsService.createMeeting(m):Le),T(m=>(this.toastService.open("Failed to create a meeting"),_(()=>m))),A(1)).subscribe(()=>{this.toastService.open("Successfully created meeting"),this.meetingsService.refetchMeetings()})}};t.\u0275fac=function(i){return new(i||t)(d(W),d($),d(I))},t.\u0275cmp=h({type:t,selectors:[["app-meetings-toolbar"]],decls:11,vars:0,consts:[[1,"meetings__toolbar"],[1,"meetings__toolbar-left"],[1,"meetings__toolbar-right"],["variant","outline","icon","share",1,"meetings__toolbar-item"],["icon","add",1,"meetings__toolbar-item",3,"click"]],template:function(i,m){i&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Upcoming Meetings"),r()(),o(4,"div",2)(5,"app-button",3)(6,"p"),a(7,"Share"),r()(),o(8,"app-button",4),u("click",function(f){return m.onCreateButtonClick(f)}),o(9,"p"),a(10,"Add"),r()()()())},dependencies:[bt],styles:["h1[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.meetings__toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:space-between;overflow-x:auto;overflow-y:hidden}.meetings__toolbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 40em){.meetings__toolbar-left[_ngcontent-%COMP%]{display:none}}.meetings__toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}"],changeDetection:0});let n=t;return n})();var Rt=(()=>{let t=class t{set meetings(e){this.displayMeetings=e.map(i=>ie(Y({},i),{start:new Date(i.start),end:new Date(i.end)}))}constructor(e){this.dialog=e,this.displayMeetings=[],this.viewDate=new Date,this.refresh=new R}onSelectMeeting(e){this.dialog.open(Ae,{data:{selectedMeeting:e}}).afterClosed().pipe(A(1)).subscribe()}};t.\u0275fac=function(i){return new(i||t)(d(W))},t.\u0275cmp=h({type:t,selectors:[["app-meetings-calendar-view"]],inputs:{meetings:"meetings"},decls:2,vars:3,consts:[[1,"meetings__calendar"],[3,"eventClicked","viewDate","events","refresh"]],template:function(i,m){i&1&&(o(0,"div",0)(1,"mwl-calendar-week-view",1),u("eventClicked",function(f){return m.onSelectMeeting(f.event)}),r()()),i&2&&(l(),g("viewDate",m.viewDate)("events",m.displayMeetings)("refresh",m.refresh))},dependencies:[kt],styles:["[_nghost-%COMP%]     .cal-week-view{width:100%;min-width:800px;font-family:Poppins,sans-serif}[_nghost-%COMP%]     .cal-week-view .cal-time-events .cal-event{border-radius:6px}[_nghost-%COMP%]     .cal-week-view .cal-event{color:#1666b6;font-weight:500}[_nghost-%COMP%]     .cal-week-view .cal-day-headers .cal-header{padding:10px}[_nghost-%COMP%]     .cal-week-view .cal-day-headers .cal-header b{font-weight:500}[_nghost-%COMP%]     .cal-week-view .cal-day-headers .cal-header span{font-size:12px}[_nghost-%COMP%]     .cal-week-view .cal-time{font-weight:400;padding:20px 0;color:#646464}[_nghost-%COMP%]     .cal-week-view .cal-hour:not(:last-child) .cal-hour-segment, [_nghost-%COMP%]     .cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment{border-bottom:unset}[_nghost-%COMP%]     .cal-week-view .cal-header.cal-weekend span{color:#010a16}[_nghost-%COMP%]     .cal-week-view .cal-header.cal-today{background:#068e44;color:#f4f5f5}[_nghost-%COMP%]     .cal-week-view .cal-header.cal-today span{color:#f4f5f5}.meetings__calendar[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden}"],changeDetection:0});let n=t;return n})();var ui=["meeting",""];function _i(n,t){if(n&1){let s=F();o(0,"button",1),u("click",function(){b(s);let i=x();return w(i.onSelectMeeting(i.meeting))}),o(1,"h3",2),a(2),r(),o(3,"p",3),a(4),r(),o(5,"div",4)(6,"p",5),a(7),r(),o(8,"p",6),a(9),k(10,"date"),r()()()}if(n&2){let s=x();l(2),Fe(s.meeting.title),l(2),M(" ",s.meeting.description," "),l(3),Fe(s.meeting.status),l(2),M(" ",ee(10,4,s.meeting.start,"MMM d, h:mm a")," ")}}var Vt=(()=>{let t=class t{constructor(e){this.dialog=e}onSelectMeeting(e){this.dialog.open(Ae,{data:{selectedMeeting:e},minWidth:"30%"}).afterClosed().pipe(A(1)).subscribe()}};t.\u0275fac=function(i){return new(i||t)(d(W))},t.\u0275cmp=h({type:t,selectors:[["app-meeting-list-item","meeting",""]],inputs:{meeting:"meeting"},attrs:ui,decls:1,vars:1,consts:[[1,"meetings__item"],[1,"meetings__item",3,"click"],[1,"meetings__item-title"],[1,"meetings__item-desc"],[1,"meetings__item-bottom"],[1,"meetings__item-status"],[1,"meetings__item-date"]],template:function(i,m){i&1&&C(0,_i,11,7,"button",0),i&2&&v(0,m.meeting?0:-1)},dependencies:[ae],styles:[".meetings__item[_ngcontent-%COMP%]{text-align:left;width:100%;padding:12px 16px;border-radius:10px;background:#fff;border:1px solid #e9e9e9;cursor:pointer;overflow:hidden}.meetings__item-active[_ngcontent-%COMP%]{border:1px solid #3b916d;background:#fff}.meetings__item-bottom[_ngcontent-%COMP%]{margin-top:16px;display:flex;align-items:center;gap:8px}.meetings__item-status[_ngcontent-%COMP%]{width:fit-content;font-size:12px;background:#068e44;color:#fff;padding:4px 16px;border-radius:8px}.meetings__item-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.meetings__item-desc[_ngcontent-%COMP%]{font-size:12px;color:#575757;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.meetings__item-date[_ngcontent-%COMP%]{font-size:12px;padding:4px 16px;border-radius:8px;background:#e6e6e6}"],changeDetection:0});let n=t;return n})();var vi=(n,t)=>t.id;function Mi(n,t){if(n&1&&p(0,"app-meeting-list-item",1),n&2){let s=t.$implicit;g("meeting",s)}}var Nt=(()=>{let t=class t{constructor(){this.meetings=[]}meetingsTrackBy(e,i){return i.id}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=h({type:t,selectors:[["app-meetings-list-view"]],inputs:{meetings:"meetings"},decls:3,vars:0,consts:[[1,"meetings__list"],[3,"meeting"]],template:function(i,m){i&1&&(o(0,"div",0),y(1,Mi,1,1,"app-meeting-list-item",1,vi),r()),i&2&&(l(),E(m.meetings))},dependencies:[Vt],styles:[".meetings__list[_ngcontent-%COMP%]{flex-grow:1;width:100%;height:100%;display:grid;gap:14px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));grid-template-rows:none}"],changeDetection:0});let n=t;return n})();function xi(n,t){n&1&&a(0,"Loading...")}function Si(n,t){n&1&&a(0,"Error...")}var $t=(()=>{let t=class t{constructor(e,i,m,c,f,L){this.ngZone=e,this.route=i,this.teamsService=m,this.toastService=c,this.cd=f,this.meetingsService=L,this.micActive=!1,this.cameraActive=!1,this.shareScreenActive=!1,this.unsubscribe$=new R,this.currentMeetingRoom$=this.meetingsService.currentMeetingRoom$,this.meetingRoomState={isLoading:!0,isError:!1,errorMessage:""}}ngOnInit(){this.loadMeetingFromParams()}loadMeetingFromParams(){this.route.paramMap.pipe(Z(()=>this.meetingRoomState.isLoading=!0),T(e=>(this.handleError(e),_(()=>e))),J(this.unsubscribe$)).subscribe(e=>{let i=e.get("meetingId");if(!i){this.handleError("Invalid meeting ID");return}let m=Number(i);if(isNaN(m)){this.handleError("Invalid meeting ID");return}this.meetingsService.getMeeting(m).pipe(Z(()=>this.meetingRoomState.isLoading=!1),T(c=>(this.handleError(c),_(()=>c))),J(this.unsubscribe$)).subscribe(c=>{this.meetingsService.setCurrentMeetingRoom(c),this.cd.markForCheck()})})}handleError(e){this.meetingRoomState.isLoading=!1,this.meetingRoomState.isError=!0,this.meetingRoomState.errorMessage=e,this.toastService.open("Failed to get team"),this.cd.markForCheck()}onToggleMic(){this.micActive=!this.micActive}onToggleCamera(){this.cameraActive=!this.cameraActive}onToggleScreenShare(){this.shareScreenActive=!this.shareScreenActive}onLeaveMeeting(){throw new Error("Method not implemented.")}};t.\u0275fac=function(i){return new(i||t)(d(We),d(me),d(O),d(I),d(U),d($))},t.\u0275cmp=h({type:t,selectors:[["app-meeting-room"]],decls:91,vars:7,consts:[["moreHeaderMenu","matMenu"],["loading",""],["error",""],[1,"meeting-room"],[1,"meeting-room__left"],[1,"meeting-room__main"],[1,"meeting-room__main-header"],[1,"meeting-room__main-title"],[1,"meeting-room__main-header-more",3,"matMenuTriggerFor"],[1,""],["mat-menu-item","",1,"more-menu__button"],[1,"meeting-room__main-content"],[1,"meeting-room__main-content-view"],[1,"meeting-room__main-others"],[1,"meeting-room__main-others-member"],[1,"meeting-room__main-others-view"],[1,"meeting-room__main-others-name"],[1,"meeting-room__main-toolbar"],[1,"meeting-room__main-toolbar-buttons"],[1,"meeting-room__main-toolbar-button",3,"click"],[1,"meeting-room__main-toolbar-button","leave",3,"click"],[1,"meeting-room__right"],[1,"meeting-room__participants"],[1,"meeting-room__participants-title"],[1,"meeting-room__participants-list"],[1,"meeting-room__participants-item"],["alt","Daffa Ganteg",1,"meeting-room__participants-item-avatar"],[1,"meeting-room__participants-item-name"]],template:function(i,m){if(i&1){let c=F();o(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h4",7),a(5,"Ever Weekly Meet, 15 June 2023"),r(),o(6,"button",8)(7,"mat-icon",9),a(8,"more_vert"),r()(),o(9,"mat-menu",null,0)(11,"button",10),a(12," Participants "),r()()(),o(13,"div",11),p(14,"div",12),r(),o(15,"div",13)(16,"div",14),p(17,"div",15),o(18,"p",16),a(19,"Daffana Grafana"),r()(),o(20,"div",14),p(21,"div",15),o(22,"p",16),a(23,"Alexander Mackdonalds"),r()(),o(24,"div",14),p(25,"div",15),o(26,"p",16),a(27,"Alexander Mackdonalds"),r()(),o(28,"div",14),p(29,"div",15),o(30,"p",16),a(31,"Daffana Grafana"),r()(),o(32,"div",14),p(33,"div",15),o(34,"p",16),a(35,"Alexander Mackdonalds"),r()(),o(36,"div",14),p(37,"div",15),o(38,"p",16),a(39,"Alexander Mackdonalds"),r()(),o(40,"div",14),p(41,"div",15),o(42,"p",16),a(43,"Daffana Grafana"),r()(),o(44,"div",14),p(45,"div",15),o(46,"p",16),a(47,"Alexander Mackdonalds"),r()(),o(48,"div",14),p(49,"div",15),o(50,"p",16),a(51,"Alexander Mackdonalds"),r()()(),o(52,"div",17)(53,"div",18)(54,"button",19),u("click",function(){return b(c),w(m.onToggleCamera())}),o(55,"mat-icon"),a(56,"videocam"),r()(),o(57,"button",19),u("click",function(){return b(c),w(m.onToggleMic())}),o(58,"mat-icon"),a(59,"mic"),r()(),o(60,"button",19),u("click",function(){return b(c),w(m.onToggleScreenShare())}),o(61,"mat-icon"),a(62,"screen_share"),r()(),o(63,"button",20),u("click",function(){return b(c),w(m.onLeaveMeeting())}),o(64,"mat-icon"),a(65,"call_end"),r()()()()()(),o(66,"div",21)(67,"div",22)(68,"h4",23),a(69,"Participants"),r(),o(70,"div",24)(71,"div",25),p(72,"img",26),o(73,"p",27),a(74,"Daffa Ganteg"),r()(),o(75,"div",25),p(76,"img",26),o(77,"p",27),a(78,"Albert"),r()(),o(79,"div",25),p(80,"img",26),o(81,"p",27),a(82,"Albert"),r()(),o(83,"div",25),p(84,"img",26),o(85,"p",27),a(86,"Albert"),r()()()()()(),C(87,xi,1,0,"ng-template",null,1,je)(89,Si,1,0,"ng-template",null,2,je)}if(i&2){let c=z(10);l(6),g("matMenuTriggerFor",c),l(48),re("active",m.cameraActive),l(3),re("active",m.micActive),l(3),re("active",m.shareScreenActive)}},dependencies:[ce,et,Xe,tt],styles:[".meeting-room[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:16px;height:100%}@media (min-width: 48em){.meeting-room[_ngcontent-%COMP%]{padding:22px}}.meeting-room__left[_ngcontent-%COMP%]{grid-column:span 4/span 4}@media (min-width: 64em){.meeting-room__left[_ngcontent-%COMP%]{grid-column:span 3/span 3}}.meeting-room__right[_ngcontent-%COMP%]{grid-column:span 1/span 1;display:none}@media (min-width: 64em){.meeting-room__right[_ngcontent-%COMP%]{display:block}}.meeting-room__participants[_ngcontent-%COMP%]{background:#fff;border:1px solid #e4dfdd;padding:22px;height:100%;border-radius:8px}.meeting-room__participants-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding-bottom:14px;margin-top:8px}.meeting-room__participants-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.meeting-room__participants-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.meeting-room__participants-item-avatar[_ngcontent-%COMP%]{width:30px;height:30px;background:#9b9b9b;border-radius:9999px}.meeting-room__main[_ngcontent-%COMP%]{height:100%;background:#fff;border-radius:8px;border:1px solid #e4dfdd;position:relative}.meeting-room__main-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:18px;padding:22px}.meeting-room__main-header-more[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (min-width: 64em){.meeting-room__main-header-more[_ngcontent-%COMP%]{display:none}}.meeting-room__main-header-more[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6d6d6d}.meeting-room__main-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;text-wrap:nowrap;text-overflow:ellipsis;overflow:hidden}@media (min-width: 64em){.meeting-room__main-title[_ngcontent-%COMP%]{font-size:20px}}.meeting-room__main-content[_ngcontent-%COMP%]{width:100%;padding:0 16px;height:60%;display:flex;justify-content:center;align-items:center}@media (min-width: 64em){.meeting-room__main-content[_ngcontent-%COMP%]{height:60%}}.meeting-room__main-content-view[_ngcontent-%COMP%]{width:100%;height:100%;background:#cecece;border-radius:8px}.meeting-room__main-others[_ngcontent-%COMP%]{margin-top:14px;width:100%;height:20%;display:flex;gap:12px;overflow-x:auto;padding:0 16px 14px}@media (min-width: 64em){.meeting-room__main-others[_ngcontent-%COMP%]{height:22%}}.meeting-room__main-others-member[_ngcontent-%COMP%]{position:relative}.meeting-room__main-others-view[_ngcontent-%COMP%]{width:180px;height:100%;background:#cecece;border-radius:8px}.meeting-room__main-others-name[_ngcontent-%COMP%]{position:absolute;left:8px;bottom:8px;font-size:12px;background:#53535365;color:#fff;padding:2px 8px;border-radius:6px}.meeting-room__main-toolbar[_ngcontent-%COMP%]{background:#fff;position:fixed;width:100%;bottom:0;left:0;right:0;border-radius:8px;padding:22px;display:flex;align-items:center;gap:8px;justify-content:center}@media (min-width: 40em){.meeting-room__main-toolbar[_ngcontent-%COMP%]{position:static;padding:0}}.meeting-room__main-toolbar-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.meeting-room__main-toolbar-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:8px;border-radius:6px;border:1px solid #e9e9e9;color:#5e5e5e}.meeting-room__main-toolbar-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.meeting-room__main-toolbar-button.active[_ngcontent-%COMP%]{background:#4c82ff1f;color:#068e44}.meeting-room__main-toolbar-button.leave[_ngcontent-%COMP%]{color:#e44949;background:#e0515133}.more-menu__button.leave[_ngcontent-%COMP%]{color:#e44949}"],changeDetection:0});let n=t;return n})();var bi=()=>({height:"120px","border-radius":"8px"});function wi(n,t){if(n&1&&p(0,"app-meetings-list-view",6),n&2){let s=x(3);g("meetings",s.data)}}function Di(n,t){if(n&1&&p(0,"app-meetings-calendar-view",6),n&2){let s=x(3);g("meetings",s.data)}}function yi(n,t){if(n&1&&C(0,wi,1,1)(1,Di,1,1),n&2){let s,e=x(3);v(0,(s=e.filter.view)===e.meetingsViews.LIST?0:s===e.meetingsViews.CALENDAR?1:-1)}}function Ei(n,t){n&1&&(o(0,"div",7),a(1,"No meetings found"),r())}function ki(n,t){if(n&1&&C(0,yi,2,1)(1,Ei,2,0),n&2){let s=x();v(0,s.data.length>0?0:1)}}function Pi(n,t){n&1&&(o(0,"div",8),p(1,"ngx-skeleton-loader",9),r()),n&2&&(l(),g("theme",Ye(1,bi)))}function Ti(n,t){if(n&1&&(o(0,"div",4),y(1,Pi,2,2,"div",8,Qe),r()),n&2){let s=x(2);l(),E(s.skeletonArray)}}function Ii(n,t){n&1&&(o(0,"div",5)(1,"h1",10),a(2,"404"),r(),o(3,"div",11)(4,"h2",12),a(5," Oops.. "),p(6,"br"),a(7," We couldn't find a tasks list you are looking for. "),r(),o(8,"button",13)(9,"a",14),a(10,"Return Back"),r()()()())}function Oi(n,t){if(n&1&&C(0,ki,2,1)(1,Ti,3,0,"div",4)(2,Ii,11,0,"div",5),n&2){let s=t;v(0,s.data?0:-1),l(),v(1,s.loading?1:-1),l(),v(2,s.error?2:-1)}}var Lt=(()=>{let t=class t{constructor(e,i){this.meetingService=e,this.toastService=i,this.skeletonArray=new Array(10).fill(0),this.meetingsViews=B,this.filter={},this.pagination=mt,this.meetings$=this.meetingService.refetchMeetings$.pipe(Ue([]),S(()=>this.loadMeetings()))}ngOnInit(){this.meetingService.refetchMeetings()}loadMeetings(){let e={size:this.pagination.size,page:this.pagination.page};return this.meetingService.getMeetings(this.filter,e).pipe(Z(i=>{this.pagination.page=i.number,this.pagination.size=i.size,this.pagination.totalElements=i.totalElements,this.pagination.totalPages=i.totalPages}),ze(i=>i.content),T(i=>(this.toastService.open("Failed to get meetings"),_(()=>i))))}onPage(e){this.pagination.size=e.size,this.pagination.page=e.page,this.meetingService.refetchMeetings()}onFilter(e){this.filter=e,this.meetingService.refetchMeetings()}};t.\u0275fac=function(i){return new(i||t)(d($),d(I))},t.\u0275cmp=h({type:t,selectors:[["app-meetings"]],decls:8,vars:6,consts:[[1,"page","meetings"],[3,"filter"],[1,"meetings__content"],[3,"page","pagination"],[1,"meetings__loading"],[1,"meetings__error","page"],[3,"meetings"],[1,"meetings__empty"],[1,"loading-element"],["count","1","appearance","line",3,"theme"],[1,"meetings__error-title"],[1,"meetings__error-content"],[1,"meetings__error-subtitle"],["mat-flat-button","","color","primary","routerLink","/hub/overview"],["routerLink","/hub/overview"]],template:function(i,m){if(i&1&&(o(0,"section",0),p(1,"app-meetings-toolbar"),o(2,"app-meetings-filter",1),u("filter",function(f){return m.onFilter(f)}),r(),o(3,"div",2),C(4,Oi,3,3),k(5,"withLoading"),k(6,"async"),r(),o(7,"app-paginator",3),u("page",function(f){return m.onPage(f)}),r()()),i&2){let c;l(4),v(4,(c=j(6,4,j(5,2,m.meetings$)))?4:-1,c),l(3),g("pagination",m.pagination)}},dependencies:[q,Ke,lt,at,jt,Ft,Rt,Nt,V,St],styles:[".meetings[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.meetings__content[_ngcontent-%COMP%]{flex:1;margin-top:22px}.meetings__empty[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;font-size:14px;font-weight:400;color:#bdbdbd;text-transform:capitalize}.meetings__loading[_ngcontent-%COMP%]{overflow-x:auto;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));grid-template-rows:none}.meetings__error[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;height:100%}.meetings__error-content[_ngcontent-%COMP%]{z-index:10;display:flex;flex-direction:column;align-items:center}.meetings__error-title[_ngcontent-%COMP%]{color:#d8d7d7;font-size:280px;font-weight:600;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5;opacity:.25}@media screen and (max-width: 48em){.meetings__error-title[_ngcontent-%COMP%]{font-size:180px}}.meetings__error-subtitle[_ngcontent-%COMP%]{color:#000;font-size:26px;margin-bottom:26px;text-align:center;line-height:1.4}@media screen and (max-width: 48em){.meetings__error-subtitle[_ngcontent-%COMP%]{font-size:20px}}"],changeDetection:0});let n=t;return n})();var Ai=[{path:"",component:Lt},{path:":meetingId",component:$t}],zt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=oe({type:t}),t.\u0275inj=ne({imports:[Re.forChild(Ai),Re]});let n=t;return n})();var Fi=(()=>{let t=class t extends Et{weekViewHour({date:e}){return new Intl.DateTimeFormat("pt-BR",{hour:"numeric",hour12:!1,minute:"numeric",hourCycle:"h23"}).format(e)}};t.\u0275fac=(()=>{let e;return function(m){return(e||(e=qe(t)))(m||t)}})(),t.\u0275prov=G({token:t,factory:t.\u0275fac});let n=t;return n})(),Xn=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=oe({type:t}),t.\u0275inj=ne({providers:[{provide:yt,useClass:Fi}],imports:[Je,wt,zt,Pt.forRoot({provide:Dt,useFactory:Tt})]});let n=t;return n})();export{Xn as MeetingsModule};
