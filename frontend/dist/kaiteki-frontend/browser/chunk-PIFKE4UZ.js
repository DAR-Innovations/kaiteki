import{a as Z}from"./chunk-G2MQEQ3S.js";import{$ as ie,E as J,Ha as pe,Ja as ce,T as Q,V as h,W as X,X as ee,Y as te,Z as A,b as W,ca as ne,da as oe,ea as re,fa as ae,ga as se,pb as le,v as P}from"./chunk-EPUQ6IPG.js";import{F as q,Fb as l,Gb as L,Ib as B,Jb as N,K,Kb as a,Lb as p,Mb as _,O as $,Tb as U,Vb as u,_ as F,a as E,cc as d,ea as x,ec as v,f as I,fa as b,fb as s,g,gb as z,ja as C,ld as Y,mc as D,nc as S,o as H,pa as V,qa as k,qd as G,vc as y,wc as M,xb as m,zb as f}from"./chunk-TYBYM3PM.js";import"./chunk-REV7FFDQ.js";import"./chunk-MON7YFGF.js";var o=function(e){return e.SUMMARIZE="SUMMARIZE",e.PARAPHRASE="PARAPHRASE",e.KEYWORDS="KEYWORDS",e.CHATBOT="CHATBOT",e.VOICE="VOICE",e}(o||{});var O=(()=>{let t=class t{constructor(i){this.httpClient=i,this.baseURL="/kaizen/v1"}summarizeText(i){return this.httpClient.post(`${this.baseURL}/summarize`,i)}extractKeywords(i){return this.httpClient.post(`${this.baseURL}/keywords`,i)}paraphraseText(i){return this.httpClient.post(`${this.baseURL}/paraphrase`,i)}promptChatbot(i){return this.httpClient.post(`${this.baseURL}/chatbot`,i)}getKaizenResponse(i,n){switch(n){case o.CHATBOT:return this.promptChatbot(i);case o.KEYWORDS:return this.extractKeywords(i);case o.SUMMARIZE:return this.summarizeText(i);case o.PARAPHRASE:return this.paraphraseText(i);default:return}}};t.\u0275fac=function(n){return new(n||t)(C(W))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var me=(()=>{let t=class t{constructor(i){this.kaizenAPIService=i,this.userResponseSubject=new g(null),this.userRequestSubject=new g(null),this.isLoadingSubject=new g(!1),this.request$=this.userRequestSubject.asObservable(),this.response$=this.userResponseSubject.asObservable(),this.isLoading$=this.isLoadingSubject.asObservable()}resetValues(){this.userRequestSubject.next(""),this.userResponseSubject.next(""),this.isLoadingSubject.next(!1)}setRequest(i){this.userRequestSubject.next(i)}setResponse(i){this.userResponseSubject.next(i)}setLoading(i){this.isLoadingSubject.next(i)}};t.\u0275fac=function(n){return new(n||t)(C(O))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var j=e=>({value:e}),he=()=>({height:"200px","border-radius":"8px"});function ge(e,t){e&1&&(a(0,"div",11)(1,"span",13),d(2," Unlock the power of AI with Kaizen. "),p(),a(3,"span",14),d(4," Your questions answered, your tasks automated. "),p()())}function xe(e,t){if(e&1&&(a(0,"div",12)(1,"p",15),d(2,"You"),p(),a(3,"div",16)(4,"p",17),d(5),p()()()),e&2){let r=u();s(5),v(" ",r.value," ")}}function be(e,t){if(e&1&&m(0,ge,5,0,"div",11)(1,xe,6,1,"div",12),e&2){let r=t;l(0,r.value?-1:0),s(),l(1,r.value?1:-1)}}function Ce(e,t){e&1&&_(0,"ngx-skeleton-loader",10),e&2&&f("theme",D(1,he))}function ke(e,t){if(e&1&&(a(0,"div",18)(1,"div",19)(2,"p",20),d(3,"Kaizen"),p(),_(4,"img",21),p(),a(5,"div",22)(6,"p",23),d(7),p()()()),e&2){let r=u(),i=u(3);s(7),v(" ",i.getFormattedResponse(r.value)," ")}}function ze(e,t){e&1&&m(0,ke,8,1,"div",18),e&2&&l(0,t.value?0:-1)}function ve(e,t){if(e&1&&(m(0,be,2,2),y(1,"async"),m(2,Ce,1,2,"ngx-skeleton-loader",10)(3,ze,1,1),y(4,"async")),e&2){let r,i,n=u(2);l(0,(r=S(7,j,M(1,3,n.request$)))?0:-1,r),s(2),l(2,t.value?2:-1),s(),l(3,(i=S(9,j,M(4,5,n.response$)))?3:-1,i)}}function Se(e,t){if(e&1&&(a(0,"div",2)(1,"div",9),m(2,ve,5,11),y(3,"async"),p()()),e&2){let r,i=u();s(2),l(2,(r=S(3,j,M(3,1,i.loading$)))?2:-1,r)}}function ye(e,t){e&1&&(a(0,"div",3),d(1,"Currently under development"),p())}function Me(e,t){if(e&1&&(a(0,"option",6),d(1),p()),e&2){let r=t.$implicit;f("value",r.id),s(),v(" ",r.label," ")}}var ue=(()=>{let t=class t{constructor(i,n,c){this.toastService=i,this.kaizenService=n,this.kaizenAPIService=c,this.destroy$=new I,this.kaizenRequestSubscription=new E,this.response$=this.kaizenService.response$,this.request$=this.kaizenService.request$,this.loading$=this.kaizenService.isLoading$,this.currentMode=o.CHATBOT,this.modeOptions=[{id:o.CHATBOT,label:"Chatbot"},{id:o.SUMMARIZE,label:"Summarize"},{id:o.PARAPHRASE,label:"Paraphrase"},{id:o.KEYWORDS,label:"Extract Keywords"},{id:o.VOICE,label:"Voice Assistant"}],this.form=new te({mode:new A(o.CHATBOT,[h.required]),prompt:new A("",[h.required,h.minLength(2),h.maxLength(4048)])})}ngOnInit(){this.trackFormValueChanges()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.kaizenRequestSubscription.unsubscribe()}trackFormValueChanges(){this.form.valueChanges.pipe(F(this.destroy$)).subscribe(i=>{if(i){let n=i.mode??o.CHATBOT;this.currentMode!==n&&(this.currentMode=n,this.kaizenRequestSubscription.unsubscribe(),this.kaizenService.resetValues())}})}onSubmit(){let{mode:i,prompt:n}=this.form.getRawValue();if(!n||!i){this.toastService.error("Mode or prompt is missing or invalid");return}let c={prompt:n.trim()};this.kaizenService.setRequest(n.trim()),this.kaizenService.setLoading(!0),this.form.patchValue({prompt:"",mode:i});let R=this.kaizenAPIService.getKaizenResponse(c,i);if(!R){this.toastService.error("Mode is not supported");return}this.kaizenRequestSubscription=R.pipe(K(1),q(T=>(this.toastService.error("Failed to get prompt result"),H(()=>T))),$(()=>this.kaizenService.setLoading(!1))).subscribe(T=>{this.kaizenService.setResponse(T.result)})}isVoiceAssistantMode(){return this.currentMode===o.VOICE}getFormattedResponse(i){return this.currentMode===o.CHATBOT?(i.split(`<|assistant|>
`)[1]||"").replace(/(^\n|\n$|\n(?=[0-9]\.|\t))/g,`
`).trimStart():i}};t.\u0275fac=function(n){return new(n||t)(z(Z),z(me),z(O))},t.\u0275cmp=V({type:t,selectors:[["app-kaizen-home"]],decls:12,vars:4,consts:[["value","Kaizen"],[1,"page","kaizen"],[1,"kaizen__messages-wrapper"],[1,"kaizen__voice"],[1,"kaizen__toolbar",3,"formGroup"],["formControlName","mode",1,"kaizen__toolbar-modes"],[3,"value"],["type","text","placeholder","Enter prompt","formControlName","prompt",1,"kaizen__toolbar-input"],["type","submit",1,"kaizen__toolbar-button",3,"click","disabled"],[1,"kaizen__messages"],["count","1","appearance","line",3,"theme"],[1,"kaizen__slogan"],[1,"kaizen__request"],[1,"kaizen__slogan-title"],[1,"kaizen__slogan-subtitle"],[1,"kaizen__request-author"],[1,"kaizen__request-box"],[1,"kaizen__request-box-text"],[1,"kaizen__response"],[1,"kaizen__response-header"],[1,"kaizen__response-author"],["src","/assets/images/icons/kaizen-sparkles.svg","alt","sparkles"],[1,"kaizen__response-box"],[1,"kaizen__response-box-text"]],template:function(n,c){n&1&&(_(0,"app-page-header",0),a(1,"section",1),m(2,Se,4,5,"div",2)(3,ye,2,0,"div",3),a(4,"form",4)(5,"select",5),B(6,Me,2,2,"option",6,L),p(),_(8,"input",7),a(9,"button",8),U("click",function(){return c.onSubmit()}),a(10,"mat-icon"),d(11,"send"),p()()()()),n&2&&(s(2),l(2,c.isVoiceAssistantMode()?-1:2),s(),l(3,c.isVoiceAssistantMode()?3:-1),s(),f("formGroup",c.form),s(2),N(c.modeOptions),s(3),f("disabled",c.form.invalid))},dependencies:[ce,J,ie,ae,se,Q,re,X,ee,ne,oe,pe,Y],styles:[".kaizen[_ngcontent-%COMP%]{height:100%;line-height:1.5rem}.kaizen__messages[_ngcontent-%COMP%]{width:60%;overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;gap:22px}@media screen and (max-width: 48em){.kaizen__messages[_ngcontent-%COMP%]{width:100%}}.kaizen__messages-wrapper[_ngcontent-%COMP%]{height:90%;display:flex;justify-content:center;padding:22px}.kaizen__request-author[_ngcontent-%COMP%]{padding:0 18px}.kaizen__request-box[_ngcontent-%COMP%]{margin-top:8px;padding:12px 18px;border-radius:8px;background:#f5f5f5;border:1px solid #e6eaee}.kaizen__response-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 18px;gap:8px}.kaizen__response-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}.kaizen__response-author[_ngcontent-%COMP%]{width:fit-content;background:#00c6ff;background:-webkit-linear-gradient(to right,#0072ff,#00c6ff);background:linear-gradient(to right,#0072ff,#00c6ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.kaizen__response-box[_ngcontent-%COMP%]{margin-top:8px;padding:12px 18px;border-radius:8px;border:1px solid #e6eaee;background:#eaeaea;background:-webkit-linear-gradient(to left,#f5f5f5,#e8f3ff);background:linear-gradient(to left,#f5f5f5,#e8f3ff)}.kaizen__slogan[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:auto 0;gap:8px;text-align:center;line-height:32px}.kaizen__slogan-title[_ngcontent-%COMP%]{font-size:30px;font-weight:500;background:#00c6ff;background:-webkit-linear-gradient(to right,#0058c3,#00c6ff);background:linear-gradient(to right,#0058c3,#00c6ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.kaizen__slogan-subtitle[_ngcontent-%COMP%]{color:#7f95b0;font-size:18px}.kaizen__toolbar[_ngcontent-%COMP%]{height:10%;margin:auto 0;display:flex;align-items:center;justify-content:space-between;gap:12px}.kaizen__toolbar-modes[_ngcontent-%COMP%]{padding:14px;background:#f1f1f1;border-radius:8px;border-right:14px solid transparent}.kaizen__toolbar-input[_ngcontent-%COMP%]{width:100%;padding:14px 18px;background:#f1f1f1;border-radius:8px}.kaizen__toolbar-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:12px;border-radius:8px;background:#068e44}.kaizen__toolbar-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#fff;transform:rotate(-45deg);margin-right:-4px;margin-top:-4px}"],changeDetection:0});let e=t;return e})();var we=[{path:"",component:ue,title:"Kaizen | Kaiteki"}],fe=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=k({type:t}),t.\u0275inj=b({imports:[P.forChild(we),P]});let e=t;return e})();var Ze=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=k({type:t}),t.\u0275inj=b({imports:[G,le,fe]});let e=t;return e})();export{Ze as KaizenModule};
