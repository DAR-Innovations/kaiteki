import{a as we}from"./chunk-3GLRMIA5.js";import{c as oe}from"./chunk-YT2TPVYA.js";import{a as y}from"./chunk-AT67HQB2.js";import{C as T,E as ae,Ga as _e,Ia as Ce,S as re,U as S,V as se,W as me,X as ce,Y as R,_ as le,ba as pe,ca as de,jb as ke,ka as ue,kb as Me,lb as Te,n as te,na as he,o as ie,oa as fe,pa as be,pb as ye,q as M,r as ne,ra as ge,rb as Se,ua as ve,v as A,va as xe}from"./chunk-TX7ZHAEW.js";import{$ as U,B,D as v,F as $,Fb as x,Ib as q,Jb as Z,Kb as r,Lb as a,Mb as l,Oc as Q,Tb as j,Vb as H,X as K,Y as O,_ as D,_c as X,aa as f,bc as J,cc as m,dc as N,ea as G,f as V,fa as C,fb as o,g as z,gb as p,ja as I,ld as Y,mc as u,n as w,ob as W,pa as g,qa as k,qd as ee,s as P,vc as L,wc as E,xb as F,z as b,zb as s}from"./chunk-SMBTFBOT.js";var at=(()=>{let t=class t{constructor(n,i){this.dialogRef=n,this.toastService=i,this.form=new ce({name:new R("",[S.required,S.maxLength(255)]),description:new R("",[S.required])})}onBackClick(){this.dialogRef.close()}onSubmitClick(){let{name:n,description:i}=this.form.getRawValue();if(!n||!i){this.toastService.error("Missing required fields");return}let c={name:n,description:i};this.dialogRef.close(c)}};t.\u0275fac=function(i){return new(i||t)(p(ue),p(y))},t.\u0275cmp=g({type:t,selectors:[["app-create-team-dialog"]],decls:17,vars:2,consts:[["mat-dialog-title","",1,"create-team__title"],["mat-dialog-content",""],[1,"create-team__form",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","name","placeholder","Give us know how to name your team"],["matInput","","formControlName","description","placeholder","Write about your amazing team"],["align","end"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"click","disabled"]],template:function(i,c){i&1&&(r(0,"h1",0),m(1,` Create a new team
`),a(),r(2,"section",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),m(6,"Team Name"),a(),l(7,"input",4),a(),r(8,"mat-form-field",3)(9,"mat-label"),m(10,"Description"),a(),l(11,"input",5),a()()(),r(12,"mat-dialog-actions",6)(13,"button",7),j("click",function(){return c.onBackClick()}),m(14," Back "),a(),r(15,"button",8),j("click",function(){return c.onSubmitClick()}),m(16," Create "),a()()),i&2&&(o(3),s("formGroup",c.form),o(12),s("disabled",c.form.invalid))},dependencies:[T,xe,ve,ge,he,be,fe,le,re,se,me,pe,de],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.create-team__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.create-team__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:22px}"],changeDetection:0});let e=t;return e})();var Pe=(()=>{let t=class t{constructor(n,i){this.document=n,this.ngZone=i,this.activeTime=0,this.isVisible=!0,this.activeTimeSubject=new z(0)}startTracking(){this.ngZone.runOutsideAngular(()=>{b(document,"visibilitychange").pipe(P(()=>this.document.visibilityState==="visible"),K(this.document.visibilityState==="visible"),f(n=>this.isVisible=n)).subscribe(),b(document,"click").pipe(v(()=>this.isVisible),f(()=>this.updateUserActiveTime())).subscribe(),b(document,"keypress").pipe(v(()=>this.isVisible),f(()=>this.updateUserActiveTime())).subscribe(),b(document,"mousemove").pipe(v(()=>this.isVisible),f(()=>this.updateUserActiveTime())).subscribe(),b(document,"scroll").pipe(v(()=>this.isVisible),f(()=>this.updateUserActiveTime())).subscribe(),B(1e4).pipe(U(()=>this.isVisible),f(()=>this.activeTime+=1),P(()=>this.activeTime)).subscribe(n=>{this.activeTimeSubject.next(n)})})}getActiveTime(){return this.activeTimeSubject.asObservable()}resetTimer(){this.activeTime=0}updateUserActiveTime(){this.isVisible&&(this.activeTime=Math.max(this.activeTime,0))}};t.\u0275fac=function(i){return new(i||t)(I(X),I(W))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Re=(e,t)=>t.link,Ve=()=>["teams-sidebar__item-active"];function ze(e,t){if(e&1&&(r(0,"a",2)(1,"div",3)(2,"mat-icon",4),m(3),a(),r(4,"p",5),m(5),a()()()),e&2){let d=t.$implicit;s("routerLink",d.link)("routerLinkActive",u(4,Ve)),o(3),N(d.icon),o(2),N(d.label)}}var Oe=(()=>{let t=class t{constructor(){this.tabs=[{link:"dashboard",label:"Dashboard",icon:"dashboard"},{link:"tasks",label:"Tasks",icon:"task_alt"},{link:"chats",label:"Chats",icon:"chat"},{link:"meetings",label:"Meetings",icon:"videocam"},{link:"posts",label:"Posts",icon:"local_post_office"},{link:"files",label:"Files",icon:"folder"},{link:"members",label:"Members",icon:"person"},{link:"settings",label:"Settings",icon:"settings"}]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["app-teams-navbar"]],decls:5,vars:1,consts:[["tabPanel",""],["mat-tab-nav-bar","","mat-align-tabs","start","mat-stretch-tabs","false",1,"teams-sidebar__wrapper",3,"tabPanel"],["mat-tab-link","",3,"routerLink","routerLinkActive"],[1,"teams-sidebar__item"],[1,"teams-sidebar__item-icon"],[1,"teams-sidebar__item-label"]],template:function(i,c){if(i&1&&(r(0,"div",1),q(1,ze,6,5,"a",2,Re),a(),l(3,"mat-tab-nav-panel",null,0)),i&2){let h=J(4);s("tabPanel",h),o(),Z(c.tabs)}},dependencies:[M,ne,ae,ke,Te,Me],styles:["[_nghost-%COMP%]     .mat-mdc-tab-link-container{overflow-x:auto;padding-bottom:8px}[_nghost-%COMP%]     .mat-mdc-tab-link:not(.mdc-tab--stacked){height:unset}[_nghost-%COMP%]     .mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:none}[_nghost-%COMP%]     .mdc-tab{padding:0}[_nghost-%COMP%]     .mat-mdc-tab-links{display:flex;gap:12px;padding:0}.teams-sidebar__wrapper[_ngcontent-%COMP%]{position:sticky;top:0;width:100%;display:flex;align-items:center;z-index:2;padding:12px 24px 8px;gap:12px;overflow:auto;background-color:#fff;border-bottom:1px solid #eef3f0}@media screen and (max-width: 40em){.teams-sidebar__wrapper[_ngcontent-%COMP%]{padding:12px 12px 0}}.teams-sidebar__item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:14px;cursor:pointer;color:#414141;background-color:#f2f7fa;border-radius:8px;padding:10px 16px}@media screen and (max-width: 40em){.teams-sidebar__item[_ngcontent-%COMP%]{padding:8px 16px}}.teams-sidebar__item-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.teams-sidebar__item-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:#068e44;color:#fff}"],changeDetection:0});let e=t;return e})();var $e=()=>({height:"35px","border-radius":"8px",margin:"20px",width:"250px",flex:"1"}),Ke=()=>({height:"35px","border-radius":"8px",margin:"20px 20px 20px 20px",width:"150px",flex:"1","text-align":"right"}),Ue=()=>({height:"300px","border-radius":"8px",margin:"0 20px 20px 20px ",width:"97%"}),Ge=()=>({height:"50px","border-radius":"8px",margin:"0 20px 20px 20px",width:"97%"}),We=()=>({height:"100px","border-radius":"8px",margin:"0 20px 20px 20px",width:"97%"}),qe=()=>({height:"60px","border-radius":"8px",margin:"0 20px 20px 20px",width:"97%"});function Ze(e,t){if(e&1&&(l(0,"app-page-header",2)(1,"app-teams-navbar"),r(2,"main",3),l(3,"router-outlet"),a()),e&2){let d=H();s("value",d.data.name)}}function He(e,t){e&1&&(r(0,"div",0)(1,"div",4),l(2,"ngx-skeleton-loader",5)(3,"ngx-skeleton-loader",5),a(),l(4,"ngx-skeleton-loader",5)(5,"ngx-skeleton-loader",5)(6,"ngx-skeleton-loader",5)(7,"ngx-skeleton-loader",5),a()),e&2&&(o(2),s("theme",u(6,$e)),o(),s("theme",u(7,Ke)),o(),s("theme",u(8,Ue)),o(),s("theme",u(9,Ge)),o(),s("theme",u(10,We)),o(),s("theme",u(11,qe)))}function Je(e,t){e&1&&(r(0,"div",1)(1,"h1",6),m(2,"404"),a(),r(3,"div",7)(4,"h2",8),m(5," Oops.. "),l(6,"br"),m(7," We couldn't find a team you are looking for. "),a(),r(8,"button",9)(9,"a",10),m(10,"Return Back"),a()()()())}function Qe(e,t){if(e&1&&F(0,Ze,4,1)(1,He,8,12,"div",0)(2,Je,11,0,"div",1),e&2){let d=t;x(0,d.data?0:-1),o(),x(1,d.loading?1:-1),o(),x(2,d.error?2:-1)}}var De=(()=>{let t=class t{constructor(n,i,c,h,Fe,je){this.activatedRoute=n,this.cd=i,this.teamsService=c,this.toastService=h,this.activeScreenTimeService=Fe,this.performanceService=je,this.unsubscribe$=new V,this.team$=this.teamsService.currentTeam$}ngOnInit(){this.activatedRoute.paramMap.pipe(O(n=>{this.activeScreenTimeService.resetTimer();let i=n.get("teamId");if(!i||isNaN(Number(i)))throw new Error("Invalid team ID");return this.teamsService.getTeamById(Number(i))}),$(n=>(this.toastService.open("Failed to get team"),w(n))),D(this.unsubscribe$)).subscribe(n=>{n&&this.teamsService.setCurrentTeam(n),this.cd.markForCheck()}),this.activeScreenTimeService.startTracking(),this.activeScreenTimeService.getActiveTime().pipe(O(n=>n>0?this.performanceService.addMemberScreenTimeMinutes(1):w(n)),D(this.unsubscribe$)).subscribe()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}};t.\u0275fac=function(i){return new(i||t)(p(te),p(Q),p(oe),p(y),p(Pe),p(we))},t.\u0275cmp=g({type:t,selectors:[["app-teams-layout"]],decls:3,vars:5,consts:[[1,"teams__loading","page"],[1,"teams__error","page"],[3,"value"],[1,"container"],[1,"teams__loading-container"],["count","1","appearance","line",1,"custom-skeleton",3,"theme"],[1,"teams__error-title"],[1,"teams__error-content"],[1,"teams__error-subtitle"],["mat-flat-button","","color","primary","routerLink","/hub/overview"],["routerLink","/hub/overview"]],template:function(i,c){if(i&1&&(F(0,Qe,3,3),L(1,"withLoading"),L(2,"async")),i&2){let h;x(0,(h=E(2,3,E(1,1,c.team$)))?0:-1,h)}},dependencies:[ie,M,Ce,T,_e,Oe,Y,ye],styles:[".teams__loading-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]{height:calc(100vh - 133px)}.teams__error[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;height:100%}.teams__error-content[_ngcontent-%COMP%]{z-index:10;display:flex;flex-direction:column;align-items:center}.teams__error-title[_ngcontent-%COMP%]{color:#d8d7d7;font-size:280px;font-weight:600;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5;opacity:.25}@media screen and (max-width: 48em){.teams__error-title[_ngcontent-%COMP%]{font-size:180px}}.teams__error-subtitle[_ngcontent-%COMP%]{color:#000;font-size:26px;margin-bottom:26px;text-align:center;line-height:1.4}@media screen and (max-width: 48em){.teams__error-subtitle[_ngcontent-%COMP%]{font-size:20px}}"],changeDetection:0});let e=t;return e})();var Xe=[{path:"",component:De,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:()=>import("./chunk-XGASLUHX.js").then(e=>e.DashboardModule),title:"Team Dashboard | Kaiteki"},{path:"members",loadChildren:()=>import("./chunk-CDKXT6BJ.js").then(e=>e.MembersModule),title:"Team Members | Kaiteki"},{path:"tasks",loadChildren:()=>import("./chunk-66BLIJ7Y.js").then(e=>e.TasksModule),title:"Team Tasks | Kaiteki"},{path:"posts",loadChildren:()=>import("./chunk-PXW4EC3M.js").then(e=>e.PostsModule),title:"Team Posts | Kaiteki"},{path:"meetings",loadChildren:()=>import("./chunk-LQR3I6DR.js").then(e=>e.MeetingsModule),title:"Team Meetings | Kaiteki"},{path:"chats",loadChildren:()=>import("./chunk-U2ZXINPD.js").then(e=>e.ChatsModule),title:"Team Chats | Kaiteki"},{path:"files",loadChildren:()=>import("./chunk-2GCO3GDV.js").then(e=>e.FilesModule),title:"Team Files | Kaiteki"},{path:"settings",loadChildren:()=>import("./chunk-NCLCAT2Z.js").then(e=>e.SettingsModule),title:"Team Settings | Kaiteki"}]}],Ie=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=k({type:t}),t.\u0275inj=C({imports:[A.forChild(Xe),A]});let e=t;return e})();var It=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=k({type:t}),t.\u0275inj=C({imports:[ee,Ie,Se]});let e=t;return e})();export{at as a,It as b};
