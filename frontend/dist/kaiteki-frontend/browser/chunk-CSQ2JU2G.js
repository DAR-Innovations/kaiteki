import{c as o}from"./chunk-LZVTTR4F.js";import{b as c}from"./chunk-XOZLSJZG.js";import{Y as m,ea as s,ja as a,o as n}from"./chunk-IF3PND7Q.js";var p=(()=>{let r=class r{constructor(e){this.httpClient=e,this.baseUrl="/api/v1/performance"}getMetrics(e){return this.httpClient.get(`${this.baseUrl}/teams/${e}/metrics`)}updateMetrics(e,t){return this.httpClient.put(`${this.baseUrl}/teams/${e}/metrics`,t)}getTeamPerformance(e){return this.httpClient.get(`${this.baseUrl}/teams/${e}`)}getTeamMemberPerformance(e){return this.httpClient.get(`${this.baseUrl}/team-members/${e}`)}getTeamMemberPerformanceByTeam(e){return this.httpClient.get(`${this.baseUrl}/team-members/teams/${e}`)}addMemberScreenTimeMinutes(e,t){return this.httpClient.post(`${this.baseUrl}/team-members/${e}/add/screen-time?minutes=${t}`,{})}getLatestUserPerformance(){return this.httpClient.get(`${this.baseUrl}/users`)}};r.\u0275fac=function(t){return new(t||r)(a(c))},r.\u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();var T=(()=>{let r=class r{constructor(e,t){this.performanceApiService=e,this.teamsService=t}getMetrics(){return this.teamsService.currentTeam$.pipe(m(e=>e?this.performanceApiService.getMetrics(e.id):n(()=>Error("No current team"))))}updateMetrics(e){return this.teamsService.currentTeam$.pipe(m(t=>t?this.performanceApiService.updateMetrics(t.id,e):n(()=>Error("No current team"))))}getTeamPerformance(){return this.teamsService.currentTeam$.pipe(m(e=>e?this.performanceApiService.getTeamPerformance(e.id):n(()=>Error("No current team"))))}getTeamMemberPerformance(e){return this.performanceApiService.getTeamMemberPerformance(e)}getLatestUserPerformance(){return this.performanceApiService.getLatestUserPerformance()}getCurrentTeamMemberPerformance(){return this.teamsService.currentTeamMember$.pipe(m(e=>e?this.getTeamMemberPerformance(e.id):n(()=>Error("No current team member"))))}getTeamMemberPerformanceByTeam(){return this.teamsService.currentTeam$.pipe(m(e=>e?this.performanceApiService.getTeamMemberPerformanceByTeam(e.id):n(()=>Error("No current team"))))}addMemberScreenTimeMinutes(e){return this.teamsService.currentTeamMember$.pipe(m(t=>t?this.performanceApiService.addMemberScreenTimeMinutes(t.id,e):n(()=>Error("No current team member"))))}};r.\u0275fac=function(t){return new(t||r)(a(p),a(o))},r.\u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();export{T as a};
