import './polyfills.server.mjs';
import{a as Te}from"./chunk-6H4HSYQT.mjs";import{b as oe}from"./chunk-FVR5UBZY.mjs";import{a as y}from"./chunk-25DJJPSL.mjs";import{I as ae,K as S,L as re,M as se,N as me,O as R,Q as ce,T as le,U as pe,aa as de,b as T,cb as Ce,da as ue,ea as he,eb as ke,f as ee,fa as fe,g as te,ha as ge,i as M,j as ie,ka as be,la as ve,n as A,t as ne,wa as xe,ya as _e}from"./chunk-UGHUVQZH.mjs";import{$ as U,B,Bb as m,D as v,F as $,Hb as x,Kb as q,Lb as Z,Mb as r,Nb as o,Ob as d,Rc as J,Vb as j,X as K,Xb as H,Y as I,_ as P,aa as h,cd as Q,ea as G,ec as s,f as V,fa as C,fc as N,g as z,hb as a,ib as l,ja as F,n as w,oc as u,pa as b,qa as k,qb as W,rd as X,s as D,wd as Y,xc as E,yc as L,z as g,zb as O}from"./chunk-JAB3SG4D.mjs";var et=(()=>{let t=class t{constructor(n,i){this.dialogRef=n,this.toastService=i,this.form=new me({name:new R("",[S.required,S.maxLength(255)]),description:new R("",[S.required])})}onBackClick(){this.dialogRef.close()}onSubmitClick(){let{name:n,description:i}=this.form.getRawValue();if(!n||!i){this.toastService.error("Missing required fields");return}let c={name:n,description:i};this.dialogRef.close(c)}};t.\u0275fac=function(i){return new(i||t)(l(de),l(y))},t.\u0275cmp=b({type:t,selectors:[["app-create-team-dialog"]],decls:17,vars:2,consts:[["mat-dialog-title","",1,"create-team__title"],["mat-dialog-content",""],[1,"create-team__form",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","name","placeholder","Give us know how to name your team"],["matInput","","formControlName","description","placeholder","Write about your amazing team"],["align","end"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"click","disabled"]],template:function(i,c){i&1&&(r(0,"h1",0),s(1,` Create a new team
`),o(),r(2,"section",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),s(6,"Team Name"),o(),d(7,"input",4),o(),r(8,"mat-form-field",3)(9,"mat-label"),s(10,"Description"),o(),d(11,"input",5),o()()(),r(12,"mat-dialog-actions",6)(13,"button",7),j("click",function(){return c.onBackClick()}),s(14," Back "),o(),r(15,"button",8),j("click",function(){return c.onSubmitClick()}),s(16," Create "),o()()),i&2&&(a(3),m("formGroup",c.form),a(12),m("disabled",c.form.invalid))},dependencies:[T,ve,be,ge,ue,fe,he,ce,ae,re,se,le,pe],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.create-team__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.create-team__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:22px}"],changeDetection:0});let e=t;return e})();var ye=(()=>{let t=class t{constructor(n,i){this.document=n,this.ngZone=i,this.activeTime=0,this.isVisible=!0,this.activeTimeSubject=new z(0)}startTracking(){this.ngZone.runOutsideAngular(()=>{g(document,"visibilitychange").pipe(D(()=>this.document.visibilityState==="visible"),K(this.document.visibilityState==="visible"),h(n=>this.isVisible=n)).subscribe(),g(document,"click").pipe(v(()=>this.isVisible),h(()=>this.updateUserActiveTime())).subscribe(),g(document,"keypress").pipe(v(()=>this.isVisible),h(()=>this.updateUserActiveTime())).subscribe(),g(document,"mousemove").pipe(v(()=>this.isVisible),h(()=>this.updateUserActiveTime())).subscribe(),g(document,"scroll").pipe(v(()=>this.isVisible),h(()=>this.updateUserActiveTime())).subscribe(),B(1e4).pipe(U(()=>this.isVisible),h(()=>this.activeTime+=1),D(()=>this.activeTime)).subscribe(n=>{this.activeTimeSubject.next(n)})})}getActiveTime(){return this.activeTimeSubject.asObservable()}resetTimer(){this.activeTime=0}updateUserActiveTime(){this.isVisible&&(this.activeTime=Math.max(this.activeTime,0))}};t.\u0275fac=function(i){return new(i||t)(F(Q),F(W))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ne=(e,t)=>t.link,Ee=()=>["teams-sidebar__item-active"];function Le(e,t){if(e&1&&(r(0,"a",1)(1,"div",2)(2,"mat-icon",3),s(3),o(),r(4,"p",4),s(5),o()()()),e&2){let p=t.$implicit;m("routerLink",p.link)("routerLinkActive",u(4,Ee)),a(3),N(p.icon),a(2),N(p.label)}}var Me=(()=>{let t=class t{constructor(){this.tabs=[{link:"dashboard",label:"Dashboard",icon:"dashboard"},{link:"tasks",label:"Tasks",icon:"task_alt"},{link:"chats",label:"Chats",icon:"chat"},{link:"meetings",label:"Meetings",icon:"videocam"},{link:"posts",label:"Posts",icon:"local_post_office"},{link:"files",label:"Files",icon:"folder"},{link:"members",label:"Members",icon:"person"},{link:"settings",label:"Settings",icon:"settings"}]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=b({type:t,selectors:[["app-teams-navbar"]],decls:3,vars:0,consts:[[1,"teams-sidebar__wrapper"],[3,"routerLink","routerLinkActive"],[1,"teams-sidebar__item"],[1,"teams-sidebar__item-icon"],[1,"teams-sidebar__item-label"]],template:function(i,c){i&1&&(r(0,"div",0),q(1,Le,6,5,"a",1,Ne),o()),i&2&&(a(),Z(c.tabs))},dependencies:[M,ie,ne],styles:[".teams-sidebar__wrapper[_ngcontent-%COMP%]{position:sticky;top:0;width:100%;display:flex;align-items:center;z-index:2;padding:12px 24px 16px;gap:12px;overflow:auto;background-color:#fff;border-bottom:1px solid #eef3f0}@media screen and (max-width: 40em){.teams-sidebar__wrapper[_ngcontent-%COMP%]{padding:12px 12px 0}}.teams-sidebar__item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:14px;cursor:pointer;color:#000c;background-color:#f1f4f7;border-radius:8px;padding:6px 16px}@media screen and (max-width: 40em){.teams-sidebar__item[_ngcontent-%COMP%]{padding:8px 16px}}.teams-sidebar__item-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.teams-sidebar__item-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:#068e44;color:#fff}"],changeDetection:0});let e=t;return e})();var Re=()=>({height:"35px","border-radius":"8px",margin:"20px",width:"250px",flex:"1"}),Ve=()=>({height:"35px","border-radius":"8px",margin:"20px 20px 20px 20px",width:"150px",flex:"1","text-align":"right"}),ze=()=>({height:"300px","border-radius":"8px",margin:"0 20px 20px 20px ",width:"97%"}),Be=()=>({height:"50px","border-radius":"8px",margin:"0 20px 20px 20px",width:"97%"}),$e=()=>({height:"100px","border-radius":"8px",margin:"0 20px 20px 20px",width:"97%"}),Ke=()=>({height:"60px","border-radius":"8px",margin:"0 20px 20px 20px",width:"97%"});function Ue(e,t){if(e&1&&(d(0,"app-page-header",2)(1,"app-teams-navbar"),r(2,"main",3),d(3,"router-outlet"),o()),e&2){let p=H();m("value",p.data.name)}}function Ge(e,t){e&1&&(r(0,"div",0)(1,"div",4),d(2,"ngx-skeleton-loader",5)(3,"ngx-skeleton-loader",5),o(),d(4,"ngx-skeleton-loader",5)(5,"ngx-skeleton-loader",5)(6,"ngx-skeleton-loader",5)(7,"ngx-skeleton-loader",5),o()),e&2&&(a(2),m("theme",u(6,Re)),a(),m("theme",u(7,Ve)),a(),m("theme",u(8,ze)),a(),m("theme",u(9,Be)),a(),m("theme",u(10,$e)),a(),m("theme",u(11,Ke)))}function We(e,t){e&1&&(r(0,"div",1)(1,"h1",6),s(2,"404"),o(),r(3,"div",7)(4,"h2",8),s(5," Oops.. "),d(6,"br"),s(7," We couldn't find a team you are looking for. "),o(),r(8,"button",9)(9,"a",10),s(10,"Return Back"),o()()()())}function qe(e,t){if(e&1&&O(0,Ue,4,1)(1,Ge,8,12,"div",0)(2,We,11,0,"div",1),e&2){let p=t;x(0,p.data?0:-1),a(),x(1,p.loading?1:-1),a(),x(2,p.error?2:-1)}}var Se=(()=>{let t=class t{constructor(n,i,c,f,De,Ie){this.activatedRoute=n,this.cd=i,this.teamsService=c,this.toastService=f,this.activeScreenTimeService=De,this.performanceService=Ie,this.unsubscribe$=new V,this.team$=this.teamsService.currentTeam$}ngOnInit(){this.activatedRoute.paramMap.pipe(I(n=>{this.activeScreenTimeService.resetTimer();let i=n.get("teamId");if(!i||isNaN(Number(i)))throw new Error("Invalid team ID");return this.teamsService.getTeamById(Number(i))}),$(n=>(this.toastService.open("Failed to get team"),w(n))),P(this.unsubscribe$)).subscribe(n=>{n&&this.teamsService.setCurrentTeam(n),this.cd.markForCheck()}),this.activeScreenTimeService.startTracking(),this.activeScreenTimeService.getActiveTime().pipe(I(n=>n>0?this.performanceService.addMemberScreenTimeMinutes(1):w(n)),P(this.unsubscribe$)).subscribe()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}};t.\u0275fac=function(i){return new(i||t)(l(ee),l(J),l(oe),l(y),l(ye),l(Te))},t.\u0275cmp=b({type:t,selectors:[["app-teams-layout"]],decls:3,vars:5,consts:[[1,"teams__loading","page"],[1,"teams__error","page"],[3,"value"],[1,"container"],[1,"teams__loading-container"],["count","1","appearance","line",1,"custom-skeleton",3,"theme"],[1,"teams__error-title"],[1,"teams__error-content"],[1,"teams__error-subtitle"],["mat-flat-button","","color","primary","routerLink","/hub/overview"],["routerLink","/hub/overview"]],template:function(i,c){if(i&1&&(O(0,qe,3,3),E(1,"withLoading"),E(2,"async")),i&2){let f;x(0,(f=L(2,3,L(1,1,c.team$)))?0:-1,f)}},dependencies:[te,M,_e,T,xe,Me,X,Ce],styles:[".teams__loading-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]{height:calc(100vh - 133px)}.teams__error[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;height:100%}.teams__error-content[_ngcontent-%COMP%]{z-index:10;display:flex;flex-direction:column;align-items:center}.teams__error-title[_ngcontent-%COMP%]{color:#d8d7d7;font-size:280px;font-weight:600;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5;opacity:.25}@media screen and (max-width: 48em){.teams__error-title[_ngcontent-%COMP%]{font-size:180px}}.teams__error-subtitle[_ngcontent-%COMP%]{color:#000;font-size:26px;margin-bottom:26px;text-align:center;line-height:1.4}@media screen and (max-width: 48em){.teams__error-subtitle[_ngcontent-%COMP%]{font-size:20px}}"],changeDetection:0});let e=t;return e})();var Ze=[{path:"",component:Se,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:()=>import("./chunk-DHYLI3IF.mjs").then(e=>e.DashboardModule),title:"Team Dashboard | Kaiteki"},{path:"members",loadChildren:()=>import("./chunk-MPTAMDSL.mjs").then(e=>e.MembersModule),title:"Team Members | Kaiteki"},{path:"tasks",loadChildren:()=>import("./chunk-OGW5QFXE.mjs").then(e=>e.TasksModule),title:"Team Tasks | Kaiteki"},{path:"posts",loadChildren:()=>import("./chunk-2PHMUYEK.mjs").then(e=>e.PostsModule),title:"Team Posts | Kaiteki"},{path:"meetings",loadChildren:()=>import("./chunk-IZ3WBCIT.mjs").then(e=>e.MeetingsModule),title:"Team Meetings | Kaiteki"},{path:"chats",loadChildren:()=>import("./chunk-A24WJVIF.mjs").then(e=>e.ChatsModule),title:"Team Chats | Kaiteki"},{path:"files",loadChildren:()=>import("./chunk-YWMOZ2LL.mjs").then(e=>e.FilesModule),title:"Team Files | Kaiteki"},{path:"settings",loadChildren:()=>import("./chunk-6QHG4YWF.mjs").then(e=>e.SettingsModule),title:"Team Settings | Kaiteki"}]}],we=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=k({type:t}),t.\u0275inj=C({imports:[A.forChild(Ze),A]});let e=t;return e})();var St=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=k({type:t}),t.\u0275inj=C({imports:[Y,we,ke]});let e=t;return e})();export{et as a,St as b};
