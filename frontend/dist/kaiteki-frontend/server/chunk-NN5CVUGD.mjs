import './polyfills.server.mjs';
import{A as Wn,Aa as S,Ab as pe,Ac as we,B as Fn,Bb as m,Bc as oe,C as le,Cb as He,D as ne,Da as $n,Db as re,Fa as Yn,Fd as Qn,Gd as Jt,H as zn,Ja as ie,Jd as Qt,K as Me,Ka as H,Kd as en,Mb as x,Md as tn,N as Rn,Nb as O,Nc as Je,Ob as X,Pa as jn,Q as An,Rc as Zt,S as Ke,Sb as Q,U as de,Vb as N,X as ut,Xb as h,Y as Bn,Z as Ln,_ as ce,aa as Pn,c as Ce,cd as Qe,db as mt,dc as U,ea as Te,ec as ye,f as J,fa as fe,fc as Ze,g as On,gc as Ut,h as In,ha as Nn,hb as w,ib as C,ja as qe,kd as $,l as Xt,mb as Xn,md as De,n as Hn,nd as Ee,oa as Oe,ob as ge,oc as ee,od as We,pa as te,pc as Ve,pd as et,qa as ve,qb as _e,qc as K,qd as ae,ra as ue,rc as ft,rd as qn,s as j,sa as pt,sb as ht,sc as Un,t as Vn,tc as Gt,td as vt,u as Ue,uc as Gn,vc as Kn,vd as Zn,wc as Kt,wd as tt,xc as P,ya as Ie,yc as qt,yd as Jn,z as Ge,za as k,zb as W,zc as me}from"./chunk-JAB3SG4D.mjs";import{a as Z,b as ct,d as Mn}from"./chunk-FME56UVT.mjs";var Er=function(){function t(){}return t.prototype.getAllStyles=function(i){return window.getComputedStyle(i)},t.prototype.getStyle=function(i,e){return this.getAllStyles(i)[e]},t.prototype.isStaticPositioned=function(i){return(this.getStyle(i,"position")||"static")==="static"},t.prototype.offsetParent=function(i){for(var e=i.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(i,e){e===void 0&&(e=!0);var n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if(this.getStyle(i,"position")==="fixed")n=i.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var o=this.offsetParent(i);n=this.offset(i,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(i,e){e===void 0&&(e=!0);var n=i.getBoundingClientRect(),r={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},o={height:n.height||i.offsetHeight,width:n.width||i.offsetWidth,top:n.top+r.top,bottom:n.bottom+r.top,left:n.left+r.left,right:n.right+r.left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(i,e,n,r){var o=n.split("-"),a=o[0],s=a===void 0?"top":a,d=o[1],l=d===void 0?"center":d,c=r?this.offset(i,!1):this.position(i,!1),p=this.getAllStyles(e),D=parseFloat(p.marginTop),u=parseFloat(p.marginBottom),y=parseFloat(p.marginLeft),E=parseFloat(p.marginRight),_=0,b=0;switch(s){case"top":_=c.top-(e.offsetHeight+D+u);break;case"bottom":_=c.top+c.height;break;case"left":b=c.left-(e.offsetWidth+y+E);break;case"right":b=c.left+c.width;break}switch(l){case"top":_=c.top;break;case"bottom":_=c.top+c.height-e.offsetHeight;break;case"left":b=c.left;break;case"right":b=c.left+c.width-e.offsetWidth;break;case"center":s==="top"||s==="bottom"?b=c.left+c.width/2-e.offsetWidth/2:_=c.top+c.height/2-e.offsetHeight/2;break}e.style.transform="translate("+Math.round(b)+"px, "+Math.round(_)+"px)";var M=e.getBoundingClientRect(),T=document.documentElement,V=window.innerHeight||T.clientHeight,R=window.innerWidth||T.clientWidth;return M.left>=0&&M.top>=0&&M.right<=R&&M.bottom<=V},t}();var kr=/\s+/,ei=new Er;function nn(t,i,e,n,r){var o=Array.isArray(e)?e:e.split(kr),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=i.classList,d=function(_){var b=_.split("-"),M=b[0],T=b[1],V=[];return r&&(V.push(r+"-"+M),T&&V.push(r+"-"+M+"-"+T),V.forEach(function(R){s.add(R)})),V};r&&a.forEach(function(_){s.remove(r+"-"+_)});var l=o.findIndex(function(_){return _==="auto"});l>=0&&a.forEach(function(_){o.find(function(b){return b.search("^"+_)!==-1})==null&&o.splice(l++,1,_)});var c=i.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";for(var p,D=!1,u=0,y=o;u<y.length;u++){p=y[u];var E=d(p);if(ei.positionElements(t,i,p,n)){D=!0;break}r&&E.forEach(function(_){s.remove(_)})}return D||(p=o[0],d(p),ei.positionElements(t,i,p,n)),p}var he=function(){return he=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++){i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},he.apply(this,arguments)},rn=function(t,i,e){if(e||arguments.length===2)for(var n=0,r=i.length,o;n<r;n++)(o||!(n in i))&&(o||(o=Array.prototype.slice.call(i,0,n)),o[n]=i[n]);return t.concat(o||Array.prototype.slice.call(i))},wt=function(t){return t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",t}(wt||{}),Sr=[wt.SUNDAY,wt.SATURDAY],on=7,an=24,gt=60,ke=60*60*24;function ti(t,i){var e=i.startDate,n=i.seconds,r=i.excluded,o=i.precision;if(r.length<1)return 0;for(var a=t.addSeconds,s=t.getDay,d=t.addDays,l=a(e,n-1),c=s(e),p=s(l),D=0,u=e,y=function(){var E=s(u);r.some(function(_){return _===E})&&(D+=br(t,{dayStart:c,dayEnd:p,day:E,precision:o,startDate:e,endDate:l})),u=d(u,1)};u<l;)y();return D}function br(t,i){var e=i.precision,n=i.day,r=i.dayStart,o=i.dayEnd,a=i.startDate,s=i.endDate,d=t.differenceInSeconds,l=t.endOfDay,c=t.startOfDay;if(e==="minutes"){if(n===r)return d(l(a),a)+1;if(n===o)return d(s,c(s))+1}return ke}function xr(t,i){var e=i.event,n=i.offset,r=i.startOfWeekDate,o=i.excluded,a=i.precision,s=i.totalDaysInView,d=t.max,l=t.differenceInSeconds,c=t.addDays,p=t.endOfDay,D=t.differenceInDays,u=ke,y=d([e.start,r]);if(e.end)switch(a){case"minutes":u=l(e.end,y);break;default:u=D(c(p(e.end),1),y)*ke;break}var E=n*ke,_=E+u,b=s*ke;return _>b&&(u=b-E),u-=ti(t,{startDate:y,seconds:u,excluded:o,precision:a}),u/ke}function Mr(t,i){var e=i.event,n=i.startOfWeek,r=i.excluded,o=i.precision,a=t.differenceInDays,s=t.startOfDay,d=t.differenceInSeconds;if(e.start<n)return 0;var l=0;switch(o){case"days":l=a(s(e.start),n)*ke;break;case"minutes":l=d(e.start,n);break}return l-=ti(t,{startDate:n,seconds:l,excluded:r,precision:o}),Math.abs(l/ke)}function Or(t,i){var e=i.event,n=i.periodStart,r=i.periodEnd,o=t.isSameSecond,a=e.start,s=e.end||e.start;return!!(a>n&&a<r||s>n&&s<r||a<n&&s>r||o(a,n)||o(a,r)||o(s,n)||o(s,r))}function nt(t,i){var e=i.events,n=i.periodStart,r=i.periodEnd;return e.filter(function(o){return Or(t,{event:o,periodStart:n,periodEnd:r})})}function ni(t,i){var e=i.date,n=i.weekendDays,r=n===void 0?Sr:n,o=t.startOfDay,a=t.isSameDay,s=t.getDay,d=o(new Date),l=s(e);return{date:e,day:l,isPast:e<d,isToday:a(e,d),isFuture:e>d,isWeekend:r.indexOf(l)>-1}}function Ct(t,i){for(var e=i.viewDate,n=i.weekStartsOn,r=i.excluded,o=r===void 0?[]:r,a=i.weekendDays,s=i.viewStart,d=s===void 0?t.startOfWeek(e,{weekStartsOn:n}):s,l=i.viewEnd,c=l===void 0?t.addDays(d,on):l,p=t.addDays,D=t.getDay,u=[],y=d;y<c;)o.some(function(E){return D(y)===E})||u.push(ni(t,{date:y,weekendDays:a})),y=p(y,1);return u}function Ir(t,i){for(var e=i.date1,n=i.date2,r=i.excluded,o=e,a=0;o<n;)r.indexOf(t.getDay(o))===-1&&a++,o=t.addDays(o,1);return a}function Hr(t,i){var e=i.events,n=e===void 0?[]:e,r=i.excluded,o=r===void 0?[]:r,a=i.precision,s=a===void 0?"days":a,d=i.absolutePositionedEvents,l=d===void 0?!1:d,c=i.viewStart,p=i.viewEnd;c=t.startOfDay(c),p=t.endOfDay(p);var D=t.differenceInSeconds,u=t.differenceInDays,y=Ir(t,{date1:c,date2:p,excluded:o}),E=u(p,c)+1,_=n.filter(function(T){return T.allDay}).map(function(T){var V=Mr(t,{event:T,startOfWeek:c,excluded:o,precision:s}),R=xr(t,{event:T,offset:V,startOfWeekDate:c,excluded:o,precision:s,totalDaysInView:E});return{event:T,offset:V,span:R}}).filter(function(T){return T.offset<y}).filter(function(T){return T.span>0}).map(function(T){return{event:T.event,offset:T.offset,span:T.span,startsBeforeWeek:T.event.start<c,endsAfterWeek:(T.event.end||T.event.start)>p}}).sort(function(T,V){var R=D(T.event.start,V.event.start);return R===0?D(V.event.end||V.event.start,T.event.end||T.event.start):R}),b=[],M=[];return _.forEach(function(T,V){if(M.indexOf(T)===-1){M.push(T);var R=T.span+T.offset,B=_.slice(V+1).filter(function(I){if(I.offset>=R&&R+I.span<=E&&M.indexOf(I)===-1){var F=I.offset-R;return l||(I.offset=F),R+=I.span+F,M.push(I),!0}}),Y=rn([T],B,!0),z=Y.filter(function(I){return I.event.id}).map(function(I){return I.event.id}).join("-");b.push(he({row:Y},z?{id:z}:{}))}}),b}function Vr(t,i){var e=i.events,n=i.viewDate,r=i.hourSegments,o=i.hourDuration,a=i.dayStart,s=i.dayEnd,d=i.weekStartsOn,l=i.excluded,c=i.weekendDays,p=i.segmentHeight,D=i.viewStart,u=i.viewEnd,y=i.minimumEventHeight,E=Fr(t,{viewDate:n,hourSegments:r,hourDuration:o,dayStart:a,dayEnd:s}),_=Ct(t,{viewDate:n,weekStartsOn:d,excluded:l,weekendDays:c,viewStart:D,viewEnd:u}),b=t.setHours,M=t.setMinutes,T=t.getHours,V=t.getMinutes;return _.map(function(R){var B=Wr(t,{events:e,viewDate:R.date,hourSegments:r,dayStart:a,dayEnd:s,segmentHeight:p,eventWidth:1,hourDuration:o,minimumEventHeight:y}),Y=E.map(function(F){var v=F.segments.map(function(f){var L=M(b(R.date,T(f.date)),V(f.date));return he(he({},f),{date:L})});return he(he({},F),{segments:v})});function z(F,v){var f=Math.max.apply(Math,v.map(function(A){return A.left+1})),L=F.filter(function(A){return A.left>=f}).filter(function(A){return yt(v,A.top,A.top+A.height).length>0});return L.length>0?z(F,L):f}var I=B.events.map(function(F){var v=z(B.events,yt(B.events,F.top,F.top+F.height)),f=100/v;return he(he({},F),{left:F.left*f,width:f})});return{hours:Y,date:R.date,events:I.map(function(F){var v=yt(I.filter(function(f){return f.left>F.left}),F.top,F.top+F.height);return v.length>0?he(he({},F),{width:Math.min.apply(Math,v.map(function(f){return f.left}))-F.left}):F})}})}function ii(t,i){var e=i.events,n=e===void 0?[]:e,r=i.viewDate,o=i.weekStartsOn,a=i.excluded,s=a===void 0?[]:a,d=i.precision,l=d===void 0?"days":d,c=i.absolutePositionedEvents,p=c===void 0?!1:c,D=i.hourSegments,u=i.hourDuration,y=i.dayStart,E=i.dayEnd,_=i.weekendDays,b=i.segmentHeight,M=i.minimumEventHeight,T=i.viewStart,V=T===void 0?t.startOfWeek(r,{weekStartsOn:o}):T,R=i.viewEnd,B=R===void 0?t.endOfWeek(r,{weekStartsOn:o}):R;n||(n=[]);var Y=t.startOfDay,z=t.endOfDay;V=Y(V),B=z(B);var I=nt(t,{events:n,periodStart:V,periodEnd:B}),F=Ct(t,{viewDate:r,weekStartsOn:o,excluded:s,weekendDays:_,viewStart:V,viewEnd:B});return{allDayEventRows:Hr(t,{events:I,excluded:s,precision:l,absolutePositionedEvents:p,viewStart:V,viewEnd:B}),period:{events:I,start:F[0].date,end:z(F[F.length-1].date)},hourColumns:Vr(t,{events:n,viewDate:r,hourSegments:D,hourDuration:u,dayStart:y,dayEnd:E,weekStartsOn:o,excluded:s,weekendDays:_,segmentHeight:b,viewStart:V,viewEnd:B,minimumEventHeight:M})}}function ri(t,i){var e=i.events,n=e===void 0?[]:e,r=i.viewDate,o=i.weekStartsOn,a=i.excluded,s=a===void 0?[]:a,d=i.viewStart,l=d===void 0?t.startOfMonth(r):d,c=i.viewEnd,p=c===void 0?t.endOfMonth(r):c,D=i.weekendDays;n||(n=[]);for(var u=t.startOfWeek,y=t.endOfWeek,E=t.differenceInDays,_=t.startOfDay,b=t.addHours,M=t.endOfDay,T=t.isSameMonth,V=t.getDay,R=u(l,{weekStartsOn:o}),B=y(p,{weekStartsOn:o}),Y=nt(t,{events:n,periodStart:R,periodEnd:B}),z=[],I,F=function($t){var q;if(I?(q=_(b(I,an)),I.getTime()===q.getTime()&&(q=_(b(I,an+1))),I=q):q=I=R,!s.some(function(Yt){return V(q)===Yt})){var Pe=ni(t,{date:q,weekendDays:D}),se=nt(t,{events:Y,periodStart:_(q),periodEnd:M(q)});Pe.inMonth=T(q,r),Pe.events=se,Pe.badgeTotal=se.length,z.push(Pe)}},v=0;v<E(B,R)+1;v++)F(v);var f=[],L=on-s.length;if(L<on)for(var v=0;v<z.length;v+=L){var A=z.slice(v,v+L),Pt=A.some(function(q){return l<=q.date&&q.date<p});Pt&&(f=rn(rn([],f,!0),A,!0))}else f=z;for(var Nt=Math.floor(f.length/L),dt=[],v=0;v<Nt;v++)dt.push(v*L);return{rowOffsets:dt,totalDaysVisibleInWeek:L,days:f,period:{start:f[0].date,end:M(f[f.length-1].date),events:Y}}}function yt(t,i,e){return t.filter(function(n){var r=n.top,o=n.top+n.height;return i<o&&o<e||i<r&&r<e?!0:r<=i&&e<=o})}function Wr(t,i){var e=i.events,n=i.viewDate,r=i.hourSegments,o=i.dayStart,a=i.dayEnd,s=i.eventWidth,d=i.segmentHeight,l=i.hourDuration,c=i.minimumEventHeight,p=t.setMinutes,D=t.setHours,u=t.startOfDay,y=t.startOfMinute,E=t.endOfDay,_=t.differenceInMinutes,b=p(D(u(n),Dt(o.hour)),_t(o.minute)),M=p(D(y(E(n)),Dt(a.hour)),_t(a.minute));M.setSeconds(59,999);var T=[],V=nt(t,{events:e.filter(function(z){return!z.allDay}),periodStart:b,periodEnd:M}),R=V.sort(function(z,I){return z.start.valueOf()-I.start.valueOf()}).map(function(z){var I=z.start,F=z.end||I,v=I<b,f=F>M,L=r*d/(l||gt),A=0;if(I>b){var Pt=t.getTimezoneOffset(I),Nt=t.getTimezoneOffset(b),dt=Nt-Pt;A+=_(I,b)+dt}A*=L,A=Math.floor(A);var $t=v?b:I,q=f?M:F,Pe=t.getTimezoneOffset($t)-t.getTimezoneOffset(q),se=_(q,$t)+Pe;z.end?se*=L:se=d,c&&se<c&&(se=c),se=Math.floor(se);for(var Yt=A+se,Cr=yt(T,A,Yt),jt=0;Cr.some(function(Tr){return Tr.left===jt});)jt+=s;var xn={event:z,height:se,width:s,top:A,left:jt,startsBeforeDay:v,endsAfterDay:f};return T.push(xn),xn}),B=Math.max.apply(Math,R.map(function(z){return z.left+z.width})),Y=nt(t,{events:e.filter(function(z){return z.allDay}),periodStart:u(b),periodEnd:E(M)});return{events:R,width:B,allDayEvents:Y,period:{events:V,start:b,end:M}}}function Dt(t){return Math.max(Math.min(23,t),0)}function _t(t){return Math.max(Math.min(59,t),0)}function Fr(t,i){var e=i.viewDate,n=i.hourSegments,r=i.hourDuration,o=i.dayStart,a=i.dayEnd,s=t.setMinutes,d=t.setHours,l=t.startOfDay,c=t.startOfMinute,p=t.endOfDay,D=t.addMinutes,u=t.addDays,y=[],E=s(d(l(e),Dt(o.hour)),_t(o.minute)),_=s(d(c(p(e)),Dt(a.hour)),_t(a.minute)),b=(r||gt)/n,M=l(e),T=p(e),V=function(F){return F};t.getTimezoneOffset(M)!==t.getTimezoneOffset(T)&&(M=u(M,1),E=u(E,1),_=u(_,1),V=function(F){return u(F,-1)});for(var R=r?an*60/r:gt,B=0;B<R;B++){for(var Y=[],z=0;z<n;z++){var I=D(D(E,B*(r||gt)),z*b);I>=E&&I<_&&Y.push({date:V(I),displayDate:I,isStart:z===0})}Y.length>0&&y.push({segments:Y})}return y}var Ne=function(t){return t.NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`",t}(Ne||{});function oi(t,i){var e=!0;function n(r,o){i(r,o),e=!1}return Array.isArray(t)?(t.forEach(function(r){r.start?r.start instanceof Date||n(Ne.StartPropertyNotDate,r):n(Ne.StartPropertyMissing,r),r.end&&(r.end instanceof Date||n(Ne.EndPropertyNotDate,r),r.start>r.end&&n(Ne.EndsBeforeStart,r))}),e):(i(Ne.NotArray,t),!1)}function zr(t,i){return typeof t>"u"?typeof i>"u"?t:i:t}function cn(t,i){return t=zr(t,i),typeof t=="function"?function(){for(var n=arguments,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=n[a];return!!t.apply(this,o)}:t?function(){return!0}:function(){return!1}}var sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol?"symbol":typeof t},si=function(t){return t!=null&&(typeof t>"u"?"undefined":sn(t))==="object"&&t.nodeType===1&&sn(t.style)==="object"&&sn(t.ownerDocument)==="object"};function li(t,i){if(i=mn(i,!0),!si(i))return-1;for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1}function un(t,i){return li(t,i)!==-1}function Rr(t,i){for(var e=0;e<i.length;e++)un(t,i[e])||t.push(i[e]);return i}function Ar(t){for(var i=arguments,e=[],n=arguments.length-1;n-- >0;)e[n]=i[n+1];return e=e.map(mn),Rr(t,e)}function Br(t){for(var i=arguments,e=[],n=arguments.length-1;n-- >0;)e[n]=i[n+1];return e.map(mn).reduce(function(r,o){var a=li(t,o);return a!==-1?r.concat(t.splice(a,1)):r},[])}function mn(t,i){if(typeof t=="string")try{return document.querySelector(t)}catch(e){throw e}if(!si(t)&&!i)throw new TypeError(t+" is not a DOM element.");return t}function Lr(t,i){i=i||{};var e=cn(i.allowUpdate,!0);return function(r){if(r=r||window.event,t.target=r.target||r.srcElement||r.originalTarget,t.element=this,t.type=r.type,!!e(r)){if(r.targetTouches)t.x=r.targetTouches[0].clientX,t.y=r.targetTouches[0].clientY,t.pageX=r.targetTouches[0].pageX,t.pageY=r.targetTouches[0].pageY,t.screenX=r.targetTouches[0].screenX,t.screenY=r.targetTouches[0].screenY;else{if(r.pageX===null&&r.clientX!==null){var o=r.target&&r.target.ownerDocument||document,a=o.documentElement,s=o.body;t.pageX=r.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),t.pageY=r.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}else t.pageX=r.pageX,t.pageY=r.pageY;t.x=r.clientX,t.y=r.clientY,t.screenX=r.screenX,t.screenY=r.screenY}t.clientX=t.x,t.clientY=t.y}}}function Pr(){var t={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},t);var i={};return Object.defineProperties(i,t),i}function di(t){if(t===window)return Pr();try{var i=t.getBoundingClientRect();return i.x===void 0&&(i.x=i.left,i.y=i.top),i}catch{throw new TypeError("Can't call getBoundingClientRect on "+t)}}function Nr(t,i){var e=di(i);return t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right}var pn=void 0;typeof Object.create!="function"?pn=function(t){var i=function(){};return function(e,n){if(e!==Object(e)&&e!==null)throw TypeError("Argument must be an object, or null");i.prototype=e||{};var r=new i;return i.prototype=null,n!==t&&Object.defineProperties(r,n),e===null&&(r.__proto__=null),r}}():pn=Object.create;var $r=pn,Fe=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Yr(t){var i={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};t!==void 0&&t.addEventListener("mousemove",e);function e(o){for(var a=0;a<Fe.length;a++)i[Fe[a]]=o[Fe[a]]}var n=function(){if(MouseEvent)return function(a,s,d){var l=new MouseEvent("mousemove",ln(i,s));return dn(l,d),a.dispatchEvent(l)};if(typeof document.createEvent=="function")return function(a,s,d){var l=ln(i,s),c=document.createEvent("MouseEvents");return c.initMouseEvent("mousemove",!0,!0,window,0,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget),dn(c,d),a.dispatchEvent(c)};if(typeof document.createEventObject=="function")return function(a,s,d){var l=document.createEventObject(),c=ln(i,s);for(var p in c)l[p]=c[p];return dn(l,d),a.dispatchEvent(l)}}();function r(){t&&t.removeEventListener("mousemove",e,!1),i=null}return{destroy:r,dispatch:n}}function ln(t,i){i=i||{};for(var e=$r(t),n=0;n<Fe.length;n++)i[Fe[n]]!==void 0&&(e[Fe[n]]=i[Fe[n]]);return e}function dn(t,i){console.log("data ",i),t.data=i||{},t.dispatched="mousemove"}var rt=["webkit","moz","ms","o"],it=function(){if(typeof window>"u")return function(){};for(var t=0,i=rt.length;t<i&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[rt[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(n){var r=new Date().getTime(),o=Math.max(0,16-r-e),a=window.setTimeout(function(){return n(r+o)},o);return e=r+o,a}}return window.requestAnimationFrame.bind(window)}(),$e=function(){if(typeof window>"u")return function(){};for(var t=0,i=rt.length;t<i&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[rt[t]+"CancelAnimationFrame"]||window[rt[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function jr(t,i){i===void 0&&(i={});var e=this,n=4,r=!1;if(typeof i.margin!="object"){var o=i.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=i.margin;this.scrollWhenOutside=i.scrollWhenOutside||!1;var a={},s=Lr(a),d=Yr(),l=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(i.maxSpeed)||(n=i.maxSpeed),typeof n!="object"&&(n={left:n,right:n,top:n,bottom:n}),this.autoScroll=cn(i.autoScroll),this.syncMove=cn(i.syncMove,!1),this.destroy=function(v){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",E,!1),window.removeEventListener("touchstart",E,!1),window.removeEventListener("mouseup",_,!1),window.removeEventListener("touchend",_,!1),window.removeEventListener("pointerup",_,!1),window.removeEventListener("mouseleave",M,!1),window.removeEventListener("mousemove",R,!1),window.removeEventListener("touchmove",R,!1),window.removeEventListener("scroll",y,!0),t=[],v&&b()},this.add=function(){for(var v=[],f=arguments.length;f--;)v[f]=arguments[f];return Ar.apply(void 0,[t].concat(v)),this},this.remove=function(){for(var v=[],f=arguments.length;f--;)v[f]=arguments[f];return Br.apply(void 0,[t].concat(v))};var c=null,p;Object.prototype.toString.call(t)!=="[object Array]"&&(t=[t]),function(v){t=[],v.forEach(function(f){f===window?c=window:e.add(f)})}(t),Object.defineProperties(this,{down:{get:function(){return l}},maxSpeed:{get:function(){return n}},point:{get:function(){return a}},scrolling:{get:function(){return r}}});var D=null,u;window.addEventListener("mousedown",E,!1),window.addEventListener("touchstart",E,!1),window.addEventListener("mouseup",_,!1),window.addEventListener("touchend",_,!1),window.addEventListener("pointerup",_,!1),window.addEventListener("mousemove",R,!1),window.addEventListener("touchmove",R,!1),window.addEventListener("mouseleave",M,!1),window.addEventListener("scroll",y,!0);function y(v){for(var f=0;f<t.length;f++)if(t[f]===v.target){r=!0;break}r&&it(function(){return r=!1})}function E(){l=!0}function _(){l=!1,b()}function b(){$e(u),$e(p)}function M(){l=!1}function T(v){if(!v)return null;if(D===v||un(t,v))return v;for(;v=v.parentNode;)if(un(t,v))return v;return null}function V(){for(var v=null,f=0;f<t.length;f++)ai(a,t[f])&&(v=t[f]);return v}function R(v){if(e.autoScroll()&&!v.dispatched){var f=v.target,L=document.body;D&&!ai(a,D)&&(e.scrollWhenOutside||(D=null)),f&&f.parentNode===L?f=V():(f=T(f),f||(f=V())),f&&f!==D&&(D=f),c&&($e(p),p=it(B)),D&&($e(u),u=it(Y))}}function B(){z(c),$e(p),p=it(B)}function Y(){D&&(z(D),$e(u),u=it(Y))}function z(v){var f=di(v),L,A;a.x<f.left+e.margin.left?L=Math.floor(Math.max(-1,(a.x-f.left)/e.margin.left-1)*e.maxSpeed.left):a.x>f.right-e.margin.right?L=Math.ceil(Math.min(1,(a.x-f.right)/e.margin.right+1)*e.maxSpeed.right):L=0,a.y<f.top+e.margin.top?A=Math.floor(Math.max(-1,(a.y-f.top)/e.margin.top-1)*e.maxSpeed.top):a.y>f.bottom-e.margin.bottom?A=Math.ceil(Math.min(1,(a.y-f.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):A=0,e.syncMove()&&d.dispatch(v,{pageX:a.pageX+L,pageY:a.pageY+A,clientX:a.x+L,clientY:a.y+A}),setTimeout(function(){A&&I(v,A),L&&F(v,L)})}function I(v,f){v===window?window.scrollTo(v.pageXOffset,v.pageYOffset+f):v.scrollTop+=f}function F(v,f){v===window?window.scrollTo(v.pageXOffset+f,v.pageYOffset):v.scrollLeft+=f}}function Xr(t,i){return new jr(t,i)}function ai(t,i,e){return e?t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right:Nr(t,i)}var ci=Xr;function hn(t,i,e){e&&e.split(" ").forEach(n=>t.addClass(i.nativeElement,n))}function Tt(t,i,e){e&&e.split(" ").forEach(n=>t.removeClass(i.nativeElement,n))}var mi=(()=>{class t{constructor(){this.currentDrag=new J}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hi=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(C(ie))},t.\u0275dir=ue({type:t,selectors:[["","mwlDraggableScrollContainer",""]]}),t})(),Et=(()=>{class t{constructor(e,n,r,o,a,s,d){this.element=e,this.renderer=n,this.draggableHelper=r,this.zone=o,this.vcr=a,this.scrollContainer=s,this.document=d,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new H,this.dragStart=new H,this.ghostElementCreated=new H,this.dragging=new H,this.dragEnd=new H,this.pointerDown$=new J,this.pointerMove$=new J,this.pointerUp$=new J,this.eventListenerSubscriptions={},this.destroy$=new J,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();let e=this.pointerDown$.pipe(ne(()=>this.canDrag()),Ue(n=>{n.event.stopPropagation&&!this.scrollContainer&&n.event.stopPropagation();let r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText(`
          body * {
           -moz-user-select: none;
           -ms-user-select: none;
           -webkit-user-select: none;
           user-select: none;
          }
        `)),requestAnimationFrame(()=>{this.document.head.appendChild(r)});let o=this.getScrollPosition(),a=new Ce(u=>{let y=this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window";return this.renderer.listen(y,"scroll",E=>u.next(E))}).pipe(ut(o),j(()=>this.getScrollPosition())),s=new J,d=new In;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});let l=le(this.pointerUp$,this.pointerDown$,d,this.destroy$).pipe(de()),c=Vn([this.pointerMove$,a]).pipe(j(([u,y])=>({currentDrag$:s,transformX:u.clientX-n.clientX,transformY:u.clientY-n.clientY,clientX:u.clientX,clientY:u.clientY,scrollLeft:y.left,scrollTop:y.top,target:u.event.target})),j(u=>(this.dragSnapGrid.x&&(u.transformX=Math.round(u.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(u.transformY=Math.round(u.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),u)),j(u=>(this.dragAxis.x||(u.transformX=0),this.dragAxis.y||(u.transformY=0),u)),j(u=>{let y=u.scrollLeft-o.left,E=u.scrollTop-o.top;return ct(Z({},u),{x:u.transformX+y,y:u.transformY+E})}),ne(({x:u,y,transformX:E,transformY:_})=>!this.validateDrag||this.validateDrag({x:u,y,transform:{x:E,y:_}})),ce(l),de()),p=c.pipe(Me(1),de()),D=c.pipe(An(1),de());return p.subscribe(({clientX:u,clientY:y,x:E,y:_})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:d})}),this.scroller=ci([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],ct(Z({},this.autoScroll),{autoScroll(){return!0}})),hn(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){let b=this.element.nativeElement.getBoundingClientRect(),M=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(M):this.element.nativeElement.parentNode.insertBefore(M,this.element.nativeElement.nextSibling),this.ghostElement=M,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(M,{position:"fixed",top:`${b.top}px`,left:`${b.left}px`,width:`${b.width}px`,height:`${b.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){let T=this.vcr.createEmbeddedView(this.ghostElementTemplate);M.innerHTML="",T.rootNodes.filter(V=>V instanceof Node).forEach(V=>{M.appendChild(V)}),D.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(T))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:u-E,clientY:y-_,element:M})}),D.subscribe(()=>{M.parentElement.removeChild(M),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(s)}),D.pipe(Ue(u=>{let y=d.pipe(zn(),Me(1),j(E=>ct(Z({},u),{dragCancelled:E>0})));return d.complete(),y})).subscribe(({x:u,y,dragCancelled:E})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:u,y,dragCancelled:E})}),Tt(this.renderer,this.element,this.dragActiveClass),s.complete()}),le(l,D).pipe(Me(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),c}),de());le(e.pipe(Me(1),j(n=>[,n])),e.pipe(Ke())).pipe(ne(([n,r])=>n?n.x!==r.x||n.y!==r.y:!0),j(([n,r])=>r)).subscribe(({x:n,y:r,currentDrag$:o,clientX:a,clientY:s,transformX:d,transformY:l,target:c})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:n,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){let p=`translate3d(${d}px, ${l}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:p,"-webkit-transform":p,"-ms-transform":p,"-moz-transform":p,"-o-transform":p})}}),o.next({clientX:a,clientY:s,dropData:this.dropData,target:c})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){let e=this.canDrag(),n=Object.keys(this.eventListenerSubscriptions).length>0;e&&!n?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&n&&this.unsubscribeEventListeners()}onMouseDown(e){e.button===0&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",n=>{this.pointerMove$.next({event:n,clientX:n.clientX,clientY:n.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){e.button===0&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let n,r,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,o=this.hasScrollbar(),n=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){let a=Ge(this.document,"contextmenu").subscribe(d=>{d.preventDefault()}),s=Ge(this.document,"touchmove",{passive:!1}).subscribe(d=>{this.touchStartLongPress&&!r&&o&&(r=this.shouldBeginDrag(e,d,n)),(!this.touchStartLongPress||!o||r)&&(d.preventDefault(),this.pointerMove$.next({event:d,clientX:d.targetTouches[0].clientX,clientY:d.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{a.unsubscribe(),s.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,n){Object.keys(n).forEach(r=>{this.renderer.setStyle(e,r,n[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,n,r){let o=this.getScrollPosition(),a={top:Math.abs(o.top-r.top),left:Math.abs(o.left-r.left)},s=Math.abs(n.targetTouches[0].clientX-e.touches[0].clientX)-a.left,d=Math.abs(n.targetTouches[0].clientY-e.touches[0].clientY)-a.top,l=s+d,c=this.touchStartLongPress;return(l>c.delta||a.top>0||a.left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=c.delay?(this.disableScroll(),!0):!1}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){let e=this.getScrollElement(),n=e.scrollWidth>e.clientWidth,r=e.scrollHeight>e.clientHeight;return n||r}}return t.\u0275fac=function(e){return new(e||t)(C(ie),C(ge),C(mi),C(_e),C(ht),C(hi,8),C(Qe))},t.\u0275dir=ue({type:t,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[Ie]}),t})();function ui(t,i,e){return t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom}var kt=(()=>{class t{constructor(e,n,r,o,a){this.element=e,this.draggableHelper=n,this.zone=r,this.renderer=o,this.scrollContainer=a,this.dragEnter=new H,this.dragLeave=new H,this.dragOver=new H,this.drop=new H}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{hn(this.renderer,this.element,this.dragActiveClass);let n={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{n.updateCache=!0}),o,a=e.pipe(j(({clientX:l,clientY:c,dropData:p,target:D})=>{o={clientX:l,clientY:c,dropData:p,target:D},n.updateCache&&(n.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(n.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),n.updateCache=!1);let u=ui(l,c,n.rect),y=!this.validateDrop||this.validateDrop({clientX:l,clientY:c,target:D,dropData:p});return n.scrollContainerRect?u&&y&&ui(l,c,n.scrollContainerRect):u&&y})),s=a.pipe(Rn()),d;s.pipe(ne(l=>l)).subscribe(()=>{d=!0,hn(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),a.pipe(ne(l=>l)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),s.pipe(Ke(),ne(([l,c])=>l&&!c)).subscribe(()=>{d=!1,Tt(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),e.subscribe({complete:()=>{r(),Tt(this.renderer,this.element,this.dragActiveClass),d&&(Tt(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(C(ie),C(mi),C(_e),C(ge),C(hi,8))},t.\u0275dir=ue({type:t,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),t})(),ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=fe({}),t})();var ze=typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;function Gr(t){let i=t.cloneNode(!0),e=i.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();return i.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),n==="canvas"?gi(t,i):(n==="input"||n==="select"||n==="textarea")&&vi(t,i),fi("canvas",t,i,gi),fi("input, textarea, select",t,i,vi),i}function fi(t,i,e,n){let r=i.querySelectorAll(t);if(r.length){let o=e.querySelectorAll(t);for(let a=0;a<r.length;a++)n(r[a],o[a])}}var Kr=0;function vi(t,i){i.type!=="file"&&(i.value=t.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${Kr++}`)}function gi(t,i){let e=i.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function yi(t,i,e,n){let r={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return i.top&&(r.top+=n),i.bottom&&(r.bottom+=n),i.left&&(r.left+=e),i.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}function qr(t,i){let e=0,n=0,r=t.nativeElement.style,a=["transform","-ms-transform","-moz-transform","-o-transform"].map(s=>r[s]).find(s=>!!s);if(a&&a.includes("translate")&&(e=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),n=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),i==="absolute")return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-n,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-n,left:t.nativeElement.offsetLeft-e,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-e};{let s=t.nativeElement.getBoundingClientRect();return{height:s.height,width:s.width,top:s.top-n,bottom:s.bottom-n,left:s.left-e,right:s.right-e,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}}var wi=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Di(t,i){return t.left&&t.top?i.topLeft:t.right&&t.top?i.topRight:t.left&&t.bottom?i.bottomLeft:t.right&&t.bottom?i.bottomRight:t.left||t.right?i.leftOrRight:t.top||t.bottom?i.topOrBottom:""}function St({edges:t,initialRectangle:i,newRectangle:e}){let n={};return Object.keys(t).forEach(r=>{n[r]=(e[r]||0)-(i[r]||0)}),n}var _i="resize-active",Zr="resize-ghost-element",Jr=50,vn=(()=>{class t{constructor(e,n,r,o){this.platformId=e,this.renderer=n,this.elm=r,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=wi,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=Jr,this.resizeStart=new H,this.resizing=new H,this.resizeEnd=new H,this.mouseup=new J,this.mousedown=new J,this.mousemove=new J,this.destroy$=new J,this.pointerEventListeners=fn.getInstance(n,o)}ngOnInit(){let e=le(this.pointerEventListeners.pointerDown,this.mousedown),n=le(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Pn(({event:l})=>{o&&l.cancelable&&l.preventDefault()}),de()),r=le(this.pointerEventListeners.pointerUp,this.mouseup),o,a=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},s=()=>Z(Z({},wi),this.resizeCursors);e.pipe(Ue(l=>{function c(u){return{clientX:u.clientX-l.clientX,clientY:u.clientY-l.clientY}}let p=()=>{let u={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?u.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(u.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?u.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(u.y=+this.resizeSnapGrid.bottom)),u};function D(u,y){return{x:Math.ceil(u.clientX/y.x),y:Math.ceil(u.clientY/y.y)}}return le(n.pipe(Me(1)).pipe(j(u=>[,u])),n.pipe(Ke())).pipe(j(([u,y])=>[u&&c(u),c(y)])).pipe(ne(([u,y])=>{if(!u)return!0;let E=p(),_=D(u,E),b=D(y,E);return _.x!==b.x||_.y!==b.y})).pipe(j(([,u])=>{let y=p();return{clientX:Math.round(u.clientX/y.x)*y.x,clientY:Math.round(u.clientY/y.y)*y.y}})).pipe(ce(le(r,e)))})).pipe(ne(()=>!!o)).pipe(j(({clientX:l,clientY:c})=>yi(o.startingRect,o.edges,l,c))).pipe(ne(l=>this.allowNegativeResizes||!!(l.height&&l.width&&l.height>0&&l.width>0))).pipe(ne(l=>this.validateResize?this.validateResize({rectangle:l,edges:St({edges:o.edges,initialRectangle:o.startingRect,newRectangle:l})}):!0),ce(this.destroy$)).subscribe(l=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${l.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${l.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${l.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${l.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:St({edges:o.edges,initialRectangle:o.startingRect,newRectangle:l}),rectangle:l})}),o.currentRect=l}),e.pipe(j(({edges:l})=>l||{}),ne(l=>Object.keys(l).length>0),ce(this.destroy$)).subscribe(l=>{o&&a();let c=qr(this.elm,this.ghostElementPositioning);o={edges:l,startingRect:c,currentRect:c};let p=s(),D=Di(o.edges,p);this.renderer.setStyle(document.body,"cursor",D),this.setElementClass(this.elm,_i,!0),this.enableGhostResize&&(o.clonedNode=Gr(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",Di(o.edges,p)),this.renderer.addClass(o.clonedNode,Zr),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:St({edges:l,initialRectangle:c,newRectangle:c}),rectangle:yi(c,{},0,0)})})}),r.pipe(ce(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,_i),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:St({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),a(),o=null)})}ngOnDestroy(){Jn(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,n,r){r?this.renderer.addClass(e.nativeElement,n):this.renderer.removeClass(e.nativeElement,n)}}return t.\u0275fac=function(e){return new(e||t)(C(jn),C(ge),C(ie),C(_e))},t.\u0275dir=ue({type:t,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),t})(),fn=class t{constructor(i,e){this.pointerDown=new Ce(n=>{let r,o;return e.runOutsideAngular(()=>{r=i.listen("document","mousedown",a=>{n.next({clientX:a.clientX,clientY:a.clientY,event:a})}),ze&&(o=i.listen("document","touchstart",a=>{n.next({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,event:a})}))}),()=>{r(),ze&&o()}}).pipe(de()),this.pointerMove=new Ce(n=>{let r,o;return e.runOutsideAngular(()=>{r=i.listen("document","mousemove",a=>{n.next({clientX:a.clientX,clientY:a.clientY,event:a})}),ze&&(o=i.listen("document","touchmove",a=>{n.next({clientX:a.targetTouches[0].clientX,clientY:a.targetTouches[0].clientY,event:a})}))}),()=>{r(),ze&&o()}}).pipe(de()),this.pointerUp=new Ce(n=>{let r,o,a;return e.runOutsideAngular(()=>{r=i.listen("document","mouseup",s=>{n.next({clientX:s.clientX,clientY:s.clientY,event:s})}),ze&&(o=i.listen("document","touchend",s=>{n.next({clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,event:s})}),a=i.listen("document","touchcancel",s=>{n.next({clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,event:s})}))}),()=>{r(),ze&&(o(),a())}}).pipe(de())}static getInstance(i,e){return t.instance||(t.instance=new t(i,e)),t.instance}},Ci=(()=>{class t{constructor(e,n,r,o){this.renderer=e,this.element=n,this.zone=r,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new J}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),ze&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),le(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,n,r){e.cancelable&&e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:n,clientY:r,edges:this.resizeEdges})}onMouseup(e,n){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:n,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,n,r){this.resizable.mousemove.next({clientX:n,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return Ge(this.element.nativeElement,e).pipe(ce(this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(C(ge),C(ie),C(_e),C(vn,8))},t.\u0275dir=ue({type:t,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),t})(),gn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=fe({}),t})();var eo=(t,i)=>({event:t,trackByActionId:i}),to=t=>({action:t});function no(t,i){if(t&1){let e=Q();x(0,"a",5),P(1,"calendarA11y"),N("mwlClick",function(r){let o=k(e).$implicit,a=h(2).event;return S(o.onClick({event:a,sourceEvent:r}))})("mwlKeydownEnter",function(r){let o=k(e).$implicit,a=h(2).event;return S(o.onClick({event:a,sourceEvent:r}))}),O()}if(t&2){let e=i.$implicit;m("ngClass",e.cssClass)("innerHtml",e.label,mt),pe("aria-label",me(1,3,Ve(6,to,e),"actionButtonLabel"))}}function io(t,i){if(t&1&&(x(0,"span",3),W(1,no,2,8,"a",4),O()),t&2){let e=h(),n=e.event,r=e.trackByActionId;w(),m("ngForOf",n.actions)("ngForTrackBy",r)}}function ro(t,i){if(t&1&&W(0,io,2,2,"span",2),t&2){let e=i.event;m("ngIf",e.actions)}}function oo(t,i){}var ao=(t,i)=>({event:t,view:i}),Ye=()=>({});function so(t,i){if(t&1&&(X(0,"span",2),P(1,"calendarEventTitle"),P(2,"calendarA11y")),t&2){let e=i.event,n=i.view;m("innerHTML",we(1,2,e.title,n,e),mt),pe("aria-hidden",me(2,6,ee(9,Ye),"hideEventTitle"))}}function lo(t,i){}var co=(t,i,e)=>({contents:t,placement:i,event:e});function uo(t,i){if(t&1&&(x(0,"div",2),X(1,"div",3)(2,"div",4),O()),t&2){let e=i.contents,n=i.placement;m("ngClass","cal-tooltip-"+n),w(2),m("innerHtml",e,mt)}}function po(t,i){}var mo=(t,i,e,n,r,o,a,s,d,l,c,p)=>({day:t,openDay:i,locale:e,tooltipPlacement:n,highlightDay:r,unhighlightDay:o,eventClicked:a,tooltipTemplate:s,tooltipAppendToBody:d,tooltipDelay:l,trackByEventId:c,validateDrag:p}),ho=(t,i)=>({day:t,locale:i}),Cn=t=>({backgroundColor:t}),fo=(t,i)=>({event:t,draggedFrom:i}),at=(t,i)=>({x:t,y:i}),Ot=()=>({delay:300,delta:30});function vo(t,i){if(t&1&&(x(0,"span",7),ye(1),O()),t&2){let e=h().day;w(),Ze(e.badgeTotal)}}function go(t,i){if(t&1){let e=Q();x(0,"div",10),P(1,"calendarEventTitle"),P(2,"calendarA11y"),N("mouseenter",function(){let r=k(e).$implicit,o=h(2).highlightDay;return S(o.emit({event:r}))})("mouseleave",function(){let r=k(e).$implicit,o=h(2).unhighlightDay;return S(o.emit({event:r}))})("mwlClick",function(r){let o=k(e).$implicit,a=h(2).eventClicked;return S(a.emit({event:o,sourceEvent:r}))}),O()}if(t&2){let e=i.$implicit,n=h(2),r=n.day,o=n.tooltipPlacement,a=n.tooltipTemplate,s=n.tooltipAppendToBody,d=n.tooltipDelay,l=n.validateDrag;re("cal-draggable",e.draggable),m("ngStyle",Ve(22,Cn,e.color==null?null:e.color.primary))("ngClass",e==null?null:e.cssClass)("mwlCalendarTooltip",we(1,15,e.title,"monthTooltip",e))("tooltipPlacement",o)("tooltipEvent",e)("tooltipTemplate",a)("tooltipAppendToBody",s)("tooltipDelay",d)("dropData",K(24,fo,e,r))("dragAxis",K(27,at,e.draggable,e.draggable))("validateDrag",l)("touchStartLongPress",ee(30,Ot)),pe("aria-hidden",me(2,19,ee(31,Ye),"hideMonthCellEvents"))}}function yo(t,i){if(t&1&&(x(0,"div",8),W(1,go,3,32,"div",9),O()),t&2){let e=h(),n=e.day,r=e.trackByEventId;w(),m("ngForOf",n.events)("ngForTrackBy",r)}}function wo(t,i){if(t&1&&(x(0,"div",2),P(1,"calendarA11y"),x(2,"span",3),W(3,vo,2,1,"span",4),x(4,"span",5),ye(5),P(6,"calendarDate"),O()()(),W(7,yo,2,2,"div",6)),t&2){let e=i.day,n=i.locale;pe("aria-label",me(1,4,K(11,ho,e,n),"monthCell")),w(3),m("ngIf",e.badgeTotal>0),w(2),Ze(we(6,7,e.date,"monthViewDayNumber",n)),w(2),m("ngIf",e.events.length>0)}}function Do(t,i){}var _o=(t,i,e,n,r)=>({events:t,eventClicked:i,isOpen:e,trackByEventId:n,validateDrag:r}),Ti=(t,i)=>({date:t,locale:i}),Co=t=>({event:t}),bi=(t,i)=>({event:t,locale:i});function To(t,i){if(t&1){let e=Q();x(0,"div",7),X(1,"span",8),ye(2," "),x(3,"mwl-calendar-event-title",9),P(4,"calendarA11y"),N("mwlClick",function(r){let o=k(e).$implicit,a=h(2).eventClicked;return S(a.emit({event:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){let o=k(e).$implicit,a=h(2).eventClicked;return S(a.emit({event:o,sourceEvent:r}))}),O(),ye(5," "),X(6,"mwl-calendar-event-actions",10),O()}if(t&2){let e=i.$implicit,n=h(2).validateDrag,r=h();re("cal-draggable",e.draggable),m("ngClass",e==null?null:e.cssClass)("dropData",Ve(16,Co,e))("dragAxis",K(18,at,e.draggable,e.draggable))("validateDrag",n)("touchStartLongPress",ee(21,Ot)),w(),m("ngStyle",Ve(22,Cn,e.color==null?null:e.color.primary)),w(2),m("event",e)("customTemplate",r.eventTitleTemplate),pe("aria-label",me(4,13,K(24,bi,e,r.locale),"eventDescription")),w(3),m("event",e)("customTemplate",r.eventActionsTemplate)}}function Eo(t,i){if(t&1&&(x(0,"div",3),X(1,"span",4),P(2,"calendarA11y"),X(3,"span",5),P(4,"calendarA11y"),W(5,To,7,27,"div",6),O()),t&2){let e=h(),n=e.events,r=e.trackByEventId,o=h();m("@collapse",void 0),w(),pe("aria-label",me(2,5,K(11,Ti,o.date,o.locale),"openDayEventsAlert")),w(2),pe("aria-label",me(4,8,K(14,Ti,o.date,o.locale),"openDayEventsLandmark")),w(2),m("ngForOf",n)("ngForTrackBy",r)}}function ko(t,i){if(t&1&&W(0,Eo,6,17,"div",2),t&2){let e=i.isOpen;m("ngIf",e)}}function So(t,i){}var bo=(t,i,e)=>({days:t,locale:i,trackByWeekDayHeaderDate:e});function xo(t,i){if(t&1){let e=Q();x(0,"div",4),N("click",function(r){let o=k(e).$implicit,a=h(2);return S(a.columnHeaderClicked.emit({isoDayNumber:o.day,sourceEvent:r}))}),ye(1),P(2,"calendarDate"),O()}if(t&2){let e=i.$implicit,n=h().locale;re("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),m("ngClass",e.cssClass),w(),Ut(" ",we(2,10,e.date,"monthViewColumnHeader",n)," ")}}function Mo(t,i){if(t&1&&(x(0,"div",2),W(1,xo,3,14,"div",3),O()),t&2){let e=i.days,n=i.trackByWeekDayHeaderDate;w(),m("ngForOf",e)("ngForTrackBy",n)}}function Oo(t,i){}function Io(t,i){if(t&1){let e=Q();x(0,"mwl-calendar-month-cell",7),P(1,"calendarA11y"),N("mwlClick",function(r){let o=k(e).$implicit,a=h(2);return S(a.dayClicked.emit({day:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){let o=k(e).$implicit,a=h(2);return S(a.dayClicked.emit({day:o,sourceEvent:r}))})("highlightDay",function(r){k(e);let o=h(2);return S(o.toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){k(e);let o=h(2);return S(o.toggleDayHighlight(r.event,!1))})("drop",function(r){let o=k(e).$implicit,a=h(2);return S(a.eventDropped(o,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){k(e);let o=h(2);return S(o.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),O()}if(t&2){let e=i.$implicit,n=h(2);m("ngClass",e==null?null:e.cssClass)("day",e)("openDay",n.openDay)("locale",n.locale)("tooltipPlacement",n.tooltipPlacement)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipTemplate",n.tooltipTemplate)("tooltipDelay",n.tooltipDelay)("customTemplate",n.cellTemplate)("ngStyle",Ve(15,Cn,e.backgroundColor))("clickListenerDisabled",n.dayClicked.observers.length===0),pe("tabindex",me(1,12,ee(17,Ye),"monthCellTabIndex"))}}function Ho(t,i){if(t&1){let e=Q();x(0,"div")(1,"div",4),W(2,Io,2,18,"mwl-calendar-month-cell",5),P(3,"slice"),O(),x(4,"mwl-calendar-open-day-events",6),N("eventClicked",function(r){k(e);let o=h();return S(o.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){k(e);let o=h();return S(o.eventDropped(o.openDay,r.dropData.event,r.dropData.draggedFrom))}),O()()}if(t&2){let e=i.$implicit,n=h();w(2),m("ngForOf",we(3,9,n.view.days,e,e+n.view.totalDaysVisibleInWeek))("ngForTrackBy",n.trackByDate),w(2),m("locale",n.locale)("isOpen",n.openRowIndex===e)("events",n.openDay==null?null:n.openDay.events)("date",n.openDay==null?null:n.openDay.date)("customTemplate",n.openDayEventsTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)}}var Vo=(t,i,e,n,r,o)=>({days:t,locale:i,dayHeaderClicked:e,eventDropped:n,dragEnter:r,trackByWeekDayHeaderDate:o});function Wo(t,i){if(t&1){let e=Q();x(0,"div",4),N("mwlClick",function(r){let o=k(e).$implicit,a=h().dayHeaderClicked;return S(a.emit({day:o,sourceEvent:r}))})("drop",function(r){let o=k(e).$implicit,a=h().eventDropped;return S(a.emit({event:r.dropData.event,newStart:o.date}))})("dragEnter",function(){let r=k(e).$implicit,o=h().dragEnter;return S(o.emit({date:r.date}))}),x(1,"b"),ye(2),P(3,"calendarDate"),O(),X(4,"br"),x(5,"span"),ye(6),P(7,"calendarDate"),O()()}if(t&2){let e=i.$implicit,n=h().locale;re("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),m("ngClass",e.cssClass),w(2),Ze(we(3,11,e.date,"weekViewColumnHeader",n)),w(4),Ze(we(7,15,e.date,"weekViewColumnSubHeader",n))}}function Fo(t,i){if(t&1&&(x(0,"div",2),W(1,Wo,8,19,"div",3),O()),t&2){let e=i.days,n=i.trackByWeekDayHeaderDate;w(),m("ngForOf",e)("ngForTrackBy",n)}}function zo(t,i){}var Ro=(t,i,e,n,r,o,a,s,d)=>({weekEvent:t,tooltipPlacement:i,eventClicked:e,tooltipTemplate:n,tooltipAppendToBody:r,tooltipDisabled:o,tooltipDelay:a,column:s,daysInWeek:d}),Ao=(t,i,e)=>({color:t,backgroundColor:i,borderColor:e});function Bo(t,i){if(t&1){let e=Q();x(0,"div",2),P(1,"calendarEventTitle"),P(2,"calendarA11y"),N("mwlClick",function(r){let o=k(e).eventClicked;return S(o.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){let o=k(e).eventClicked;return S(o.emit({sourceEvent:r}))}),X(3,"mwl-calendar-event-actions",3),ye(4," "),X(5,"mwl-calendar-event-title",4),O()}if(t&2){let e=i.weekEvent,n=i.tooltipPlacement,r=i.tooltipTemplate,o=i.tooltipAppendToBody,a=i.tooltipDisabled,s=i.tooltipDelay,d=i.daysInWeek,l=h();m("ngStyle",ft(20,Ao,e.event.color==null?null:e.event.color.secondaryText,e.event.color==null?null:e.event.color.secondary,e.event.color==null?null:e.event.color.primary))("mwlCalendarTooltip",a?"":we(1,13,e.event.title,d===1?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",n)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",o)("tooltipDelay",s),pe("aria-label",me(2,17,K(24,bi,e.tempEvent||e.event,l.locale),"eventDescription")),w(3),m("event",e.tempEvent||e.event)("customTemplate",l.eventActionsTemplate),w(2),m("event",e.tempEvent||e.event)("customTemplate",l.eventTitleTemplate)("view",d===1?"day":"week")}}function Lo(t,i){}var Po=(t,i,e,n,r)=>({segment:t,locale:i,segmentHeight:e,isTimeLabel:n,daysInWeek:r});function No(t,i){if(t&1&&(x(0,"div",4),ye(1),P(2,"calendarDate"),O()),t&2){let e=h(),n=e.segment,r=e.locale,o=e.daysInWeek;w(),Ut(" ",we(2,1,n.displayDate,o===1?"dayViewHour":"weekViewHour",r)," ")}}function $o(t,i){if(t&1&&(x(0,"div",2),P(1,"calendarA11y"),W(2,No,3,5,"div",3),O()),t&2){let e=i.segment,n=i.segmentHeight,r=i.isTimeLabel,o=i.daysInWeek;He("height",n,"px"),re("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),m("ngClass",e.cssClass),pe("aria-hidden",me(1,9,ee(12,Ye),o===1?"hideDayHourSegment":"hideWeekHourSegment")),w(2),m("ngIf",r)}}function Yo(t,i){}var jo=(t,i,e,n,r,o,a)=>({columnDate:t,dayStartHour:i,dayStartMinute:e,dayEndHour:n,dayEndMinute:r,isVisible:o,topPx:a});function Xo(t,i){if(t&1&&X(0,"div",3),t&2){let e=h().topPx;He("top",e,"px")}}function Uo(t,i){if(t&1&&W(0,Xo,1,2,"div",2),t&2){let e=i.isVisible;m("ngIf",e)}}function Go(t,i){}var Ko=(t,i)=>({left:t,right:i}),xi=(t,i)=>({event:t,calendarId:i}),qo=t=>({x:t}),Zo=()=>({left:!0}),Jo=()=>({right:!0}),Qo=(t,i,e,n)=>({left:t,right:i,top:e,bottom:n}),ea=()=>({left:!0,top:!0}),ta=()=>({right:!0,bottom:!0});function na(t,i){if(t&1){let e=Q();x(0,"div",16),N("drop",function(r){let o=k(e).$implicit,a=h(2);return S(a.eventDropped(r,o.date,!0))})("dragEnter",function(){let r=k(e).$implicit,o=h(2);return S(o.dateDragEnter(r.date))}),O()}}function ia(t,i){t&1&&X(0,"div",23),t&2&&m("resizeEdges",ee(1,Zo))}function ra(t,i){t&1&&X(0,"div",24),t&2&&m("resizeEdges",ee(1,Jo))}function oa(t,i){if(t&1){let e=Q();x(0,"div",19,3),N("resizeStart",function(r){let o=k(e).$implicit;h();let a=U(1),s=h(2);return S(s.allDayEventResizeStarted(a,o,r))})("resizing",function(r){let o=k(e).$implicit,a=h(3);return S(a.allDayEventResizing(o,r,a.dayColumnWidth))})("resizeEnd",function(){let r=k(e).$implicit,o=h(3);return S(o.allDayEventResizeEnded(r))})("dragStart",function(){let r=k(e).$implicit,o=U(1);h();let a=U(1),s=h(2);return S(s.dragStarted(a,o,r,!1))})("dragging",function(){k(e);let r=h(3);return S(r.allDayEventDragMove())})("dragEnd",function(r){let o=k(e).$implicit,a=h(3);return S(a.dragEnded(o,r,a.dayColumnWidth))}),W(2,ia,1,2,"div",20),x(3,"mwl-calendar-week-view-event",21),N("eventClicked",function(r){let o=k(e).$implicit,a=h(3);return S(a.eventClicked.emit({event:o.event,sourceEvent:r.sourceEvent}))}),O(),W(4,ra,1,2,"div",22),O()}if(t&2){let e=i.$implicit,n=h(3);He("width",100/n.days.length*e.span,"%")("margin-left",n.rtl?null:100/n.days.length*e.offset,"%")("margin-right",n.rtl?100/n.days.length*e.offset:null,"%"),re("cal-draggable",e.event.draggable&&n.allDayEventResizes.size===0)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),m("ngClass",e.event==null?null:e.event.cssClass)("resizeCursors",n.resizeCursors)("resizeSnapGrid",K(33,Ko,n.dayColumnWidth,n.dayColumnWidth))("validateResize",n.validateResize)("dropData",K(36,xi,e.event,n.calendarId))("dragAxis",K(39,at,e.event.draggable&&n.allDayEventResizes.size===0,!n.snapDraggedEvents&&e.event.draggable&&n.allDayEventResizes.size===0))("dragSnapGrid",n.snapDraggedEvents?Ve(42,qo,n.dayColumnWidth):ee(44,Ye))("validateDrag",n.validateDrag)("touchStartLongPress",ee(45,Ot)),w(2),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),w(),m("locale",n.locale)("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("daysInWeek",n.daysInWeek),w(),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function aa(t,i){if(t&1&&(x(0,"div",17,2),W(2,oa,5,46,"div",18),O()),t&2){let e=i.$implicit,n=h(2);w(2),m("ngForOf",e.row)("ngForTrackBy",n.trackByWeekAllDayEvent)}}function sa(t,i){if(t&1){let e=Q();x(0,"div",12,1),N("dragEnter",function(){k(e);let r=h();return S(r.dragEnter("allDay"))})("dragLeave",function(){k(e);let r=h();return S(r.dragLeave("allDay"))}),x(2,"div",10),X(3,"div",13),W(4,na,1,0,"div",14),O(),W(5,aa,3,2,"div",15),O()}if(t&2){let e=h();w(3),m("ngTemplateOutlet",e.allDayEventsLabelTemplate),w(),m("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),w(),m("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function la(t,i){if(t&1&&X(0,"mwl-calendar-week-view-hour-segment",29),t&2){let e=i.$implicit,n=h(3);He("height",n.hourSegmentHeight,"px"),m("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",n.daysInWeek)}}function da(t,i){if(t&1&&(x(0,"div",27),W(1,la,1,8,"mwl-calendar-week-view-hour-segment",28),O()),t&2){let e=i.$implicit,n=i.odd,r=h(2);re("cal-hour-odd",n),w(),m("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function ca(t,i){if(t&1&&(x(0,"div",25),W(1,da,2,4,"div",26),O()),t&2){let e=h();w(),m("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}function ua(t,i){t&1&&X(0,"div",23),t&2&&m("resizeEdges",ee(1,ea))}function pa(t,i){}function ma(t,i){if(t&1){let e=Q();x(0,"mwl-calendar-week-view-event",36),N("eventClicked",function(r){k(e);let o=h().$implicit,a=h(2);return S(a.eventClicked.emit({event:o.event,sourceEvent:r.sourceEvent}))}),O()}if(t&2){let e=h().$implicit,n=h().$implicit,r=h();m("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",n)("daysInWeek",r.daysInWeek)}}function ha(t,i){t&1&&X(0,"div",24),t&2&&m("resizeEdges",ee(1,ta))}function fa(t,i){if(t&1){let e=Q();x(0,"div",34,3),N("resizeStart",function(r){let o=k(e).$implicit,a=h(2),s=U(6);return S(a.timeEventResizeStarted(s,o,r))})("resizing",function(r){let o=k(e).$implicit,a=h(2);return S(a.timeEventResizing(o,r))})("resizeEnd",function(){let r=k(e).$implicit,o=h(2);return S(o.timeEventResizeEnded(r))})("dragStart",function(){let r=k(e).$implicit,o=U(1),a=h(2),s=U(6);return S(a.dragStarted(s,o,r,!0))})("dragging",function(r){let o=k(e).$implicit,a=h(2);return S(a.dragMove(o,r))})("dragEnd",function(r){let o=k(e).$implicit,a=h(2);return S(a.dragEnded(o,r,a.dayColumnWidth,!0))}),W(2,ua,1,2,"div",20)(3,pa,0,0,"ng-template",35)(4,ma,1,12,"ng-template",null,4,oe)(6,ha,1,2,"div",22),O()}if(t&2){let e=i.$implicit,n=U(5),r=h(2);He("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),re("cal-draggable",e.event.draggable&&r.timeEventResizes.size===0)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),m("ngClass",e.event.cssClass)("hidden",e.height===0&&e.width===0)("resizeCursors",r.resizeCursors)("resizeSnapGrid",Un(30,Qo,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",K(35,xi,e.event,r.calendarId))("dragAxis",K(38,at,e.event.draggable&&r.timeEventResizes.size===0,e.event.draggable&&r.timeEventResizes.size===0))("dragSnapGrid",r.snapDraggedEvents?K(41,at,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):ee(44,Ye))("touchStartLongPress",ee(45,Ot))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",n)("validateDrag",r.validateDrag),w(2),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),w(),m("ngTemplateOutlet",n),w(3),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function va(t,i){if(t&1){let e=Q();x(0,"mwl-calendar-week-view-hour-segment",38),N("mwlClick",function(r){let o=k(e).$implicit,a=h(3);return S(a.hourSegmentClicked.emit({date:o.date,sourceEvent:r}))})("drop",function(r){let o=k(e).$implicit,a=h(3);return S(a.eventDropped(r,o.date,!1))})("dragEnter",function(){let r=k(e).$implicit,o=h(3);return S(o.dateDragEnter(r.date))}),O()}if(t&2){let e=i.$implicit,n=h(3);He("height",n.hourSegmentHeight,"px"),m("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("daysInWeek",n.daysInWeek)("clickListenerDisabled",n.hourSegmentClicked.observers.length===0)("dragOverClass",!n.dragActive||!n.snapDraggedEvents?"cal-drag-over":null)("isTimeLabel",n.daysInWeek===1)}}function ga(t,i){if(t&1&&(x(0,"div",27),W(1,va,1,10,"mwl-calendar-week-view-hour-segment",37),O()),t&2){let e=i.$implicit,n=i.odd,r=h(2);re("cal-hour-odd",n),w(),m("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function ya(t,i){if(t&1&&(x(0,"div",30),X(1,"mwl-calendar-week-view-current-time-marker",31),x(2,"div",32),W(3,fa,7,46,"div",33),O(),W(4,ga,2,4,"div",26),O()),t&2){let e=i.$implicit,n=h();w(),m("columnDate",e.date)("dayStartHour",n.dayStartHour)("dayStartMinute",n.dayStartMinute)("dayEndHour",n.dayEndHour)("dayEndMinute",n.dayEndMinute)("hourSegments",n.hourSegments)("hourDuration",n.hourDuration)("hourSegmentHeight",n.hourSegmentHeight)("customTemplate",n.currentTimeMarkerTemplate),w(2),m("ngForOf",e.events)("ngForTrackBy",n.trackByWeekTimeEvent),w(),m("ngForOf",e.hours)("ngForTrackBy",n.trackByHour)}}var Ae=(()=>{class t{constructor(e,n,r){this.renderer=e,this.elm=n,this.document=r,this.clickListenerDisabled=!1,this.click=new H,this.destroy$=new J}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(ce(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new Ce(e=>this.renderer.listen(this.elm.nativeElement,"click",n=>{e.next(n)}))}}return t.\u0275fac=function(e){return new(e||t)(C(ge),C(ie),C(Qe))},t.\u0275dir=ue({type:t,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),t})(),It=(()=>{class t{constructor(e,n,r){this.host=e,this.ngZone=n,this.renderer=r,this.keydown=new H,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(e.keyCode===13||e.which===13||e.key==="Enter")&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){this.keydownListener!==null&&(this.keydownListener(),this.keydownListener=null)}}return t.\u0275fac=function(e){return new(e||t)(C(ie),C(_e),C(ge))},t.\u0275dir=ue({type:t,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),t})(),bt=(()=>{class t{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:n}){return e.badgeTotal>0?`
        ${$(e.date,"EEEE MMMM d",n)},
        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},
         click to expand
      `:`${$(e.date,"EEEE MMMM d",n)}`}openDayEventsLandmark({date:e,locale:n}){return`
      Beginning of expanded view for ${$(e,"EEEE MMMM dd",n)}
    `}openDayEventsAlert({date:e,locale:n}){return`${$(e,"EEEE MMMM dd",n)} expanded`}eventDescription({event:e,locale:n}){if(e.allDay===!0)return this.allDayEventDescription({event:e,locale:n});let r=`
      ${$(e.start,"EEEE MMMM dd",n)},
      ${e.title}, from ${$(e.start,"hh:mm a",n)}
    `;return e.end?r+` to ${$(e.end,"hh:mm a",n)}`:r}allDayEventDescription({event:e,locale:n}){let r=`
      ${e.title}, event spans multiple days:
      start time ${$(e.start,"MMMM dd hh:mm a",n)}
    `;return e.end?r+`, stop time ${$(e.end,"MMMM d hh:mm a",n)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(e){return new(e||t)(qe(vt))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),Be=(()=>{class t{constructor(e,n){this.calendarA11y=e,this.locale=n}transform(e,n){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[n]>"u"){let r=Object.getOwnPropertyNames(Object.getPrototypeOf(bt.prototype)).filter(o=>o!=="constructor");throw new Error(`${n} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[n](e)}}return t.\u0275fac=function(e){return new(e||t)(C(bt,16),C(Je,16))},t.\u0275pipe=pt({name:"calendarA11y",type:t,pure:!0}),t})(),Mi=(()=>{class t{constructor(){this.trackByActionId=(e,n)=>n.id?n.id:n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"mwlClick","mwlKeydownEnter","ngClass","innerHtml"]],template:function(e,n){if(e&1&&W(0,ro,1,1,"ng-template",null,0,oe)(2,oo,0,0,"ng-template",1),e&2){let r=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",K(2,eo,n.event,n.trackByActionId))}},dependencies:[De,Ee,We,ae,Ae,It,Be],encapsulation:2}),t})(),st=class{month(i,e){return i.title}monthTooltip(i,e){return i.title}week(i,e){return i.title}weekTooltip(i,e){return i.title}day(i,e){return i.title}dayTooltip(i,e){return i.title}},Tn=(()=>{class t{constructor(e){this.calendarEventTitle=e}transform(e,n,r){return this.calendarEventTitle[n](r,e)}}return t.\u0275fac=function(e){return new(e||t)(C(st,16))},t.\u0275pipe=pt({name:"calendarEventTitle",type:t,pure:!0}),t})(),Oi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,n){if(e&1&&W(0,so,3,10,"ng-template",null,0,oe)(2,lo,0,0,"ng-template",1),e&2){let r=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",K(2,ao,n.event,n.view))}},dependencies:[ae,Tn,Be],encapsulation:2}),t})(),wa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,n){if(e&1&&W(0,uo,3,2,"ng-template",null,0,oe)(2,po,0,0,"ng-template",1),e&2){let r=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",ft(2,co,n.contents,n.placement,n.event))}},dependencies:[De,ae],encapsulation:2}),t})(),Ii=(()=>{class t{constructor(e,n,r,o,a,s){this.elementRef=e,this.injector=n,this.renderer=r,this.viewContainerRef=a,this.document=s,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new J,this.tooltipFactory=o.resolveComponentFactory(wa)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(this.delay===null?Hn("now"):Wn(this.delay)).pipe(ce(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=nn(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),e.indexOf(this.tooltipRef.instance.placement)===-1&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return t.\u0275fac=function(e){return new(e||t)(C(ie),C(Yn),C(ge),C(Xn),C(ht),C(Qe))},t.\u0275dir=ue({type:t,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,n){e&1&&N("mouseenter",function(){return n.onMouseOver()})("mouseleave",function(){return n.onMouseOut()})},inputs:{contents:[Oe.None,"mwlCalendarTooltip","contents"],placement:[Oe.None,"tooltipPlacement","placement"],customTemplate:[Oe.None,"tooltipTemplate","customTemplate"],event:[Oe.None,"tooltipEvent","event"],appendToBody:[Oe.None,"tooltipAppendToBody","appendToBody"],delay:[Oe.None,"tooltipDelay","delay"]},features:[Ie]}),t})(),Da=function(t){return t.Month="month",t.Week="week",t.Day="day",t}(Da||{}),Hi=t=>oi(t,(...e)=>console.warn("angular-calendar",...e));function Vi(t,i){return Math.floor(t.left)<=Math.ceil(i.left)&&Math.floor(i.left)<=Math.ceil(t.right)&&Math.floor(t.left)<=Math.ceil(i.right)&&Math.floor(i.right)<=Math.ceil(t.right)}function _a(t,i){return Math.floor(t.top)<=Math.ceil(i.top)&&Math.floor(i.top)<=Math.ceil(t.bottom)&&Math.floor(t.top)<=Math.ceil(i.bottom)&&Math.floor(i.bottom)<=Math.ceil(t.bottom)}function Ca(t,i){return Vi(t,i)&&_a(t,i)}function Wi(t,i){return Math.round(t/i)*i}var Fi=(t,i)=>i.id?i.id:i,En=(t,i)=>i.date.toISOString(),Ta=(t,i)=>i.date.toISOString(),Ea=(t,i)=>i.segments[0].date.toISOString(),ka=(t,i)=>i.event.id?i.event.id:i.event,Sa=(t,i)=>i.event.id?i.event.id:i.event,ba=60;function xa(t,i,e){return(e||ba)/(t*i)}function yn(t,i,e,n,r){let o=Wi(t,n||e),a=xa(i,e,r);return o*a}function Ei(t,i,e){return i.end?i.end:t.addMinutes(i.start,e)}function Re(t,i,e,n){let r=0,o=0,a=e<0?t.subDays:t.addDays,s=i;for(;o<=Math.abs(e);){s=a(i,r);let d=t.getDay(s);n.indexOf(d)===-1&&o++,r++}return s}function Ma(t,i,e){let n=i||t;return e.start<=t&&t<=e.end||e.start<=n&&n<=e.end}function Oa(t,i,e,n){return t.dropData&&t.dropData.event&&(t.dropData.calendarId!==n||t.dropData.event.allDay&&!e||!t.dropData.event.allDay&&e)}function xt(t,i,e,n=[],r){let o=r?t.startOfDay(i):t.startOfWeek(i,{weekStartsOn:e}),a=t.endOfWeek(i,{weekStartsOn:e});for(;n.indexOf(t.getDay(o))>-1&&o<a;)o=t.addDays(o,1);if(r){let s=t.endOfDay(Re(t,o,r-1,n));return{viewStart:o,viewEnd:s}}else{let s=a;for(;n.indexOf(t.getDay(s))>-1&&s>o;)s=t.subDays(s,1);return{viewStart:o,viewEnd:s}}}function kn({x:t,y:i}){return Math.abs(t)>1||Math.abs(i)>1}var be=class{};var Ia=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:n}){return $(e,"EEEE",n)}monthViewDayNumber({date:e,locale:n}){return $(e,"d",n)}monthViewTitle({date:e,locale:n}){return $(e,"LLLL y",n)}weekViewColumnHeader({date:e,locale:n}){return $(e,"EEEE",n)}weekViewColumnSubHeader({date:e,locale:n}){return $(e,"MMM d",n)}weekViewTitle({date:e,locale:n,weekStartsOn:r,excludeDays:o,daysInWeek:a}){let{viewStart:s,viewEnd:d}=xt(this.dateAdapter,e,r,o,a),l=(c,p)=>$(c,"MMM d"+(p?", yyyy":""),n);return`${l(s,s.getUTCFullYear()!==d.getUTCFullYear())} - ${l(d,!0)}`}weekViewHour({date:e,locale:n}){return $(e,"h a",n)}dayViewHour({date:e,locale:n}){return $(e,"h a",n)}dayViewTitle({date:e,locale:n}){return $(e,"EEEE, MMMM d, y",n)}}return t.\u0275fac=function(e){return new(e||t)(qe(be))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),Mt=(()=>{class t extends Ia{}return t.\u0275fac=(()=>{let i;return function(n){return(i||(i=$n(t)))(n||t)}})(),t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),Ht=(()=>{class t{constructor(e,n){this.dateFormatter=e,this.locale=n}transform(e,n,r=this.locale,o=0,a=[],s){if(typeof this.dateFormatter[n]>"u"){let d=Object.getOwnPropertyNames(Object.getPrototypeOf(Mt.prototype)).filter(l=>l!=="constructor");throw new Error(`${n} is not a valid date formatter. Can only be one of ${d.join(", ")}`)}return this.dateFormatter[n]({date:e,locale:r,weekStartsOn:o,excludeDays:a,daysInWeek:s})}}return t.\u0275fac=function(e){return new(e||t)(C(Mt,16),C(Je,16))},t.\u0275pipe=pt({name:"calendarDate",type:t,pure:!0}),t})(),Vt=(()=>{class t{constructor(e){this.dateAdapter=e}getMonthView(e){return ri(this.dateAdapter,e)}getWeekViewHeader(e){return Ct(this.dateAdapter,e)}getWeekView(e){return ii(this.dateAdapter,e)}}return t.\u0275fac=function(e){return new(e||t)(qe(be))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),Ps=new Nn("Moment");var Ns=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:n}){return new Intl.DateTimeFormat(n,{weekday:"long"}).format(e)}monthViewDayNumber({date:e,locale:n}){return new Intl.DateTimeFormat(n,{day:"numeric"}).format(e)}monthViewTitle({date:e,locale:n}){return new Intl.DateTimeFormat(n,{year:"numeric",month:"long"}).format(e)}weekViewColumnHeader({date:e,locale:n}){return new Intl.DateTimeFormat(n,{weekday:"long"}).format(e)}weekViewColumnSubHeader({date:e,locale:n}){return new Intl.DateTimeFormat(n,{day:"numeric",month:"short"}).format(e)}weekViewTitle({date:e,locale:n,weekStartsOn:r,excludeDays:o,daysInWeek:a}){let{viewStart:s,viewEnd:d}=xt(this.dateAdapter,e,r,o,a),l=(c,p)=>new Intl.DateTimeFormat(n,{day:"numeric",month:"short",year:p?"numeric":void 0}).format(c);return`${l(s,s.getUTCFullYear()!==d.getUTCFullYear())} - ${l(d,!0)}`}weekViewHour({date:e,locale:n}){return new Intl.DateTimeFormat(n,{hour:"numeric"}).format(e)}dayViewHour({date:e,locale:n}){return new Intl.DateTimeFormat(n,{hour:"numeric"}).format(e)}dayViewTitle({date:e,locale:n}){return new Intl.DateTimeFormat(n,{day:"numeric",month:"long",year:"numeric",weekday:"long"}).format(e)}}return t.\u0275fac=function(e){return new(e||t)(qe(be))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),Se=function(t){return t.Drag="drag",t.Drop="drop",t.Resize="resize",t}(Se||{}),lt=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:[e,n.eventTitleFormatter||st,n.dateFormatter||Mt,n.utils||Vt,n.a11y||bt]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=fe({providers:[vt],imports:[tt]}),t})(),Ha=(()=>{class t{constructor(){this.highlightDay=new H,this.unhighlightDay=new H,this.eventClicked=new H,this.trackByEventId=Fi,this.validateDrag=kn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,n){e&2&&re("cal-past",n.day.isPast)("cal-today",n.day.isToday)("cal-future",n.day.isFuture)("cal-weekend",n.day.isWeekend)("cal-in-month",n.day.inMonth)("cal-out-month",!n.day.inMonth)("cal-has-events",n.day.events.length>0)("cal-open",n.day===n.openDay)("cal-event-highlight",!!n.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"mouseenter","mouseleave","mwlClick","ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress"]],template:function(e,n){if(e&1&&W(0,wo,8,14,"ng-template",null,0,oe)(2,Do,0,0,"ng-template",1),e&2){let r=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Kt(2,mo,[n.day,n.openDay,n.locale,n.tooltipPlacement,n.highlightDay,n.unhighlightDay,n.eventClicked,n.tooltipTemplate,n.tooltipAppendToBody,n.tooltipDelay,n.trackByEventId,n.validateDrag]))}},dependencies:[De,Ee,We,ae,et,Et,Ii,Ae,Ht,Tn,Be],encapsulation:2}),t})(),Va=Qn("collapse",[en("void",Qt({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),en("*",Qt({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),tn("* => void",Jt("150ms ease-out")),tn("void => *",Jt("150ms ease-in"))]),Wa=(()=>{class t{constructor(){this.isOpen=!1,this.eventClicked=new H,this.trackByEventId=Fi,this.validateDrag=kn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"mwlClick","mwlKeydownEnter","event","customTemplate"],[3,"event","customTemplate"]],template:function(e,n){if(e&1&&W(0,ko,1,1,"ng-template",null,0,oe)(2,So,0,0,"ng-template",1),e&2){let r=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Gt(2,_o,n.events,n.eventClicked,n.isOpen,n.trackByEventId,n.validateDrag))}},dependencies:[De,Ee,We,ae,et,Et,Mi,Oi,Ae,It,Be],encapsulation:2,data:{animation:[Va]}}),t})(),Fa=(()=>{class t{constructor(){this.columnHeaderClicked=new H,this.trackByWeekDayHeaderDate=En}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"click","ngClass"]],template:function(e,n){if(e&1&&W(0,Mo,2,2,"ng-template",null,0,oe)(2,Oo,0,0,"ng-template",1),e&2){let r=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",ft(2,bo,n.days,n.locale,n.trackByWeekDayHeaderDate))}},dependencies:[De,Ee,ae,Ht],encapsulation:2}),t})(),$s=(()=>{class t{constructor(e,n,r,o){this.cdr=e,this.utils=n,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new H,this.dayClicked=new H,this.eventClicked=new H,this.columnHeaderClicked=new H,this.eventTimesChanged=new H,this.trackByRowOffset=(a,s)=>this.view.days.slice(s,this.view.totalDaysVisibleInWeek).map(d=>d.date.toISOString()).join("-"),this.trackByDate=(a,s)=>s.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){let n=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;n&&this.refreshHeader(),e.events&&Hi(this.events),r&&this.refreshBody(),(n||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,n){this.view.days.forEach(r=>{n&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,n,r){if(e!==r){let o=this.dateAdapter.getYear(e.date),a=this.dateAdapter.getMonth(e.date),s=this.dateAdapter.getDate(e.date),d=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(n.start,o),a),s),l;if(n.end){let c=this.dateAdapter.differenceInSeconds(d,n.start);l=this.dateAdapter.addSeconds(n.end,c)}this.eventTimesChanged.emit({event:n,newStart:d,newEnd:l,day:e,type:Se.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(this.activeDayIsOpen===!0){let e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));let n=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(n/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return t.\u0275fac=function(e){return new(e||t)(C(Zt),C(Vt),C(Je),C(be))},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[Ie],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"columnHeaderClicked","days","locale","customTemplate"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"eventClicked","drop","locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked","ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled"]],template:function(e,n){e&1&&(x(0,"div",0)(1,"mwl-calendar-month-view-header",1),N("columnHeaderClicked",function(o){return n.columnHeaderClicked.emit(o)}),O(),x(2,"div",2),W(3,Ho,5,13,"div",3),O()()),e&2&&(w(),m("days",n.columnHeaders)("locale",n.locale)("customTemplate",n.headerTemplate),w(2),m("ngForOf",n.view.rowOffsets)("ngForTrackBy",n.trackByRowOffset))},dependencies:[De,Ee,et,kt,Ae,It,Ha,Wa,Fa,Zn,Be],encapsulation:2}),t})(),ki=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=fe({imports:[tt,ot,lt,ot]}),t})(),wn=class{constructor(i,e){this.dragContainerElement=i,this.startPosition=e.getBoundingClientRect()}validateDrag({x:i,y:e,snapDraggedEvents:n,dragAlreadyMoved:r,transform:o}){let a=kn({x:i,y:e})||r;if(n){let s=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(a){let d=this.dragContainerElement.getBoundingClientRect(),l=d.top<s.top&&s.top<d.bottom,c=d.top<s.bottom&&s.bottom<d.bottom;return Vi(d,s)&&(l||c)}return!1}else return a}},Dn=class{constructor(i,e,n){this.resizeContainerElement=i,this.minWidth=e,this.rtl=n}validateResize({rectangle:i,edges:e}){return this.rtl&&(typeof e.left<"u"?(i.left-=e.left,i.right+=e.left):typeof e.right<"u"&&(i.left+=e.right,i.right-=e.right),i.width=i.right-i.left),this.minWidth&&Math.ceil(i.width)<Math.ceil(this.minWidth)?!1:Ca(this.resizeContainerElement.getBoundingClientRect(),i)}},za=(()=>{class t{constructor(){this.dayHeaderClicked=new H,this.eventDropped=new H,this.dragEnter=new H,this.trackByWeekDayHeaderDate=En}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"mwlClick","drop","dragEnter","ngClass"]],template:function(e,n){if(e&1&&W(0,Fo,2,2,"ng-template",null,0,oe)(2,zo,0,0,"ng-template",1),e&2){let r=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Gn(2,Vo,n.days,n.locale,n.dayHeaderClicked,n.eventDropped,n.dragEnter,n.trackByWeekDayHeaderDate))}},dependencies:[De,Ee,ae,kt,Ae,Ht],encapsulation:2}),t})(),Ra=(()=>{class t{constructor(){this.eventClicked=new H}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"mwlClick","mwlKeydownEnter","ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,n){if(e&1&&W(0,Bo,6,27,"ng-template",null,0,oe)(2,Lo,0,0,"ng-template",1),e&2){let r=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Kt(2,Ro,[n.weekEvent,n.tooltipPlacement,n.eventClicked,n.tooltipTemplate,n.tooltipAppendToBody,n.tooltipDisabled,n.tooltipDelay,n.column,n.daysInWeek]))}},dependencies:[ae,et,Mi,Oi,Ii,Ae,It,Tn,Be],encapsulation:2}),t})(),Aa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,n){if(e&1&&W(0,$o,3,13,"ng-template",null,0,oe)(2,Yo,0,0,"ng-template",1),e&2){let r=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Gt(2,Po,n.segment,n.locale,n.segmentHeight,n.isTimeLabel,n.daysInWeek))}},dependencies:[De,We,ae,Ht,Be],encapsulation:2}),t})(),Ba=(()=>{class t{constructor(e,n){this.dateAdapter=e,this.zone=n,this.columnDate$=new On(void 0),this.marker$=this.zone.onStable.pipe(Bn(()=>Fn(60*1e3)),ut(0),Ln(this.columnDate$),j(r=>{let o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),a=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),s=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),d=new Date;return{isVisible:this.dateAdapter.isSameDay(r,d)&&d>=o&&d<=a,top:this.dateAdapter.differenceInMinutes(d,o)*s}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(C(be),C(_e))},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[Ie],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,n){if(e&1&&(W(0,Uo,1,1,"ng-template",null,0,oe)(2,Go,0,0,"ng-template",1),P(3,"async"),P(4,"async")),e&2){let r,o=U(1);w(2),m("ngTemplateOutlet",n.customTemplate||o)("ngTemplateOutletContext",Kn(6,jo,n.columnDate,n.dayStartHour,n.dayStartMinute,n.dayEndHour,n.dayEndMinute,(r=qt(3,2,n.marker$))==null?null:r.isVisible,(r=qt(4,4,n.marker$))==null?null:r.top))}},dependencies:[We,ae,qn],encapsulation:2}),t})(),La=(()=>{class t{constructor(e,n,r,o,a){this.cdr=e,this.utils=n,this.dateAdapter=o,this.element=a,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new H,this.eventClicked=new H,this.eventTimesChanged=new H,this.beforeViewRender=new H,this.hourSegmentClicked=new H,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=En,this.trackByHourSegment=Ta,this.trackByHour=Ea,this.trackByWeekAllDayEvent=ka,this.trackByWeekTimeEvent=Sa,this.trackByHourColumn=(s,d)=>d.hours[0]?d.hours[0].segments[0].date.toISOString():d,this.trackById=(s,d)=>d.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){let n=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;n&&this.refreshHeader(),e.events&&Hi(this.events),r&&this.refreshBody(),(n||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&getComputedStyle(this.element.nativeElement).direction==="rtl",this.cdr.detectChanges()}timeEventResizeStarted(e,n,r){this.timeEventResizes.set(n.event,r),this.resizeStarted(e,n)}timeEventResizing(e,n){this.timeEventResizes.set(e.event,n);let r=new Map,o=[...this.events];this.timeEventResizes.forEach((a,s)=>{let d=this.getTimeEventResizedDates(s,a),l=Z(Z({},s),d);r.set(l,s);let c=o.indexOf(s);o[c]=l}),this.restoreOriginalEvents(o,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);let n=this.timeEventResizes.get(e.event);if(n){this.timeEventResizes.delete(e.event);let r=this.getTimeEventResizedDates(e.event,n);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:Se.Resize})}}allDayEventResizeStarted(e,n,r){this.allDayEventResizes.set(n,{originalOffset:n.offset,originalSpan:n.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,n,this.getDayColumnWidth(e))}allDayEventResizing(e,n,r){let o=this.allDayEventResizes.get(e),a=this.rtl?-1:1;if(typeof n.edges.left<"u"){let s=Math.round(+n.edges.left/r)*a;e.offset=o.originalOffset+s,e.span=o.originalSpan-s}else if(typeof n.edges.right<"u"){let s=Math.round(+n.edges.right/r)*a;e.span=o.originalSpan+s}}allDayEventResizeEnded(e){let n=this.allDayEventResizes.get(e);if(n){let r=n.edge==="left",o;r?o=e.offset-n.originalOffset:o=e.span-n.originalSpan,e.offset=n.originalOffset,e.span=n.originalSpan;let a=this.getAllDayEventResizedDates(e.event,o,r);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:e.event,type:Se.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,n,r){Oa(e,n,r,this.calendarId)&&this.lastDragEnterDate.getTime()===n.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:Se.Drop,event:e.dropData.event,newStart:n,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,n,r,o){this.dayColumnWidth=this.getDayColumnWidth(e);let a=new wn(e,n);this.validateDrag=({x:s,y:d,transform:l})=>{let c=this.allDayEventResizes.size===0&&this.timeEventResizes.size===0&&a.validateDrag({x:s,y:d,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:l});if(c&&this.validateEventTimesChanged){let p=this.getDragMovedEventTimes(r,{x:s,y:d},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:Se.Drag,event:r.event,newStart:p.start,newEnd:p.end})}return c},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(s=>{let d=s.events.find(l=>l.event===r.event&&l!==r);d&&(d.width=0,d.height=0)}),this.cdr.markForCheck()}dragMove(e,n){let r=this.getDragMovedEventTimes(e,n,this.dayColumnWidth,!0),o=e.event,a=Z(Z({},o),r),s=this.events.map(d=>d===o?a:d);this.restoreOriginalEvents(s,new Map([[a,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,n,r,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;let{start:a,end:s}=this.getDragMovedEventTimes(e,n,r,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&Ma(a,s,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:a,newEnd:s,event:e.event,type:Se.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Z({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},xt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Z({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Z({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},xt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,n,r,o){let a=Wi(n.x,r)/r*(this.rtl?-1:1),s=o?yn(n.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,d=this.dateAdapter.addMinutes(Re(this.dateAdapter,e.event.start,a,this.excludeDays),s),l;return e.event.end&&(l=this.dateAdapter.addMinutes(Re(this.dateAdapter,e.event.end,a,this.excludeDays),s)),{start:d,end:l}}restoreOriginalEvents(e,n,r=!0){let o=this.view;r&&(this.view=this.getWeekView(e));let a=e.filter(s=>n.has(s));this.view.hourColumns.forEach((s,d)=>{o.hourColumns[d].hours.forEach((l,c)=>{l.segments.forEach((p,D)=>{s.hours[c].segments[D].cssClass=p.cssClass})}),a.forEach(l=>{let c=n.get(l),p=s.events.find(D=>D.event===(r?l:c));if(p)p.event=c,p.tempEvent=l,r||(p.height=0,p.width=0);else{let D={event:c,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:l};s.events.push(D)}})}),n.clear()}getTimeEventResizedDates(e,n){let r={start:e.start,end:Ei(this.dateAdapter,e,this.minimumEventHeight)},l=e,{end:o}=l,a=Mn(l,["end"]),s={start:this.dateAdapter.addMinutes(r.end,this.minimumEventHeight*-1),end:Ei(this.dateAdapter,a,this.minimumEventHeight)},d=this.rtl?-1:1;if(typeof n.edges.left<"u"){let c=Math.round(+n.edges.left/this.dayColumnWidth)*d,p=Re(this.dateAdapter,r.start,c,this.excludeDays);p<s.start?r.start=p:r.start=s.start}else if(typeof n.edges.right<"u"){let c=Math.round(+n.edges.right/this.dayColumnWidth)*d,p=Re(this.dateAdapter,r.end,c,this.excludeDays);p>s.end?r.end=p:r.end=s.end}if(typeof n.edges.top<"u"){let c=yn(n.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),p=this.dateAdapter.addMinutes(r.start,c);p<s.start?r.start=p:r.start=s.start}else if(typeof n.edges.bottom<"u"){let c=yn(n.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),p=this.dateAdapter.addMinutes(r.end,c);p>s.end?r.end=p:r.end=s.end}return r}resizeStarted(e,n,r){this.dayColumnWidth=this.getDayColumnWidth(e);let o=new Dn(e,r,this.rtl);this.validateResize=({rectangle:a,edges:s})=>{let d=o.validateResize({rectangle:Z({},a),edges:s});if(d&&this.validateEventTimesChanged){let l;if(!r)l=this.getTimeEventResizedDates(n.event,{rectangle:a,edges:s});else{let c=this.rtl?-1:1;if(typeof s.left<"u"){let p=Math.round(+s.left/r)*c;l=this.getAllDayEventResizedDates(n.event,p,!this.rtl)}else{let p=Math.round(+s.right/r)*c;l=this.getAllDayEventResizedDates(n.event,p,this.rtl)}}return this.validateEventTimesChanged({type:Se.Resize,event:n.event,newStart:l.start,newEnd:l.end})}return d},this.cdr.markForCheck()}getAllDayEventResizedDates(e,n,r){let o=e.start,a=e.end||e.start;return r?o=Re(this.dateAdapter,o,n,this.excludeDays):a=Re(this.dateAdapter,a,n,this.excludeDays),{start:o,end:a}}}return t.\u0275fac=function(e){return new(e||t)(C(Zt),C(Vt),C(Je),C(be),C(ie))},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[Ie],decls:8,vars:9,consts:[["dayColumns",""],["allDayEventsContainer",""],["eventRowContainer",""],["event",""],["weekEventTemplate",""],["role","grid",1,"cal-week-view"],[3,"dayHeaderClicked","eventDropped","dragEnter","days","locale","customTemplate"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress"],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag"],[3,"ngTemplateOutlet"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"mwlClick","drop","dragEnter","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel"]],template:function(e,n){if(e&1){let r=Q();x(0,"div",5)(1,"mwl-calendar-week-view-header",6),N("dayHeaderClicked",function(a){return k(r),S(n.dayHeaderClicked.emit(a))})("eventDropped",function(a){return k(r),S(n.eventDropped({dropData:a},a.newStart,!0))})("dragEnter",function(a){return k(r),S(n.dateDragEnter(a.date))}),O(),W(2,sa,6,5,"div",7),x(3,"div",8),N("dragEnter",function(){return k(r),S(n.dragEnter("time"))})("dragLeave",function(){return k(r),S(n.dragLeave("time"))}),W(4,ca,2,2,"div",9),x(5,"div",10,0),W(7,ya,5,13,"div",11),O()()()}e&2&&(w(),m("days",n.days)("locale",n.locale)("customTemplate",n.headerTemplate),w(),m("ngIf",n.view.allDayEventRows.length>0),w(2),m("ngIf",n.view.hourColumns.length>0&&n.daysInWeek!==1),w(),re("cal-resize-active",n.timeEventResizes.size>0),w(2),m("ngForOf",n.view.hourColumns)("ngForTrackBy",n.trackByHourColumn))},dependencies:[De,Ee,We,ae,vn,Ci,Et,kt,Ae,za,Ra,Aa,Ba],encapsulation:2}),t})(),_n=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=fe({imports:[tt,gn,ot,lt,gn,ot]}),t})(),Ys=(()=>{class t{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new H,this.hourSegmentClicked=new H,this.eventTimesChanged=new H,this.beforeViewRender=new H}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=te({type:t,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender","daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged"]],template:function(e,n){e&1&&(x(0,"mwl-calendar-week-view",0),N("eventClicked",function(o){return n.eventClicked.emit(o)})("hourSegmentClicked",function(o){return n.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return n.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return n.beforeViewRender.emit(o)}),O()),e&2&&m("daysInWeek",1)("viewDate",n.viewDate)("events",n.events)("hourSegments",n.hourSegments)("hourDuration",n.hourDuration)("hourSegmentHeight",n.hourSegmentHeight)("minimumEventHeight",n.minimumEventHeight)("dayStartHour",n.dayStartHour)("dayStartMinute",n.dayStartMinute)("dayEndHour",n.dayEndHour)("dayEndMinute",n.dayEndMinute)("refresh",n.refresh)("locale",n.locale)("eventSnapSize",n.eventSnapSize)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("resizeCursors",n.resizeCursors)("hourSegmentTemplate",n.hourSegmentTemplate)("eventTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("snapDraggedEvents",n.snapDraggedEvents)("allDayEventsLabelTemplate",n.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",n.currentTimeMarkerTemplate)("validateEventTimesChanged",n.validateEventTimesChanged)},dependencies:[La],encapsulation:2}),t})(),Si=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=fe({imports:[tt,lt,_n]}),t})(),js=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:[e,n.eventTitleFormatter||st,n.dateFormatter||Mt,n.utils||Vt,n.a11y||bt]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ve({type:t}),t.\u0275inj=fe({imports:[lt,ki,_n,Si,lt,ki,_n,Si]}),t})();function g(t){let i=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&i==="[object Date]"?new t.constructor(+t):typeof t=="number"||i==="[object Number]"||typeof t=="string"||i==="[object String]"?new Date(t):new Date(NaN)}function G(t,i){return t instanceof Date?new t.constructor(i):new Date(i)}function je(t,i){let e=g(t);return isNaN(i)?G(t,NaN):(i&&e.setDate(e.getDate()+i),e)}function Wt(t,i){let e=g(t);if(isNaN(i))return G(t,NaN);if(!i)return e;let n=e.getDate(),r=G(t,e.getTime());r.setMonth(e.getMonth()+i+1,0);let o=r.getDate();return n>=o?r:(e.setFullYear(r.getFullYear(),r.getMonth(),n),e)}function Xe(t,i){let e=+g(t);return G(t,e+i)}var Pa=Math.pow(10,8)*24*60*60*1e3,al=-Pa,zi=6048e5,Ri=864e5,Ft=6e4,Ai=36e5;var Na=3600;var Bi=Na*24,sl=Bi*7,$a=Bi*365.2425,Ya=$a/12,ll=Ya*3;function Li(t,i){return Xe(t,i*Ai)}var ja={};function zt(){return ja}function Rt(t,i){let e=zt(),n=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=g(t),o=r.getDay(),a=(o<n?7:0)+o-n;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function Le(t){return Rt(t,{weekStartsOn:1})}function Pi(t){let i=g(t),e=i.getFullYear(),n=G(t,0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);let r=Le(n),o=G(t,0);o.setFullYear(e,0,4),o.setHours(0,0,0,0);let a=Le(o);return i.getTime()>=r.getTime()?e+1:i.getTime()>=a.getTime()?e:e-1}function xe(t){let i=g(t);return i.setHours(0,0,0,0),i}function Sn(t){let i=g(t),e=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return e.setUTCFullYear(i.getFullYear()),+t-+e}function Ni(t,i){let e=xe(t),n=xe(i),r=+e-Sn(e),o=+n-Sn(n);return Math.round((r-o)/Ri)}function $i(t){let i=Pi(t),e=G(t,0);return e.setFullYear(i,0,4),e.setHours(0,0,0,0),Le(e)}function Yi(t,i){return Xe(t,i*Ft)}function ji(t,i){return Xe(t,i*1e3)}function At(t,i){let e=i*7;return je(t,e)}function Xi(t){let i;return t.forEach(function(e){let n=g(e);(i===void 0||i<n||isNaN(Number(n)))&&(i=n)}),i||new Date(NaN)}function Ui(t,i){let e=xe(t),n=xe(i);return+e==+n}function Ki(t,i){let e=g(t),n=g(i),r=Gi(e,n),o=Math.abs(Ni(e,n));e.setDate(e.getDate()-r*o);let a=+(Gi(e,n)===-r),s=r*(o-a);return s===0?0:s}function Gi(t,i){let e=t.getFullYear()-i.getFullYear()||t.getMonth()-i.getMonth()||t.getDate()-i.getDate()||t.getHours()-i.getHours()||t.getMinutes()-i.getMinutes()||t.getSeconds()-i.getSeconds()||t.getMilliseconds()-i.getMilliseconds();return e<0?-1:e>0?1:e}function Bt(t){return i=>{let n=(t?Math[t]:Math.trunc)(i);return n===0?0:n}}function Lt(t,i){return+g(t)-+g(i)}function qi(t,i,e){let n=Lt(t,i)/Ft;return Bt(e?.roundingMethod)(n)}function Zi(t){let i=g(t);return i.setHours(23,59,59,999),i}function Ji(t){let i=g(t),e=i.getMonth();return i.setFullYear(i.getFullYear(),e+1,0),i.setHours(23,59,59,999),i}function Qi(t,i,e){let n=Lt(t,i)/1e3;return Bt(e?.roundingMethod)(n)}function er(t){let i=g(t);return i.setSeconds(0,0),i}function tr(t){let i=g(t);return i.setDate(1),i.setHours(0,0,0,0),i}function nr(t,i){let e=zt(),n=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=g(t),o=r.getDay(),a=(o<n?-7:0)+6-(o-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}function ir(t){let i=g(t),e=+Le(i)-+$i(i);return Math.round(e/zi)+1}function rr(t){return g(t).getDate()}function or(t){return g(t).getDay()}function ar(t){let i=g(t),e=i.getFullYear(),n=i.getMonth(),r=G(t,0);return r.setFullYear(e,n+1,0),r.setHours(0,0,0,0),r.getDate()}function sr(t){return g(t).getHours()}function lr(t){return g(t).getMinutes()}function dr(t){return g(t).getMonth()}function cr(t){return g(t).getFullYear()}function ur(t,i){let e=g(t),n=g(i);return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()}function bn(t){let i=g(t);return i.setMilliseconds(0),i}function pr(t,i){let e=bn(t),n=bn(i);return+e==+n}function mr(t,i){return je(t,-i)}function hr(t,i){let e=g(t),n=e.getFullYear(),r=e.getDate(),o=G(t,0);o.setFullYear(n,i,15),o.setHours(0,0,0,0);let a=ar(o);return e.setMonth(i,Math.min(r,a)),e}function fr(t,i){let e=g(t);return e.setDate(i),e}function vr(t,i){let e=g(t);return e.setHours(i),e}function gr(t,i){let e=g(t);return e.setMinutes(i),e}function yr(t,i){let e=g(t);return isNaN(+e)?G(t,NaN):(e.setFullYear(i),e)}function wr(t,i){return Wt(t,-i)}function Dr(t,i){return At(t,-i)}function Xa(t){return new Date(t).getTimezoneOffset()}function _r(){return{addDays:je,addHours:Li,addMinutes:Yi,addSeconds:ji,differenceInDays:Ki,differenceInMinutes:qi,differenceInSeconds:Qi,endOfDay:Zi,endOfMonth:Ji,endOfWeek:nr,getDay:or,getMonth:dr,isSameDay:Ui,isSameMonth:ur,isSameSecond:pr,max:Xi,setHours:vr,setMinutes:gr,startOfDay:xe,startOfMinute:er,startOfMonth:tr,startOfWeek:Rt,getHours:sr,getMinutes:lr,getTimezoneOffset:Xa}}function pc(){return Xt(Xt({},_r()),{addWeeks:At,addMonths:Wt,subDays:mr,subWeeks:Dr,subMonths:wr,getISOWeek:ir,setDate:fr,setMonth:hr,setYear:yr,getDate:rr,getYear:cr})}export{Da as a,be as b,Mt as c,Ns as d,$s as e,La as f,Ys as g,js as h,pc as i};
