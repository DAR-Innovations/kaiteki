import './polyfills.server.mjs';
import{a as Tt}from"./chunk-GZ6MRWX4.mjs";import{a as dt}from"./chunk-CKIO23JR.mjs";import{b as Ve}from"./chunk-AM4SDK4B.mjs";import{a as E}from"./chunk-HOL4TTOB.mjs";import{Aa as Qe,Ba as We,E as Ie,G as ke,I as W,K as ze,L as K,La as Ke,M as Y,Ma as Ye,N as J,Na as Je,O as S,Oa as Xe,Q as X,Ra as Ze,Sa as et,T as Z,Ta as tt,U as ee,Ua as it,Va as nt,Wa as ot,Xa as rt,Ya as at,Za as lt,_a as st,a as Pe,aa as Le,b as A,ca as je,cb as mt,da as $e,db as pt,ea as Re,eb as ct,f as De,fa as Ne,ga as Ue,h as Ee,ha as te,i as Oe,ka as ie,la as ne,n as pe,na as oe,pa as Be,qa as Ae,sa as Ge,t as G,u as H,v as q,w as Q,wa as He,za as qe}from"./chunk-YAF7A7YL.mjs";import{b as Se}from"./chunk-IWV7G257.mjs";import{Aa as N,Bb as p,F as V,Hb as C,I as fe,Ib as xe,Jb as se,Ka as he,Kb as M,Lb as b,Mb as r,N as ue,Nb as o,Ob as c,Pb as y,Qb as T,Rc as Me,Sb as U,Vb as g,X as _e,Xb as h,Y as w,_ as z,_b as ve,aa as ge,dc as B,ea as L,eb as Ce,ec as s,f as P,fa as j,fc as D,gc as x,hb as m,ib as d,ja as O,k as ce,o as F,oc as Fe,pa as u,qa as $,rd as be,s as de,sd as ye,wd as Te,xc as I,yc as me,za as R,zb as f,zc as we}from"./chunk-JAB3SG4D.mjs";import"./chunk-6VT7JIM2.mjs";import{a as le,g as yt}from"./chunk-FME56UVT.mjs";var ut=(()=>{let t=class t{constructor(n,i){this.dialogRef=n,this.toastService=i,this.form=new J({description:new S("",[ze.required]),files:new S([],[Ae.filesLimit(1)])})}onBackClick(){this.dialogRef.close()}onSubmit(){let{description:n,files:i}=this.form.getRawValue(),l=i?.[0]??void 0;if(!l||!n){this.toastService.error("Missing required fields");return}let _={description:n,file:l};this.dialogRef.close(_)}};t.\u0275fac=function(i){return new(i||t)(d(Le),d(E))},t.\u0275cmp=u({type:t,selectors:[["app-upload-file-dialog"]],decls:14,vars:3,consts:[["mat-dialog-title","",1,"upload-file__title"],["mat-dialog-content","",1,"upload-file"],[1,"upload-file__form",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","description","placeholder","Enter File Description","cdkTextareaAutosize","","cdkAutosizeMinRows","1"],["formControlName","files","fileslimit","1",3,"multiple"],["align","end"],["mat-stroked-button","",3,"click"],["type","submit","mat-flat-button","","color","primary",3,"click","disabled"]],template:function(i,l){i&1&&(r(0,"h4",0),s(1,` Upload File
`),o(),r(2,"section",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),s(6,"Description"),o(),c(7,"textarea",4),o(),c(8,"file-upload",5),o()(),r(9,"mat-dialog-actions",6)(10,"button",7),g("click",function(){return l.onBackClick()}),s(11," Back "),o(),r(12,"button",8),g("click",function(){return l.onSubmit()}),s(13," Upload "),o()()),i&2&&(m(3),p("formGroup",l.form),m(5),p("multiple",!1),m(4),p("disabled",l.form.invalid))},dependencies:[A,ne,ie,te,Ue,$e,Ne,Re,X,W,K,Y,Z,ee,Be,Ge],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.upload-file__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.upload-file__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:16px}.upload-file__form-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.row[_ngcontent-%COMP%]{display:flex;gap:22px}.quill__editor[_ngcontent-%COMP%]{width:100%;margin-bottom:1.6rem}"],changeDetection:0});let e=t;return e})();function Vt(e,t){if(e&1&&(r(0,"mat-option",5),s(1),o()),e&2){let a=t.$implicit;p("matTooltip",a.name)("value",a.id),m(),x(" ",a.name," ")}}function zt(e,t){if(e&1&&(r(0,"mat-option",5),s(1),o()),e&2){let a=t.$implicit;p("matTooltip",a.name)("value",a.id),m(),x(" ",a.name," ")}}var _t=(()=>{let t=class t{constructor(n,i,l){this.cd=n,this.router=i,this.route=l,this.filter=new he,this.destroy$=new P,this.views=[{id:"list",name:"List"},{id:"table",name:"Table"}],this.sorting=[{id:"createdAt,asc",name:"Date \u2197"},{id:"createdAt,desc",name:"Date \u2198"}],this.form=new J({searchValue:new S(""),view:new S(""),sort:new S("")})}ngOnInit(){this.patchInitialFormValues(),this.trackFormValueChanges()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}patchInitialFormValues(){let n=this.getQueryParameters();this.form.patchValue({searchValue:n.searchValue,view:n.view,sort:n.sort}),this.filter.emit(n),this.cd.markForCheck()}trackFormValueChanges(){this.form.valueChanges.pipe(fe(800),ue(),z(this.destroy$)).subscribe(n=>{let i={searchValue:n.searchValue??void 0,view:n.view??void 0,sort:n.sort??void 0};this.saveQueryParameters(i),this.filter.emit(i)})}saveQueryParameters(n){this.router.navigate([],{queryParams:n,queryParamsHandling:"merge"})}getQueryParameters(){let n={searchValue:"",view:this.views[0].id,sort:this.sorting[1].id},i=this.route.snapshot.queryParams;return ke(i,n)}};t.\u0275fac=function(i){return new(i||t)(d(Me),d(Ee),d(De))},t.\u0275cmp=u({type:t,selectors:[["app-files-filter"]],outputs:{filter:"filter"},decls:23,vars:1,consts:[[1,"filter"],[1,"filter__fields",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","searchValue","type","text","placeholder","Filename"],["formControlName","view"],[3,"matTooltip","value"],["formControlName","sort"]],template:function(i,l){i&1&&(r(0,"section",0)(1,"mat-accordion")(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title"),s(5,"Filters"),o()(),r(6,"form",1)(7,"mat-form-field",2)(8,"mat-label"),s(9,"Search"),o(),c(10,"input",3),o(),r(11,"mat-form-field",2)(12,"mat-label"),s(13,"View"),o(),r(14,"mat-select",4),M(15,Vt,2,3,"mat-option",5,se),o()(),r(17,"mat-form-field",2)(18,"mat-label"),s(19,"Sorting"),o(),r(20,"mat-select",6),M(21,zt,2,3,"mat-option",5,se),o()()()()()()),i&2&&(m(6),p("formGroup",l.form),m(9),b(l.views),m(6),b(l.sorting))},dependencies:[Xe,Ke,Ye,Je,ne,ie,te,qe,Pe,oe,X,W,K,Y,Z,ee],styles:["[_nghost-%COMP%]     mat-form-field{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.filter[_ngcontent-%COMP%]{margin-top:22px}.filter__fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem;align-items:start}"],changeDetection:0});let e=t;return e})();var gt=(()=>{let t=class t{constructor(n){this.httpClient=n,this.baseUrl="/api/v1/team-files"}uploadTeamFile(n,i){let l=new FormData;return l.append("file",i.file),l.append("description",i.description),this.httpClient.post(`${this.baseUrl}`,l,{params:{teamId:n}})}getTeamFiles(n,i,l){let _=le(le({teamId:n},l),i);return this.httpClient.get(`${this.baseUrl}`,{params:Ie(_)})}deleteTeamFile(n,i){return this.httpClient.delete(`${this.baseUrl}/${i}`,{params:{teamId:n}})}updateTeamFile(n,i,l){return this.httpClient.put(`${this.baseUrl}/${i}`,l,{params:{teamId:n}})}};t.\u0275fac=function(i){return new(i||t)(O(Se))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var re=(()=>{let t=class t{constructor(n,i){this.teamFilesApiService=n,this.teamsService=i,this.refreshTeamFilesSubject=new P,this.refreshTeamFiles$=this.refreshTeamFilesSubject.asObservable()}triggerRefreshTeamFiles(){this.refreshTeamFilesSubject.next()}uploadTeamFile(n){return this.teamsService.currentTeam$.pipe(w(i=>i?this.teamFilesApiService.uploadTeamFile(i.id,n):F(()=>Error("No current team"))))}getTeamFiles(n,i){return this.teamsService.currentTeam$.pipe(w(l=>l?this.teamFilesApiService.getTeamFiles(l.id,n,i):F(()=>Error("No current team"))))}deleteTeamFile(n){return this.teamsService.currentTeam$.pipe(w(i=>i?this.teamFilesApiService.deleteTeamFile(i.id,n):F(()=>Error("No current team"))))}updateTeamFile(n,i){return this.teamsService.currentTeam$.pipe(w(l=>l?this.teamFilesApiService.updateTeamFile(l.id,n,i):F(()=>Error("No current team"))))}};t.\u0275fac=function(i){return new(i||t)(O(gt),O(Ve))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ct=(()=>{let t=class t{constructor(n,i,l){this.dialog=n,this.teamFilesService=i,this.toastrService=l,this.unsubscribe$=new P}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onUploadButtonClick(){this.dialog.open(ut,{minWidth:"30%"}).afterClosed().pipe(w(i=>i?this.teamFilesService.uploadTeamFile(i):ce),V(i=>(this.toastrService.error("Failed to upload a team file"),F(()=>i))),z(this.unsubscribe$)).subscribe(()=>{this.toastrService.open("Successfully uploaded team file"),this.teamFilesService.triggerRefreshTeamFiles()})}};t.\u0275fac=function(i){return new(i||t)(d(je),d(re),d(E))},t.\u0275cmp=u({type:t,selectors:[["app-files-toolbar"]],decls:8,vars:0,consts:[[1,"files__toolbar"],[1,"files__toolbar-left"],[1,"files__toolbar-right"],["icon","upload",1,"files__toolbar-item",3,"click"]],template:function(i,l){i&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),s(3,"Files Manager"),o()(),r(4,"div",2)(5,"app-button",3),g("click",function(){return l.onUploadButtonClick()}),r(6,"p"),s(7,"Upload"),o()()()())},dependencies:[pt],styles:["h1[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.files__toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:space-between;overflow-x:auto;overflow-y:hidden}.files__toolbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 40em){.files__toolbar-left[_ngcontent-%COMP%]{display:none}}.files__toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}"],changeDetection:0});let e=t;return e})();var xt=yt(Tt());var Rt=["Bytes","KB","MB","GB","TB"];function ae(e){let t=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,t)).toFixed(2)} ${Rt[t]}`}function Bt(e,t){if(e&1&&c(0,"img",4),e&2){let a=h(2);ve("src","api/v1/files/",a.file.fileId,"",Ce)}}function At(e,t){e&1&&(r(0,"mat-icon",10),s(1,"insert_drive_file"),o(),r(2,"p",11),s(3,"No document preview"),o())}function Gt(e,t){if(e&1&&(r(0,"div",1)(1,"div",3),f(2,Bt,1,2,"img",4)(3,At,4,0),o(),r(4,"p",5),s(5),o(),r(6,"p",6),s(7),o(),r(8,"div",7)(9,"p",8),s(10),o(),r(11,"p",9),s(12),o()()()),e&2){let a=h(),n=B(2);m(),p("matMenuTriggerFor",n),m(),C(2,a.isImage?2:3),m(2),p("matMenuTriggerFor",n)("matTooltip",a.file.description),m(),x(" ",a.file.description," "),m(2),D(a.file.filename),m(3),D(a.fileType),m(2),x(" ",a.getFormattedFileSize(a.file.size)," ")}}var vt=(()=>{let t=class t{constructor(n){this.filesService=n,this.file=null}getFormattedFileSize(n){return ae(n)}onDownloadClick(){this.file&&this.filesService.downloadFile(this.file.fileId)}get fileType(){return this.file?xt.default[this.file.contentType].extensions?.[0].toLocaleUpperCase()??"Document":"Document"}get isImage(){return this.file?this.file.contentType.includes("image/"):!1}};t.\u0275fac=function(i){return new(i||t)(d(dt))},t.\u0275cmp=u({type:t,selectors:[["app-files-list-item"]],inputs:{file:"file"},decls:7,vars:1,consts:[["menu","matMenu"],[1,"files__item"],["mat-menu-item","",3,"click"],[1,"files__item-preview-wrapper",3,"matMenuTriggerFor"],["loading","lazy","alt","Preview",1,"files__item-preview-img",3,"src"],[1,"files__item-title",3,"matMenuTriggerFor","matTooltip"],[1,"files__item-desc"],[1,"files__item-bottom"],[1,"files__item-type"],[1,"files__item-size"],[1,"files__item-preview-icon"],[1,"files__item-preview-title"]],template:function(i,l){if(i&1){let _=U();f(0,Gt,13,8,"div",1),r(1,"mat-menu",null,0)(3,"button",2),g("click",function(){return R(_),N(l.onDownloadClick())}),r(4,"mat-icon"),s(5,"download"),o(),s(6," Download "),o()()}i&2&&C(0,l.file?0:-1)},dependencies:[G,q,H,Q,oe],styles:[".files__item[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;background:#fff;border:1px solid #e2e8f0}.files__item-bottom[_ngcontent-%COMP%]{margin-top:16px;display:flex;align-items:center;gap:8px}.files__item-type[_ngcontent-%COMP%]{width:fit-content;font-size:12px;padding:4px 16px;border-radius:8px;background:#f1f5fa;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.files__item-title[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:6px!important;font-size:14px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.files__item-size[_ngcontent-%COMP%]{width:fit-content;font-size:12px;padding:4px 16px;border-radius:8px;background:#f1f5fa}.files__item-desc[_ngcontent-%COMP%]{font-size:12px;color:#575757;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.files__item-preview-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;height:240px;background:#f3f4f6;padding:20px;overflow:hidden;border-radius:8px;cursor:pointer}.files__item-preview-img[_ngcontent-%COMP%]{width:100%;max-height:100%;object-fit:contain}.files__item-preview-icon[_ngcontent-%COMP%]{font-size:30px;width:30px;height:30px;color:#9ca3af}.files__item-preview-title[_ngcontent-%COMP%]{margin-top:12px!important;color:#9ca3af;font-size:12px}"],changeDetection:0});let e=t;return e})();var qt=(e,t)=>t.id;function Qt(e,t){if(e&1&&c(0,"app-files-list-item",1),e&2){let a=t.$implicit;p("file",a)}}var Ft=(()=>{let t=class t{constructor(){this.files=[]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-files-list-view"]],inputs:{files:"files"},decls:3,vars:0,consts:[[1,"files__list"],[3,"file"]],template:function(i,l){i&1&&(r(0,"div",0),M(1,Qt,1,1,"app-files-list-item",1,qt),o()),i&2&&(m(),b(l.files))},dependencies:[vt],styles:[".files__list[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;gap:14px;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-template-rows:none}"],changeDetection:0});let e=t;return e})();function Yt(e,t){e&1&&(r(0,"th",13),s(1," Filename "),o())}function Jt(e,t){if(e&1&&(r(0,"td",14)(1,"p"),s(2),o()()),e&2){let a=t.$implicit;m(2),D(a.filename)}}function Xt(e,t){e&1&&(r(0,"th",13),s(1," Created Date "),o())}function Zt(e,t){if(e&1&&(r(0,"td",14),s(1),I(2,"date"),o()),e&2){let a=t.$implicit;m(),x(" ",we(2,1,a.createdDate,"EEEE, MMMM d")," ")}}function ei(e,t){e&1&&(r(0,"th",13),s(1," Type "),o())}function ti(e,t){if(e&1&&(r(0,"td",14),s(1),o()),e&2){let a=t.$implicit;m(),x(" ",a.contentType," ")}}function ii(e,t){e&1&&(r(0,"th",13),s(1," Size "),o())}function ni(e,t){if(e&1&&(r(0,"td",14),s(1),o()),e&2){let a=t.$implicit,n=h();m(),x(" ",n.getFormattedFileSize(a.size)," ")}}function oi(e,t){e&1&&(r(0,"th",13),s(1," Description "),o())}function ri(e,t){if(e&1&&(r(0,"td",14)(1,"p"),s(2),o()()),e&2){let a=t.$implicit;m(2),D(a.description)}}function ai(e,t){e&1&&c(0,"th",13)}function li(e,t){if(e&1){let a=U();r(0,"td",14)(1,"button",15),g("click",function(i){R(a);let l=h();return N(l.onMoreClick(i))}),r(2,"mat-icon"),s(3,"more_horizont"),o()(),r(4,"mat-menu",null,0)(6,"button",16)(7,"mat-icon"),s(8,"download"),o(),s(9," Download "),o()()()}if(e&2){let a=B(5);m(),p("matMenuTriggerFor",a)}}function si(e,t){e&1&&c(0,"tr",17)}function mi(e,t){e&1&&c(0,"tr",18)}var wt=(()=>{let t=class t{constructor(){this.files=[],this.displayedColumns=["filename","createdDate","type","size","description","actions"]}onMoreClick(n){n.stopPropagation()}getFormattedFileSize(n){return ae(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-files-table-view"]],inputs:{files:"files"},decls:23,vars:3,consts:[["taskMoreMenu","matMenu"],[1,"files-table__wrapper"],["mat-table","",3,"dataSource"],["matColumnDef","filename"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdDate"],["matColumnDef","type"],["matColumnDef","size"],["matColumnDef","description"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click","matMenuTriggerFor"],["mat-menu-item",""],["mat-header-row",""],["mat-row",""]],template:function(i,l){i&1&&(r(0,"div",1)(1,"table",2),c(2,"caption"),y(3,3),f(4,Yt,2,0,"th",4)(5,Jt,3,1,"td",5),T(),y(6,6),f(7,Xt,2,0,"th",4)(8,Zt,3,4,"td",5),T(),y(9,7),f(10,ei,2,0,"th",4)(11,ti,2,1,"td",5),T(),y(12,8),f(13,ii,2,0,"th",4)(14,ni,2,1,"td",5),T(),y(15,9),f(16,oi,2,0,"th",4)(17,ri,3,1,"td",5),T(),y(18,10),f(19,ai,1,0,"th",4)(20,li,10,1,"td",5),T(),f(21,si,1,0,"tr",11)(22,mi,1,0,"tr",12),o()()),i&2&&(m(),p("dataSource",l.files),m(20),p("matHeaderRowDef",l.displayedColumns),m(),p("matRowDefColumns",l.displayedColumns))},dependencies:[G,q,H,Q,Ze,tt,rt,it,et,at,nt,ot,lt,st,ye],styles:["[_nghost-%COMP%]     .mat-mdc-table{border:1px solid #e2e8f0;background:none}[_nghost-%COMP%]     .mat-mdc-row .mat-mdc-cell{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}[_nghost-%COMP%]     .mat-mdc-header-cell{font-size:12px;text-transform:uppercase;color:#afafaf}[_nghost-%COMP%]     .mdc-data-table__cell, [_nghost-%COMP%]     .mdc-data-table__header-cell{border-bottom:none}[_nghost-%COMP%]     .mat-mdc-row:hover .mat-mdc-cell{background:#e2e8f0}[_nghost-%COMP%]     .mat-mdc-table tbody, [_nghost-%COMP%]     .mat-mdc-table tfoot, [_nghost-%COMP%]     .mat-mdc-table thead, [_nghost-%COMP%]     .mat-mdc-cell, [_nghost-%COMP%]     .mat-mdc-footer-cell, [_nghost-%COMP%]     .mat-mdc-header-row, [_nghost-%COMP%]     .mat-mdc-row, [_nghost-%COMP%]     .mat-mdc-footer-row, [_nghost-%COMP%]     .mat-mdc-table .mat-mdc-header-cell{background:none}.files-table__wrapper[_ngcontent-%COMP%]{display:block;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-radius:8px;background:#fff!important;padding:0 12px 12px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8fafc}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{max-width:160px;padding:14px}th[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0});let e=t;return e})();var ci=()=>({height:"260px","border-radius":"8px"});function di(e,t){if(e&1&&c(0,"app-files-list-view",6),e&2){let a=h(3);p("files",a.data)}}function fi(e,t){if(e&1&&c(0,"app-files-table-view",6),e&2){let a=h(3);p("files",a.data)}}function ui(e,t){if(e&1&&f(0,di,1,1)(1,fi,1,1),e&2){let a,n=h(3);C(0,(a=n.filter.view)==="list"?0:a==="table"?1:-1)}}function _i(e,t){e&1&&(r(0,"div",7)(1,"p"),s(2,"No files found"),o()())}function gi(e,t){if(e&1&&f(0,ui,2,1)(1,_i,3,0),e&2){let a=h();C(0,a.data.length>0?0:1)}}function hi(e,t){e&1&&(r(0,"div",8),c(1,"ngx-skeleton-loader",9),o()),e&2&&(m(),p("theme",Fe(1,ci)))}function Ci(e,t){if(e&1&&(r(0,"div",4),M(1,hi,2,2,"div",8,xe),o()),e&2){let a=h(2);m(),b(a.skeletonArray)}}function xi(e,t){e&1&&(r(0,"div",5)(1,"h1",10),s(2,"404"),o(),r(3,"div",11)(4,"h2",12),s(5," Oops.. "),c(6,"br"),s(7," We couldn't find a files you are looking for. "),o(),r(8,"button",13)(9,"a",14),s(10,"Return Back"),o()()()())}function vi(e,t){if(e&1&&f(0,gi,2,1)(1,Ci,3,0,"div",4)(2,xi,11,0,"div",5),e&2){let a=t;C(0,a.data?0:-1),m(),C(1,a.loading?1:-1),m(),C(2,a.error?2:-1)}}var Mt=(()=>{let t=class t{constructor(n,i){this.teamFilesService=n,this.toastService=i,this.skeletonArray=new Array(10).fill(0),this.filter={},this.pagination=Qe,this.files$=this.teamFilesService.refreshTeamFiles$.pipe(_e(null),w(()=>this.loadTeamFiles()))}ngOnInit(){this.teamFilesService.triggerRefreshTeamFiles()}onFilter(n){this.filter=n,this.teamFilesService.triggerRefreshTeamFiles()}onPage(n){this.pagination.size=n.size,this.pagination.page=n.page,this.teamFilesService.triggerRefreshTeamFiles()}loadTeamFiles(){let n={size:this.pagination.size,page:this.pagination.page};return this.teamFilesService.getTeamFiles(n,this.filter).pipe(ge(i=>{this.pagination.page=i.number,this.pagination.size=i.size,this.pagination.totalElements=i.totalElements,this.pagination.totalPages=i.totalPages}),de(i=>i.content),V(i=>(this.toastService.open("Failed to get team files"),F(()=>i))))}};t.\u0275fac=function(i){return new(i||t)(d(re),d(E))},t.\u0275cmp=u({type:t,selectors:[["app-files-list"]],decls:8,vars:6,consts:[[1,"page","files"],[3,"filter"],[1,"files__content"],[3,"page","pagination"],[1,"files__loading"],[1,"files__error","page"],[3,"files"],[1,"files__empty"],[1,"files__loading-element"],["count","1","appearance","line",3,"theme"],[1,"files__error-title"],[1,"files__error-content"],[1,"files__error-subtitle"],["mat-flat-button","","color","primary","routerLink","/hub/overview"],["routerLink","/hub/overview"]],template:function(i,l){if(i&1&&(r(0,"section",0),c(1,"app-files-toolbar"),r(2,"app-files-filter",1),g("filter",function(k){return l.onFilter(k)}),o(),r(3,"div",2),f(4,vi,3,3),I(5,"withLoading"),I(6,"async"),o(),r(7,"app-paginator",3),g("page",function(k){return l.onPage(k)}),o()()),i&2){let _;m(4),C(4,(_=me(6,4,me(5,2,l.files$)))?4:-1,_),m(3),p("pagination",l.pagination)}},dependencies:[A,Oe,We,He,Ct,_t,Ft,wt,be,mt],styles:[".files[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.files__content[_ngcontent-%COMP%]{flex:1;margin-top:22px}.files__empty[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;font-size:14px;font-weight:400;color:#bdbdbd;text-transform:capitalize}.files__loading[_ngcontent-%COMP%]{gap:20px;overflow-x:auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));grid-template-rows:none}.files__error[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;height:100%}.files__error-content[_ngcontent-%COMP%]{z-index:10;display:flex;flex-direction:column;align-items:center}.files__error-title[_ngcontent-%COMP%]{color:#d8d7d7;font-size:280px;font-weight:600;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5;opacity:.25}@media screen and (max-width: 48em){.files__error-title[_ngcontent-%COMP%]{font-size:180px}}.files__error-subtitle[_ngcontent-%COMP%]{color:#000;font-size:26px;margin-bottom:26px;text-align:center;line-height:1.4}@media screen and (max-width: 48em){.files__error-subtitle[_ngcontent-%COMP%]{font-size:20px}}"],changeDetection:0});let e=t;return e})();var Fi=[{path:"",component:Mt}],bt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({imports:[pe.forChild(Fi),pe]});let e=t;return e})();var Mn=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$({type:t}),t.\u0275inj=j({imports:[Te,ct,bt]});let e=t;return e})();export{Mn as FilesModule};
