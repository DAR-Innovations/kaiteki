import './polyfills.server.mjs';
import{a as ae}from"./chunk-G2AG5PGI.mjs";import{b as te}from"./chunk-SJMCUHWC.mjs";import{a as J}from"./chunk-HOL4TTOB.mjs";import{b as G,cb as oe,eb as re,f as Q,g as X,i as k,j as Y,n as L,t as ee,wa as ie,ya as ne}from"./chunk-YAF7A7YL.mjs";import{$ as z,B as A,Bb as a,D as b,F as E,Hb as g,Kb as V,Lb as U,Mb as s,Nb as r,Ob as u,Rc as W,X as $,Xb as B,Y as S,_ as w,aa as l,cd as Z,ea as R,ec as p,f as D,fa as x,fc as O,g as N,hb as o,ib as d,ja as P,n as y,oc as m,pa as _,qa as C,qb as K,rd as H,s as M,wd as q,xc as I,yc as F,z as h,zb as j}from"./chunk-JAB3SG4D.mjs";var se=(()=>{let t=class t{constructor(i,n){this.document=i,this.ngZone=n,this.activeTime=0,this.isVisible=!0,this.activeTimeSubject=new N(0)}startTracking(){this.ngZone.runOutsideAngular(()=>{h(document,"visibilitychange").pipe(M(()=>this.document.visibilityState==="visible"),$(this.document.visibilityState==="visible"),l(i=>this.isVisible=i)).subscribe(),h(document,"click").pipe(b(()=>this.isVisible),l(()=>this.updateUserActiveTime())).subscribe(),h(document,"keypress").pipe(b(()=>this.isVisible),l(()=>this.updateUserActiveTime())).subscribe(),h(document,"mousemove").pipe(b(()=>this.isVisible),l(()=>this.updateUserActiveTime())).subscribe(),h(document,"scroll").pipe(b(()=>this.isVisible),l(()=>this.updateUserActiveTime())).subscribe(),A(1e4).pipe(z(()=>this.isVisible),l(()=>this.activeTime+=1),M(()=>this.activeTime)).subscribe(i=>{this.activeTimeSubject.next(i)})})}getActiveTime(){return this.activeTimeSubject.asObservable()}resetTimer(){this.activeTime=0}updateUserActiveTime(){this.isVisible&&(this.activeTime=Math.max(this.activeTime,0))}};t.\u0275fac=function(n){return new(n||t)(P(Z),P(K))},t.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var fe=(e,t)=>t.link,be=()=>["teams-sidebar__item-active"];function ge(e,t){if(e&1&&(s(0,"a",1)(1,"div",2)(2,"mat-icon",3),p(3),r(),s(4,"p",4),p(5),r()()()),e&2){let c=t.$implicit;a("routerLink",c.link)("routerLinkActive",m(4,be)),o(3),O(c.icon),o(2),O(c.label)}}var ce=(()=>{let t=class t{constructor(){this.tabs=[{link:"dashboard",label:"Dashboard",icon:"dashboard"},{link:"tasks",label:"Tasks",icon:"task_alt"},{link:"chats",label:"Chats",icon:"chat"},{link:"meetings",label:"Meetings",icon:"videocam"},{link:"posts",label:"Posts",icon:"local_post_office"},{link:"files",label:"Files",icon:"folder"},{link:"members",label:"Members",icon:"person"},{link:"settings",label:"Settings",icon:"settings"}]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=_({type:t,selectors:[["app-teams-navbar"]],decls:3,vars:0,consts:[[1,"teams-sidebar__wrapper"],[3,"routerLink","routerLinkActive"],[1,"teams-sidebar__item"],[1,"teams-sidebar__item-icon"],[1,"teams-sidebar__item-label"]],template:function(n,f){n&1&&(s(0,"div",0),V(1,ge,6,5,"a",1,fe),r()),n&2&&(o(),U(f.tabs))},dependencies:[k,Y,ee],styles:[".teams-sidebar__wrapper[_ngcontent-%COMP%]{position:sticky;top:0;width:100%;display:flex;align-items:center;z-index:2;padding:12px 24px 16px;gap:12px;overflow:auto;background-color:#fff;border-bottom:1px solid #eef3f0}@media screen and (max-width: 40em){.teams-sidebar__wrapper[_ngcontent-%COMP%]{padding:12px 12px 0}}.teams-sidebar__item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:14px;cursor:pointer;color:#000c;background-color:#f1f4f7;border-radius:8px;padding:6px 16px}@media screen and (max-width: 40em){.teams-sidebar__item[_ngcontent-%COMP%]{padding:8px 16px}}.teams-sidebar__item-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.teams-sidebar__item-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background-color:#068e44;color:#fff}"],changeDetection:0});let e=t;return e})();var xe=()=>({height:"35px","border-radius":"8px",margin:"20px",width:"250px",flex:"1"}),_e=()=>({height:"35px","border-radius":"8px",margin:"20px 20px 20px 20px",width:"150px",flex:"1","text-align":"right"}),Ce=()=>({height:"300px","border-radius":"8px",margin:"0 20px 20px 20px ",width:"97%"}),ke=()=>({height:"50px","border-radius":"8px",margin:"0 20px 20px 20px",width:"97%"}),Te=()=>({height:"100px","border-radius":"8px",margin:"0 20px 20px 20px",width:"97%"}),ye=()=>({height:"60px","border-radius":"8px",margin:"0 20px 20px 20px",width:"97%"});function Me(e,t){if(e&1&&(u(0,"app-page-header",2)(1,"app-teams-navbar"),s(2,"main",3),u(3,"router-outlet"),r()),e&2){let c=B();a("value",c.data.name)}}function Se(e,t){e&1&&(s(0,"div",0)(1,"div",4),u(2,"ngx-skeleton-loader",5)(3,"ngx-skeleton-loader",5),r(),u(4,"ngx-skeleton-loader",5)(5,"ngx-skeleton-loader",5)(6,"ngx-skeleton-loader",5)(7,"ngx-skeleton-loader",5),r()),e&2&&(o(2),a("theme",m(6,xe)),o(),a("theme",m(7,_e)),o(),a("theme",m(8,Ce)),o(),a("theme",m(9,ke)),o(),a("theme",m(10,Te)),o(),a("theme",m(11,ye)))}function we(e,t){e&1&&(s(0,"div",1)(1,"h1",6),p(2,"404"),r(),s(3,"div",7)(4,"h2",8),p(5," Oops.. "),u(6,"br"),p(7," We couldn't find a team you are looking for. "),r(),s(8,"button",9)(9,"a",10),p(10,"Return Back"),r()()()())}function Pe(e,t){if(e&1&&j(0,Me,4,1)(1,Se,8,12,"div",0)(2,we,11,0,"div",1),e&2){let c=t;g(0,c.data?0:-1),o(),g(1,c.loading?1:-1),o(),g(2,c.error?2:-1)}}var me=(()=>{let t=class t{constructor(i,n,f,v,le,de){this.activatedRoute=i,this.cd=n,this.teamsService=f,this.toastService=v,this.activeScreenTimeService=le,this.performanceService=de,this.unsubscribe$=new D,this.team$=this.teamsService.currentTeam$}ngOnInit(){this.activatedRoute.paramMap.pipe(S(i=>{this.activeScreenTimeService.resetTimer();let n=i.get("teamId");if(!n||isNaN(Number(n)))throw new Error("Invalid team ID");return this.teamsService.getTeamById(Number(n))}),E(i=>(this.toastService.open("Failed to get team"),y(i))),w(this.unsubscribe$)).subscribe(i=>{i&&this.teamsService.setCurrentTeam(i),this.cd.markForCheck()}),this.activeScreenTimeService.startTracking(),this.activeScreenTimeService.getActiveTime().pipe(S(i=>i>0?this.performanceService.addMemberScreenTimeMinutes(1):y(i)),w(this.unsubscribe$)).subscribe()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}};t.\u0275fac=function(n){return new(n||t)(d(Q),d(W),d(te),d(J),d(se),d(ae))},t.\u0275cmp=_({type:t,selectors:[["app-teams-layout"]],decls:3,vars:5,consts:[[1,"teams__loading","page"],[1,"teams__error","page"],[3,"value"],[1,"container"],[1,"teams__loading-container"],["count","1","appearance","line",1,"custom-skeleton",3,"theme"],[1,"teams__error-title"],[1,"teams__error-content"],[1,"teams__error-subtitle"],["mat-flat-button","","color","primary","routerLink","/hub/overview"],["routerLink","/hub/overview"]],template:function(n,f){if(n&1&&(j(0,Pe,3,3),I(1,"withLoading"),I(2,"async")),n&2){let v;g(0,(v=F(2,3,F(1,1,f.team$)))?0:-1,v)}},dependencies:[X,k,ne,G,ie,ce,H,oe],styles:[".teams__loading-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]{height:calc(100vh - 133px)}.teams__error[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;height:100%}.teams__error-content[_ngcontent-%COMP%]{z-index:10;display:flex;flex-direction:column;align-items:center}.teams__error-title[_ngcontent-%COMP%]{color:#d8d7d7;font-size:280px;font-weight:600;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5;opacity:.25}@media screen and (max-width: 48em){.teams__error-title[_ngcontent-%COMP%]{font-size:180px}}.teams__error-subtitle[_ngcontent-%COMP%]{color:#000;font-size:26px;margin-bottom:26px;text-align:center;line-height:1.4}@media screen and (max-width: 48em){.teams__error-subtitle[_ngcontent-%COMP%]{font-size:20px}}"],changeDetection:0});let e=t;return e})();var je=[{path:"",component:me,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:()=>import("./chunk-CVV6I4U6.mjs").then(e=>e.DashboardModule),title:"Team Dashboard | Kaiteki"},{path:"members",loadChildren:()=>import("./chunk-GJ3FMLRG.mjs").then(e=>e.MembersModule),title:"Team Members | Kaiteki"},{path:"tasks",loadChildren:()=>import("./chunk-YMMS4ITF.mjs").then(e=>e.TasksModule),title:"Team Tasks | Kaiteki"},{path:"posts",loadChildren:()=>import("./chunk-EZAGS54B.mjs").then(e=>e.PostsModule),title:"Team Posts | Kaiteki"},{path:"meetings",loadChildren:()=>import("./chunk-ASD64QXX.mjs").then(e=>e.MeetingsModule),title:"Team Meetings | Kaiteki"},{path:"chats",loadChildren:()=>import("./chunk-TNT4FMRU.mjs").then(e=>e.ChatsModule),title:"Team Chats | Kaiteki"},{path:"files",loadChildren:()=>import("./chunk-N5UFQC5V.mjs").then(e=>e.FilesModule),title:"Team Files | Kaiteki"},{path:"settings",loadChildren:()=>import("./chunk-M6L7CPV4.mjs").then(e=>e.SettingsModule),title:"Team Settings | Kaiteki"}]}],pe=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=C({type:t}),t.\u0275inj=x({imports:[L.forChild(je),L]});let e=t;return e})();var it=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=C({type:t}),t.\u0275inj=x({imports:[q,pe,re]});let e=t;return e})();export{it as a};
