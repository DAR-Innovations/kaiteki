import './polyfills.server.mjs';
import{b as It,c as Pt,d as Tt,f as Ot,h as At,i as Ft}from"./chunk-NN5CVUGD.mjs";import{a as Et}from"./chunk-FE426TB2.mjs";import{b as $}from"./chunk-AM4SDK4B.mjs";import{a as O}from"./chunk-HOL4TTOB.mjs";import{$a as Ve,Aa as ft,Ba as ut,Ca as Fe,E as G,G as dt,Ga as _t,Ha as ht,I as J,Ia as vt,Ja as Mt,K as A,Ka as Ct,L as K,La as xt,M as X,Ma as St,N as Z,Na as bt,O as _,Oa as wt,Q as ee,T as te,U as ie,_ as Oe,a as Q,aa as ne,ab as Re,b as B,ba as oe,bb as je,ca as q,cb as Dt,da as re,db as kt,ea as ae,eb as yt,f as Pe,fa as me,ga as Ae,h as at,ha as le,i as mt,ja as se,ka as ce,la as de,n as qe,na as pt,t as Te,u as lt,v as st,w as ct,wa as gt,za as pe}from"./chunk-YAF7A7YL.mjs";import{b as rt}from"./chunk-IWV7G257.mjs";import{Aa as C,Bb as d,Bc as Ge,Da as et,Db as Ee,F,Hb as S,I as Ke,Ib as it,Jb as he,K as R,Ka as tt,Kb as k,Lb as y,Mb as o,N as Xe,Nb as r,Ob as g,Rc as U,Sb as T,Vb as u,X as Ze,Xb as w,Y as D,_ as fe,aa as ue,dc as j,ea as W,ec as m,f as z,fa as ke,fc as Be,g as Qe,gc as x,hb as l,ib as p,ja as _e,k as De,o as v,oc as nt,pa as h,qa as ye,rd as N,s as Je,sd as Ie,wd as ot,xc as E,yc as V,za as M,zb as b,zc as ve}from"./chunk-JAB3SG4D.mjs";import"./chunk-6VT7JIM2.mjs";import{a as ge,b as we,g as We}from"./chunk-FME56UVT.mjs";var He=We(Et());function Ne(n){let i=null;try{i=new URL(n)}catch{return!1}return i.protocol==="http:"||i.protocol==="https:"}var ii=(n,i)=>i.id;function ni(n,i){if(n&1&&(o(0,"mat-option",11),m(1),r()),n&2){let s=i.$implicit;d("value",s.id),l(),x(" ",s.fullName," ")}}var Lt=(()=>{let i=class i{constructor(e,t,a,c,f){this.dialogRef=e,this.data=t,this.teamsService=a,this.cd=c,this.toastService=f,this.isAllDayToggled=!1,this.form=this.createForm(),this.allTeamMembers$=this.teamsService.getAllTeamMembers()}toggleAllDay(e){this.isAllDayToggled=e;let t=this.form.get("endDate");if(e){t?.disable();let a=new Date;a.setHours(23,59,59,0),t?.setValue(a)}else{t?.enable();let a=(0,He.default)().add(1,"hour");t?.setValue(a.toDate())}this.cd.markForCheck()}onBackClick(){this.dialogRef.close()}onSubmit(){let{title:e,description:t,startDate:a,endDate:c,invitedMemberIds:f,externalLink:I}=this.form.getRawValue();if(I&&!Ne(I)){this.toastService.error("Provided external link is invalid");return}if(!e||!t||!a||!c||!f){this.toastService.error("Missing required fields");return}let Ue={title:e,description:t,startDate:a,endDate:c,invitedMemberIds:f,externalLink:I??void 0};this.dialogRef.close(Ue)}createForm(){let e=(0,He.default)(),t=e.add(1,"hour");return new Z({title:new _("",[A.required]),description:new _("",[A.required]),externalLink:new _("",[]),invitedMemberIds:new _([],[A.required]),startDate:new _(e.toDate(),[A.required]),endDate:new _(t.toDate(),[A.required])})}};i.\u0275fac=function(t){return new(t||i)(p(ne),p(oe),p($),p(U),p(O))},i.\u0275cmp=h({type:i,selectors:[["app-create-meeting-dialog"]],decls:46,vars:19,consts:[["autosize","cdkTextareaAutosize"],["startDatetimePicker",""],["endDatetimePicker",""],["mat-dialog-title","",1,"ctask__title"],["mat-dialog-content","",1,"ctask"],[1,"ctask__form",3,"formGroup"],["appearance","outline"],["formControlName","title","matInput",""],["formControlName","description","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","8"],["formControlName","externalLink","matInput",""],["formControlName","invitedMemberIds","multiple",""],[3,"value"],[1,"row"],["type","datetime","mode","portrait","startView","month",3,"multiYearSelector","twelvehour","timeInterval","touchUi","timeInput"],["formControlName","startDate","matInput","","required","",3,"mtxDatetimepicker"],["matSuffix","",3,"for"],["formControlName","endDate","matInput","","required","",3,"mtxDatetimepicker"],[3,"change","checked"],["mat-dialog-actions","","align","end"],["mat-stroked-button","",3,"click"],["type","submit","mat-flat-button","","color","primary",3,"click","disabled"]],template:function(t,a){if(t&1){let c=T();o(0,"h4",3),m(1,` Create new meeting
`),r(),o(2,"section",4)(3,"form",5)(4,"mat-form-field",6)(5,"mat-label"),m(6,"Title"),r(),g(7,"input",7),r(),o(8,"mat-form-field",6)(9,"mat-label"),m(10,"Description"),r(),g(11,"textarea",8,0),r(),o(13,"mat-form-field",6)(14,"mat-label"),m(15,"External link"),r(),g(16,"input",9),r(),o(17,"mat-form-field",6)(18,"mat-label"),m(19,"Particapants"),r(),o(20,"mat-select",10),k(21,ni,2,2,"mat-option",11,ii),E(23,"async"),r()(),o(24,"div",12)(25,"mat-form-field",6)(26,"mat-label"),m(27,"Start Date"),r(),g(28,"mtx-datetimepicker",13,1)(30,"input",14)(31,"mtx-datetimepicker-toggle",15),r(),o(32,"mat-form-field",6)(33,"mat-label"),m(34,"End Date"),r(),g(35,"mtx-datetimepicker",13,2)(37,"input",16)(38,"mtx-datetimepicker-toggle",15),r()(),o(39,"mat-checkbox",17),u("change",function(I){return M(c),C(a.toggleAllDay(I.checked))}),m(40,"All Day"),r()()(),o(41,"mat-dialog-actions",18)(42,"button",19),u("click",function(){return M(c),C(a.onBackClick())}),m(43," Back "),r(),o(44,"button",20),u("click",function(){return M(c),C(a.onSubmit())}),m(45," Create "),r()()}if(t&2){let c=j(29),f=j(36);l(3),d("formGroup",a.form),l(18),y(V(23,17,a.allTeamMembers$)),l(7),d("multiYearSelector",!0)("twelvehour",!1)("timeInterval",5)("touchUi",!1)("timeInput",!1),l(2),d("mtxDatetimepicker",c),l(),d("for",c),l(4),d("multiYearSelector",!0)("twelvehour",!1)("timeInterval",5)("touchUi",!1)("timeInput",!1),l(2),d("mtxDatetimepicker",f),l(),d("for",f),l(),d("checked",a.isAllDayToggled),l(5),d("disabled",a.form.invalid)}},dependencies:[B,de,ce,le,se,Ae,pe,Q,Fe,re,me,ae,Ve,je,Re,ee,J,K,X,Oe,te,ie,N],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:14px;margin-bottom:0}.ctask__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.ctask__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:22px}.ctask__form-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.row[_ngcontent-%COMP%]{display:flex;gap:22px}  .mat-form-field-flex>.mat-form-field-infix{padding:.4em 0!important}  .mat-form-field-label-wrapper{top:-1.5em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:translateY(-1.1em) scale(.75);width:133.33333%}"],changeDetection:0});let n=i;return n})();var Se=We(Et());var oi=(n,i)=>i.id;function ri(n,i){if(n&1&&(o(0,"mat-option",11),m(1),r()),n&2){let s=i.$implicit;d("value",s.id),l(),x(" ",s.fullName," ")}}var zt=(()=>{let i=class i{constructor(e,t,a,c,f){this.dialogRef=e,this.data=t,this.teamsService=a,this.cd=c,this.toastService=f,this.isAllDayToggled=!1,this.form=this.createForm(),this.allTeamMembers$=this.teamsService.getAllTeamMembers()}ngOnInit(){this.patchExistingValues()}toggleAllDay(e){this.isAllDayToggled=e;let t=this.form.get("endDate");if(e){t?.disable();let a=new Date;a.setHours(23,59,59,0),t?.setValue(a)}else{t?.enable();let a=(0,Se.default)().add(1,"hour");t?.setValue(a.toDate())}this.cd.markForCheck()}patchExistingValues(){let e=this.data.meeting;this.form.patchValue({title:e.title,description:e.description,endDate:(0,Se.default)(e.end).toDate(),startDate:(0,Se.default)(e.start).toDate(),externalLink:e.externalLink,invitedMemberIds:e.invitedMembers.map(t=>t.id)})}onBackClick(){this.dialogRef.close()}onSubmit(){let{title:e,description:t,startDate:a,endDate:c,invitedMemberIds:f,externalLink:I}=this.form.getRawValue();if(I&&!Ne(I)){this.toastService.error("Provided external link is invalid");return}if(!e||!t||!a||!c||!f){this.toastService.error("Missing required fields");return}let Ue={title:e,description:t,startDate:a,endDate:c,invitedMemberIds:f,externalLink:I??void 0};this.dialogRef.close(Ue)}createForm(){let e=(0,Se.default)(),t=e.add(1,"hour");return new Z({title:new _("",[A.required]),description:new _("",[A.required]),externalLink:new _("",[]),invitedMemberIds:new _([],[A.required]),startDate:new _(e.toDate(),[A.required]),endDate:new _(t.toDate(),[A.required])})}};i.\u0275fac=function(t){return new(t||i)(p(ne),p(oe),p($),p(U),p(O))},i.\u0275cmp=h({type:i,selectors:[["app-update-meeting-dialog"]],decls:46,vars:19,consts:[["autosize","cdkTextareaAutosize"],["startDatetimePicker",""],["endDatetimePicker",""],["mat-dialog-title","",1,"ctask__title"],["mat-dialog-content","",1,"ctask"],[1,"ctask__form",3,"formGroup"],["appearance","outline"],["formControlName","title","matInput",""],["formControlName","description","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","8"],["formControlName","externalLink","matInput",""],["formControlName","invitedMemberIds","multiple",""],[3,"value"],[1,"row"],["type","datetime","mode","portrait","startView","month",3,"multiYearSelector","twelvehour","timeInterval","touchUi","timeInput"],["formControlName","startDate","matInput","","required","",3,"mtxDatetimepicker"],["matSuffix","",3,"for"],["formControlName","endDate","matInput","","required","",3,"mtxDatetimepicker"],[3,"change","checked"],["mat-dialog-actions","","align","end"],["mat-stroked-button","",3,"click"],["type","submit","mat-flat-button","","color","primary",3,"click","disabled"]],template:function(t,a){if(t&1){let c=T();o(0,"h4",3),m(1,` Update meeting
`),r(),o(2,"section",4)(3,"form",5)(4,"mat-form-field",6)(5,"mat-label"),m(6,"Title"),r(),g(7,"input",7),r(),o(8,"mat-form-field",6)(9,"mat-label"),m(10,"Description"),r(),g(11,"textarea",8,0),r(),o(13,"mat-form-field",6)(14,"mat-label"),m(15,"External link"),r(),g(16,"input",9),r(),o(17,"mat-form-field",6)(18,"mat-label"),m(19,"Particapants"),r(),o(20,"mat-select",10),k(21,ri,2,2,"mat-option",11,oi),E(23,"async"),r()(),o(24,"div",12)(25,"mat-form-field",6)(26,"mat-label"),m(27,"Start Date"),r(),g(28,"mtx-datetimepicker",13,1)(30,"input",14)(31,"mtx-datetimepicker-toggle",15),r(),o(32,"mat-form-field",6)(33,"mat-label"),m(34,"End Date"),r(),g(35,"mtx-datetimepicker",13,2)(37,"input",16)(38,"mtx-datetimepicker-toggle",15),r()(),o(39,"mat-checkbox",17),u("change",function(I){return M(c),C(a.toggleAllDay(I.checked))}),m(40,"All Day"),r()()(),o(41,"mat-dialog-actions",18)(42,"button",19),u("click",function(){return M(c),C(a.onBackClick())}),m(43," Back "),r(),o(44,"button",20),u("click",function(){return M(c),C(a.onSubmit())}),m(45," Update "),r()()}if(t&2){let c=j(29),f=j(36);l(3),d("formGroup",a.form),l(18),y(V(23,17,a.allTeamMembers$)),l(7),d("multiYearSelector",!0)("twelvehour",!1)("timeInterval",5)("touchUi",!1)("timeInput",!1),l(2),d("mtxDatetimepicker",c),l(),d("for",c),l(4),d("multiYearSelector",!0)("twelvehour",!1)("timeInterval",5)("touchUi",!1)("timeInput",!1),l(2),d("mtxDatetimepicker",f),l(),d("for",f),l(),d("checked",a.isAllDayToggled),l(5),d("disabled",a.form.invalid)}},dependencies:[B,de,ce,le,se,Ae,pe,Q,Fe,re,me,ae,Ve,je,Re,ee,J,K,X,Oe,te,ie,N],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:14px;margin-bottom:0}.ctask__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.ctask__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:22px}.ctask__form-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.row[_ngcontent-%COMP%]{display:flex;gap:22px}  .mat-form-field-flex>.mat-form-field-infix{padding:.4em 0!important}  .mat-form-field-label-wrapper{top:-1.5em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:translateY(-1.1em) scale(.75);width:133.33333%}"],changeDetection:0});let n=i;return n})();var Ut=(()=>{let i=class i{constructor(e){this.httpClient=e,this.baseUrl="/api/v1/meetings"}getMeetings(e,t,a){let c=we(ge(ge({},t),a),{teamId:e});return this.httpClient.get(`${this.baseUrl}`,{params:G(c)})}getMeeting(e,t){return this.httpClient.get(`${this.baseUrl}/${t}`,{params:G({teamId:e})})}createMeeting(e,t){return this.httpClient.post(`${this.baseUrl}`,t,{params:G({teamId:e})})}deleteMeeting(e,t){return this.httpClient.delete(`${this.baseUrl}/${t}`,{params:G({teamId:e})})}joinMeeting(e,t){return this.httpClient.post(`${this.baseUrl}/${t}/join`,{},{params:G({teamId:e})})}leaveMeeting(e,t){return this.httpClient.post(`${this.baseUrl}/${t}/leave`,{},{params:G({teamId:e})})}updateMeeting(e,t,a){return this.httpClient.put(`${this.baseUrl}/${t}`,a,{params:G({teamId:e})})}};i.\u0275fac=function(t){return new(t||i)(_e(rt))},i.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var H=(()=>{let i=class i{constructor(e,t){this.meetingsApiService=e,this.teamsService=t,this.refetchMeetingsSubject=new z,this.currentMeetingRoomSubject=new Qe(null),this.refetchMeetings$=this.refetchMeetingsSubject.asObservable(),this.currentMeetingRoom$=this.currentMeetingRoomSubject.asObservable()}refetchMeetings(){this.refetchMeetingsSubject.next()}setCurrentMeetingRoom(e){this.currentMeetingRoomSubject.next(e)}getMeetings(e,t){return this.teamsService.currentTeam$.pipe(D(a=>a?this.meetingsApiService.getMeetings(a.id,e,t):v(()=>Error("No current team"))))}getMeeting(e){return this.teamsService.currentTeam$.pipe(D(t=>t?this.meetingsApiService.getMeeting(t.id,e):v(()=>Error("No current team"))))}createMeeting(e){return this.teamsService.currentTeam$.pipe(D(t=>t?this.meetingsApiService.createMeeting(t.id,e):v(()=>Error("No current team"))))}deleteMeeting(e){return this.teamsService.currentTeam$.pipe(D(t=>t?this.meetingsApiService.deleteMeeting(t.id,e):v(()=>Error("No current team"))))}joinMeeting(e){return this.teamsService.currentTeam$.pipe(D(t=>t?this.meetingsApiService.joinMeeting(t.id,e):v(()=>Error("No current team"))))}leaveMeeting(e){return this.teamsService.currentTeam$.pipe(D(t=>t?this.meetingsApiService.leaveMeeting(t.id,e):v(()=>Error("No current team"))))}updateMeeting(e,t){return this.teamsService.currentTeam$.pipe(D(a=>a?this.meetingsApiService.updateMeeting(a.id,e,t):v(()=>Error("No current team"))))}};i.\u0275fac=function(t){return new(t||i)(_e(Ut),_e($))},i.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var li=(n,i)=>i.id;function si(n,i){n&1&&(o(0,"span"),m(1,", "),r())}function ci(n,i){if(n&1&&(o(0,"span"),m(1),b(2,si,2,0,"span"),r()),n&2){let s=i.$implicit,e=i.$index,t=i.$count;l(),x(" ",s.fullName," "),l(),S(2,e!==t-1?2:-1)}}function di(n,i){if(n&1){let s=T();o(0,"button",9),u("click",function(){M(s);let t=w(3);return C(t.onDeleteMeetingClick())}),o(1,"mat-icon"),m(2,"delete_outline"),r(),m(3," Delete "),r()}}function pi(n,i){if(n&1){let s=T();o(0,"button",9),u("click",function(t){M(s);let a=w(3);return C(a.onEditClick(t))}),o(1,"mat-icon"),m(2,"edit"),r(),m(3," Edit "),r()}}function gi(n,i){if(n&1){let s=T();o(0,"h3",0),m(1),r(),o(2,"section",1)(3,"div",2)(4,"div",3)(5,"p",4),m(6,"Description"),r(),o(7,"p",5),m(8),r()(),o(9,"div",3)(10,"p",4),m(11,"Status"),r(),o(12,"p",5),m(13),r()(),o(14,"div",3)(15,"p",4),m(16,"Start Time"),r(),o(17,"p",5),m(18),E(19,"date"),r()(),o(20,"div",3)(21,"p",4),m(22,"End Time"),r(),o(23,"p",5),m(24),E(25,"date"),r()(),o(26,"div",3)(27,"p",4),m(28,"Participants"),r(),o(29,"p",5),k(30,ci,3,2,"span",null,li),r()()()(),o(32,"mat-dialog-actions",6),b(33,di,4,0,"button",7)(34,pi,4,0,"button",7),o(35,"button",8),u("click",function(){M(s);let t=w(2);return C(t.onJoinMeetingClick())}),m(36," Join meeting "),r()()}if(n&2){let s=w(),e=w();l(),x(" ",e.selectedMeeting.title," "),l(7),x(" ",e.selectedMeeting.description," "),l(5),x(" ",e.selectedMeeting.status," "),l(5),x(" ",ve(19,8,e.selectedMeeting.start,"MMM d, h:mm a")," "),l(6),x(" ",ve(25,11,e.selectedMeeting.end,"MMM d, h:mm a")," "),l(6),y(e.selectedMeeting.invitedMembers),l(3),S(33,s.id===e.selectedMeeting.createdMember.id?33:-1),l(),S(34,s.id===e.selectedMeeting.createdMember.id?34:-1),l(),d("disabled",!e.selectedMeeting.externalLink)}}function fi(n,i){if(n&1&&b(0,gi,37,14),n&2){let s=w();S(0,s.selectedMeeting?0:-1)}}var ze=(()=>{let i=class i{constructor(e,t,a,c,f,I){this.data=e,this.dialogRef=t,this.dialog=a,this.teamsService=c,this.meetingsService=f,this.toastService=I,this.selectedMeeting=null,this.currentMember$=this.teamsService.currentTeamMember$,this.selectedMeeting=e.selectedMeeting}onJoinMeetingClick(){this.selectedMeeting&&this.meetingsService.joinMeeting(this.selectedMeeting.id).pipe(F(e=>(this.toastService.error("Failed to join meeting"),v(()=>e))),D(()=>this.teamsService.currentTeam$),R(1)).subscribe(e=>{e&&this.selectedMeeting&&window.open(this.selectedMeeting.externalLink,"_blank")}),this.dialogRef.close(null)}onEditClick(e){if(e.stopPropagation(),!this.selectedMeeting)return;let t=this.dialog.open(zt,{minWidth:"60%",data:{meeting:this.selectedMeeting}});this.dialogRef.close(null),t.afterClosed().pipe(D(a=>a?this.meetingsService.updateMeeting(this.selectedMeeting.id,a):De),F(a=>(this.toastService.error("Failed to update meeting"),v(()=>a))),R(1)).subscribe(()=>{this.toastService.open("Successfully updated meeting"),this.meetingsService.refetchMeetings()})}onDeleteMeetingClick(){this.selectedMeeting&&this.meetingsService.deleteMeeting(this.selectedMeeting.id).pipe(R(1),F(e=>(this.toastService.error("Failed to delete the meeting!"),v(()=>e)))).subscribe(()=>{this.toastService.open("Successfully deleted the meeting!"),this.meetingsService.refetchMeetings(),this.dialogRef.close(null)})}};i.\u0275fac=function(t){return new(t||i)(p(oe),p(ne),p(q),p($),p(H),p(O))},i.\u0275cmp=h({type:i,selectors:[["app-meetings-selected-dialog"]],decls:2,vars:3,consts:[["mat-dialog-title","",1,"selected-meeting-title"],["mat-dialog-content","",1,"selected-meeting-card"],[1,"selected-meeting-detail-list"],[1,"selected-meeting-detail"],[1,"selected-meeting-detail-label"],[1,"selected-meeting-detail-desc"],["align","end",1,"selected-meeting__actions"],["mat-stroked-button","","color","primary",1,"selected-meeting__button"],["mat-flat-button","","color","primary",1,"selected-meeting__button",3,"click","disabled"],["mat-stroked-button","","color","primary",1,"selected-meeting__button",3,"click"]],template:function(t,a){if(t&1&&(b(0,fi,1,1),E(1,"async")),t&2){let c;S(0,(c=V(1,1,a.currentMember$))?0:-1,c)}},dependencies:[Te,B,re,me,ae,N,Ie],styles:[".selected-meeting[_ngcontent-%COMP%]{width:100%}.selected-meeting-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.selected-meeting-status[_ngcontent-%COMP%]{color:#7c7c7c}.selected-meeting__actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.selected-meeting-detail[_ngcontent-%COMP%]{width:100%}.selected-meeting-detail-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(.5fr);gap:12px}.selected-meeting-detail-label[_ngcontent-%COMP%]{font-size:12px;color:#7c7c7c}.selected-meeting-detail-desc[_ngcontent-%COMP%]{margin-top:2px;color:#000}"],changeDetection:0});let n=i;return n})();var L=function(n){return n.SCHEDULED="SCHEDULED",n.IN_PROGRESS="IN_PROGRESS",n.FINISHED="FINISHED",n}(L||{}),Y=function(n){return n.LIST="list",n.CALENDAR="calendar",n}(Y||{}),be=function(n){return n.DATE_ASC="createdAt,asc",n.DATE_DESC="createdAt,desc",n}(be||{});function ui(n,i){if(n&1&&(o(0,"mat-option",10),m(1),r()),n&2){let s=i.$implicit;d("matTooltip",s.label)("value",s.id),l(),x(" ",s.label," ")}}function _i(n,i){if(n&1&&(o(0,"mat-option",10),m(1),r()),n&2){let s=i.$implicit;d("matTooltip",s.label)("value",s.id),l(),x(" ",s.label," ")}}function hi(n,i){if(n&1&&(o(0,"mat-option",10),m(1),r()),n&2){let s=i.$implicit;d("matTooltip",s.fullName)("value",s.id),l(),x(" ",s.fullName," ")}}function vi(n,i){n&1&&(o(0,"mat-form-field",3)(1,"mat-label"),m(2,"Participants"),r(),o(3,"mat-select",13),k(4,hi,2,3,"mat-option",10,he),r()()),n&2&&(l(4),y(i))}function Mi(n,i){if(n&1&&(o(0,"mat-option",10),m(1),r()),n&2){let s=i.$implicit;d("matTooltip",s.label)("value",s.id),l(),x(" ",s.label," ")}}var Ci={searchValue:"",startDate:void 0,endDate:void 0,status:void 0,view:Y.LIST,sort:be.DATE_DESC},Gt=(()=>{let i=class i{constructor(e,t,a,c){this.router=e,this.route=t,this.cd=a,this.teamsService=c,this.filter=new tt,this.destroy$=new z,this.form=new Z({searchValue:new _(""),startDate:new _(null),endDate:new _(null),status:new _(null),invitedMemberIds:new _([]),view:new _(null),sort:new _(null)}),this.allTeamMembers$=this.teamsService.getAllTeamMembers(),this.views=[{id:Y.LIST,label:"List"},{id:Y.CALENDAR,label:"Calendar"}],this.sorting=[{id:be.DATE_ASC,label:"Date \u2197"},{id:be.DATE_DESC,label:"Date \u2198"}],this.statuses=[{id:L.IN_PROGRESS,label:"In progress"},{id:L.SCHEDULED,label:"Scheduled"},{id:L.FINISHED,label:"Finished"}]}ngOnInit(){this.patchInitialFormValues(),this.trackFormValueChanges()}ngOnDestroy(){this.destroy$.complete()}patchInitialFormValues(){let e=this.getQueryParameters();this.form.patchValue({searchValue:e.searchValue,view:e.view,sort:e.sort,startDate:e.startDate?new Date(e.startDate):null,endDate:e.endDate?new Date(e.endDate):null,status:e.status}),this.filter.emit(e),this.cd.markForCheck()}trackFormValueChanges(){this.form.valueChanges.pipe(Ke(800),Xe(),fe(this.destroy$)).subscribe(e=>{let t={searchValue:e.searchValue??void 0,view:e.view??void 0,sort:e.sort??void 0,startDate:e.startDate?e.startDate.toISOString():void 0,endDate:e.endDate?e.endDate.toISOString():void 0,status:e.status??void 0};this.saveQueryParameters(t),this.filter.emit(t)})}saveQueryParameters(e){this.router.navigate([],{queryParams:e,queryParamsHandling:"merge"})}getQueryParameters(){let e=this.route.snapshot.queryParams;return dt(e,Ci)}};i.\u0275fac=function(t){return new(t||i)(p(at),p(Pe),p(U),p($))},i.\u0275cmp=h({type:i,selectors:[["app-meetings-filter"]],outputs:{filter:"filter"},decls:40,vars:6,consts:[["picker",""],[1,"filter"],[1,"filter__fields",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","searchValue","type","text"],[3,"rangePicker"],["matStartDate","","formControlName","startDate","placeholder","Start date"],["matEndDate","","formControlName","endDate","placeholder","End date"],["matIconSuffix","",3,"for"],["formControlName","view"],[3,"matTooltip","value"],["formControlName","status"],["formControlName","sort"],["formControlName","invitedMemberIds","multiple",""]],template:function(t,a){if(t&1&&(o(0,"section",1)(1,"mat-accordion")(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title"),m(5,"Filters"),r()(),o(6,"form",2)(7,"mat-form-field",3)(8,"mat-label"),m(9,"Search"),r(),g(10,"input",4),r(),o(11,"mat-form-field",3)(12,"mat-label"),m(13,"Period"),r(),o(14,"mat-date-range-input",5),g(15,"input",6)(16,"input",7),r(),g(17,"mat-datepicker-toggle",8)(18,"mat-date-range-picker",null,0),r(),o(20,"mat-form-field",3)(21,"mat-label"),m(22,"View"),r(),o(23,"mat-select",9),k(24,ui,2,3,"mat-option",10,he),r()(),o(26,"mat-form-field",3)(27,"mat-label"),m(28,"View"),r(),o(29,"mat-select",11),k(30,_i,2,3,"mat-option",10,he),r()(),b(32,vi,6,0,"mat-form-field",3),E(33,"async"),o(34,"mat-form-field",3)(35,"mat-label"),m(36,"Sorting"),r(),o(37,"mat-select",12),k(38,Mi,2,3,"mat-option",10,he),r()()()()()()),t&2){let c,f=j(19);l(6),d("formGroup",a.form),l(8),d("rangePicker",f),l(3),d("for",f),l(7),y(a.views),l(6),y(a.statuses),l(2),S(32,(c=V(33,4,a.allTeamMembers$))?32:-1,c),l(6),y(a.sorting)}},dependencies:[wt,xt,St,bt,de,ce,le,se,pe,Q,_t,Mt,ht,vt,Ct,pt,ee,J,K,X,te,ie,N],styles:["[_nghost-%COMP%]     mat-form-field{width:100%}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.filter[_ngcontent-%COMP%]{margin-top:22px}.filter__fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem;align-items:start}"],changeDetection:0});let n=i;return n})();var qt=(()=>{let i=class i{constructor(e,t,a){this.dialog=e,this.meetingsService=t,this.toastService=a}onCreateButtonClick(e){e.preventDefault(),this.dialog.open(Lt,{minWidth:"30%",minHeight:"50%"}).afterClosed().pipe(D(a=>a?this.meetingsService.createMeeting(a):De),F(a=>(this.toastService.open("Failed to create a meeting"),v(()=>a))),R(1)).subscribe(()=>{this.toastService.open("Successfully created meeting"),this.meetingsService.refetchMeetings()})}};i.\u0275fac=function(t){return new(t||i)(p(q),p(H),p(O))},i.\u0275cmp=h({type:i,selectors:[["app-meetings-toolbar"]],decls:8,vars:0,consts:[[1,"meetings__toolbar"],[1,"meetings__toolbar-left"],[1,"meetings__toolbar-right"],["icon","add",1,"meetings__toolbar-item",3,"click"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),m(3,"Upcoming Meetings"),r()(),o(4,"div",2)(5,"app-button",3),u("click",function(f){return a.onCreateButtonClick(f)}),o(6,"p"),m(7,"Add"),r()()()())},dependencies:[kt],styles:["h1[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.meetings__toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:space-between;overflow-x:auto;overflow-y:hidden}.meetings__toolbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 40em){.meetings__toolbar-left[_ngcontent-%COMP%]{display:none}}.meetings__toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}"],changeDetection:0});let n=i;return n})();var Ht=(()=>{let i=class i{set meetings(e){this.displayMeetings=e.map(t=>we(ge({},t),{start:new Date(t.start),end:new Date(t.end)}))}constructor(e){this.dialog=e,this.displayMeetings=[],this.viewDate=new Date,this.refresh=new z}onSelectMeeting(e){this.dialog.open(ze,{data:{selectedMeeting:e}}).afterClosed().pipe(R(1)).subscribe()}};i.\u0275fac=function(t){return new(t||i)(p(q))},i.\u0275cmp=h({type:i,selectors:[["app-meetings-calendar-view"]],inputs:{meetings:"meetings"},decls:2,vars:3,consts:[[1,"meetings__calendar"],[3,"eventClicked","viewDate","events","refresh"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"mwl-calendar-week-view",1),u("eventClicked",function(f){return a.onSelectMeeting(f.event)}),r()()),t&2&&(l(),d("viewDate",a.viewDate)("events",a.displayMeetings)("refresh",a.refresh))},dependencies:[Ot],styles:["[_nghost-%COMP%]     .cal-week-view{width:100%;min-width:800px;font-family:Poppins,sans-serif;border-color:#e2e8f0!important}[_nghost-%COMP%]     .cal-week-view .cal-time-events .cal-event{border-radius:8px}[_nghost-%COMP%]     .cal-week-view .cal-event{background:#d1ffd333;border-color:#9ad7aa;color:#0a5e1c;font-weight:500}[_nghost-%COMP%]     .cal-week-view .cal-day-headers .cal-header{padding:10px}[_nghost-%COMP%]     .cal-week-view .cal-day-headers .cal-header b{font-weight:500}[_nghost-%COMP%]     .cal-week-view .cal-day-headers .cal-header span{font-size:12px}[_nghost-%COMP%]     .cal-week-view .cal-time{font-weight:400;padding:20px 0;color:#646464}[_nghost-%COMP%]     .cal-week-view .cal-hour:not(:last-child) .cal-hour-segment, [_nghost-%COMP%]     .cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment{border-bottom:unset}[_nghost-%COMP%]     .cal-week-view .cal-header.cal-weekend span{color:#010a16}[_nghost-%COMP%]     .cal-week-view .cal-header.cal-today{background:#068e44;color:#f4f5f5}[_nghost-%COMP%]     .cal-week-view .cal-header.cal-today span{color:#f4f5f5}.meetings__calendar[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden}"],changeDetection:0});let n=i;return n})();function Yt(n){switch(n){case L.SCHEDULED:return"Scheduled";case L.IN_PROGRESS:return"In progress";case L.FINISHED:return"Finished"}}var wi=["meeting",""];function Di(n,i){if(n&1){let s=T();o(0,"button",1),u("click",function(){M(s);let t=w();return C(t.onSelectMeeting(t.meeting))}),o(1,"h3",2),m(2),r(),o(3,"p",3),m(4),r(),o(5,"div",4)(6,"p",5),m(7),r(),o(8,"p",6),m(9),E(10,"date"),r()()()}if(n&2){let s=w();l(2),Be(s.meeting.title),l(2),x(" ",s.meeting.description," "),l(3),Be(s.formattedStatus),l(2),x(" ",ve(10,4,s.meeting.start,"MMM d, h:mm a")," ")}}var Wt=(()=>{let i=class i{constructor(e){this.dialog=e}onSelectMeeting(e){this.dialog.open(ze,{data:{selectedMeeting:e},minWidth:"30%"}).afterClosed().pipe(R(1)).subscribe()}get formattedStatus(){return Yt(this.meeting.status)}};i.\u0275fac=function(t){return new(t||i)(p(q))},i.\u0275cmp=h({type:i,selectors:[["app-meeting-list-item","meeting",""]],inputs:{meeting:"meeting"},attrs:wi,decls:1,vars:1,consts:[[1,"meetings__item"],[1,"meetings__item",3,"click"],[1,"meetings__item-title"],[1,"meetings__item-desc"],[1,"meetings__item-bottom"],[1,"meetings__item-status"],[1,"meetings__item-date"]],template:function(t,a){t&1&&b(0,Di,11,7,"button",0),t&2&&S(0,a.meeting?0:-1)},dependencies:[Ie],styles:[".meetings__item[_ngcontent-%COMP%]{text-align:left;width:100%;padding:12px 16px;border-radius:8px;background:#fff;border:1px solid #e2e8f0;cursor:pointer;overflow:hidden}.meetings__item-active[_ngcontent-%COMP%]{border:1px solid #3b916d;background:#fff}.meetings__item-bottom[_ngcontent-%COMP%]{margin-top:16px;display:flex;align-items:center;gap:8px}.meetings__item-status[_ngcontent-%COMP%]{width:fit-content;font-size:12px;background:#068e44;color:#fff;padding:4px 16px;border-radius:8px}.meetings__item-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.meetings__item-desc[_ngcontent-%COMP%]{font-size:12px;color:#575757;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.meetings__item-date[_ngcontent-%COMP%]{font-size:12px;padding:4px 16px;border-radius:8px;background:#e6e6e6}"],changeDetection:0});let n=i;return n})();var yi=(n,i)=>i.id;function Ei(n,i){if(n&1&&g(0,"app-meeting-list-item",1),n&2){let s=i.$implicit;d("meeting",s)}}var Qt=(()=>{let i=class i{constructor(){this.meetings=[]}meetingsTrackBy(e,t){return t.id}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=h({type:i,selectors:[["app-meetings-list-view"]],inputs:{meetings:"meetings"},decls:3,vars:0,consts:[[1,"meetings__list"],[3,"meeting"]],template:function(t,a){t&1&&(o(0,"div",0),k(1,Ei,1,1,"app-meeting-list-item",1,yi),r()),t&2&&(l(),y(a.meetings))},dependencies:[Wt],styles:[".meetings__list[_ngcontent-%COMP%]{flex-grow:1;width:100%;display:grid;gap:14px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));grid-template-rows:none}"],changeDetection:0});let n=i;return n})();function Pi(n,i){n&1&&m(0,"Loading...")}function Ti(n,i){n&1&&m(0,"Error...")}var Jt=(()=>{let i=class i{constructor(e,t,a,c){this.route=e,this.toastService=t,this.cd=a,this.meetingsService=c,this.micActive=!1,this.cameraActive=!1,this.shareScreenActive=!1,this.unsubscribe$=new z,this.currentMeetingRoom$=this.meetingsService.currentMeetingRoom$,this.meetingRoomState={isLoading:!0,isError:!1,errorMessage:""}}ngOnInit(){this.loadMeetingFromParams()}loadMeetingFromParams(){this.route.paramMap.pipe(ue(()=>this.meetingRoomState.isLoading=!0),F(e=>(this.handleError(e),v(()=>e))),fe(this.unsubscribe$)).subscribe(e=>{let t=e.get("meetingId");if(!t){this.handleError("Invalid meeting ID");return}let a=Number(t);if(isNaN(a)){this.handleError("Invalid meeting ID");return}this.meetingsService.getMeeting(a).pipe(ue(()=>this.meetingRoomState.isLoading=!1),F(c=>(this.handleError(c),v(()=>c))),fe(this.unsubscribe$)).subscribe(c=>{this.meetingsService.setCurrentMeetingRoom(c),this.cd.markForCheck()})})}handleError(e){this.meetingRoomState.isLoading=!1,this.meetingRoomState.isError=!0,this.meetingRoomState.errorMessage=e,this.toastService.open("Failed to get team"),this.cd.markForCheck()}onToggleMic(){this.micActive=!this.micActive}onToggleCamera(){this.cameraActive=!this.cameraActive}onToggleScreenShare(){this.shareScreenActive=!this.shareScreenActive}onLeaveMeeting(){throw new Error("Method not implemented.")}};i.\u0275fac=function(t){return new(t||i)(p(Pe),p(O),p(U),p(H))},i.\u0275cmp=h({type:i,selectors:[["app-meeting-room"]],decls:91,vars:7,consts:[["moreHeaderMenu","matMenu"],["loading",""],["error",""],[1,"meeting-room"],[1,"meeting-room__left"],[1,"meeting-room__main"],[1,"meeting-room__main-header"],[1,"meeting-room__main-title"],[1,"meeting-room__main-header-more",3,"matMenuTriggerFor"],[1,""],["mat-menu-item","",1,"more-menu__button"],[1,"meeting-room__main-content"],[1,"meeting-room__main-content-view"],[1,"meeting-room__main-others"],[1,"meeting-room__main-others-member"],[1,"meeting-room__main-others-view"],[1,"meeting-room__main-others-name"],[1,"meeting-room__main-toolbar"],[1,"meeting-room__main-toolbar-buttons"],[1,"meeting-room__main-toolbar-button",3,"click"],[1,"meeting-room__main-toolbar-button","leave",3,"click"],[1,"meeting-room__right"],[1,"meeting-room__participants"],[1,"meeting-room__participants-title"],[1,"meeting-room__participants-list"],[1,"meeting-room__participants-item"],["alt","Daffa Ganteg",1,"meeting-room__participants-item-avatar"],[1,"meeting-room__participants-item-name"]],template:function(t,a){if(t&1){let c=T();o(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h4",7),m(5,"Ever Weekly Meet, 15 June 2023"),r(),o(6,"button",8)(7,"mat-icon",9),m(8,"more_vert"),r()(),o(9,"mat-menu",null,0)(11,"button",10),m(12," Participants "),r()()(),o(13,"div",11),g(14,"div",12),r(),o(15,"div",13)(16,"div",14),g(17,"div",15),o(18,"p",16),m(19,"Daffana Grafana"),r()(),o(20,"div",14),g(21,"div",15),o(22,"p",16),m(23,"Alexander Mackdonalds"),r()(),o(24,"div",14),g(25,"div",15),o(26,"p",16),m(27,"Alexander Mackdonalds"),r()(),o(28,"div",14),g(29,"div",15),o(30,"p",16),m(31,"Daffana Grafana"),r()(),o(32,"div",14),g(33,"div",15),o(34,"p",16),m(35,"Alexander Mackdonalds"),r()(),o(36,"div",14),g(37,"div",15),o(38,"p",16),m(39,"Alexander Mackdonalds"),r()(),o(40,"div",14),g(41,"div",15),o(42,"p",16),m(43,"Daffana Grafana"),r()(),o(44,"div",14),g(45,"div",15),o(46,"p",16),m(47,"Alexander Mackdonalds"),r()(),o(48,"div",14),g(49,"div",15),o(50,"p",16),m(51,"Alexander Mackdonalds"),r()()(),o(52,"div",17)(53,"div",18)(54,"button",19),u("click",function(){return M(c),C(a.onToggleCamera())}),o(55,"mat-icon"),m(56,"videocam"),r()(),o(57,"button",19),u("click",function(){return M(c),C(a.onToggleMic())}),o(58,"mat-icon"),m(59,"mic"),r()(),o(60,"button",19),u("click",function(){return M(c),C(a.onToggleScreenShare())}),o(61,"mat-icon"),m(62,"screen_share"),r()(),o(63,"button",20),u("click",function(){return M(c),C(a.onLeaveMeeting())}),o(64,"mat-icon"),m(65,"call_end"),r()()()()()(),o(66,"div",21)(67,"div",22)(68,"h4",23),m(69,"Participants"),r(),o(70,"div",24)(71,"div",25),g(72,"img",26),o(73,"p",27),m(74,"Daffa Ganteg"),r()(),o(75,"div",25),g(76,"img",26),o(77,"p",27),m(78,"Albert"),r()(),o(79,"div",25),g(80,"img",26),o(81,"p",27),m(82,"Albert"),r()(),o(83,"div",25),g(84,"img",26),o(85,"p",27),m(86,"Albert"),r()()()()()(),b(87,Pi,1,0,"ng-template",null,1,Ge)(89,Ti,1,0,"ng-template",null,2,Ge)}if(t&2){let c=j(10);l(6),d("matMenuTriggerFor",c),l(48),Ee("active",a.cameraActive),l(3),Ee("active",a.micActive),l(3),Ee("active",a.shareScreenActive)}},dependencies:[Te,st,lt,ct],styles:[".meeting-room[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:16px;height:100%}@media (min-width: 48em){.meeting-room[_ngcontent-%COMP%]{padding:22px}}.meeting-room__left[_ngcontent-%COMP%]{grid-column:span 4/span 4}@media (min-width: 64em){.meeting-room__left[_ngcontent-%COMP%]{grid-column:span 3/span 3}}.meeting-room__right[_ngcontent-%COMP%]{grid-column:span 1/span 1;display:none}@media (min-width: 64em){.meeting-room__right[_ngcontent-%COMP%]{display:block}}.meeting-room__participants[_ngcontent-%COMP%]{background:#fff;border:1px solid #e4dfdd;padding:22px;height:100%;border-radius:8px}.meeting-room__participants-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding-bottom:14px;margin-top:8px}.meeting-room__participants-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.meeting-room__participants-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.meeting-room__participants-item-avatar[_ngcontent-%COMP%]{width:30px;height:30px;background:#9b9b9b;border-radius:9999px}.meeting-room__main[_ngcontent-%COMP%]{height:100%;background:#fff;border-radius:8px;border:1px solid #e4dfdd;position:relative}.meeting-room__main-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:18px;padding:22px}.meeting-room__main-header-more[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (min-width: 64em){.meeting-room__main-header-more[_ngcontent-%COMP%]{display:none}}.meeting-room__main-header-more[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6d6d6d}.meeting-room__main-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;text-wrap:nowrap;text-overflow:ellipsis;overflow:hidden}@media (min-width: 64em){.meeting-room__main-title[_ngcontent-%COMP%]{font-size:20px}}.meeting-room__main-content[_ngcontent-%COMP%]{width:100%;padding:0 16px;height:60%;display:flex;justify-content:center;align-items:center}@media (min-width: 64em){.meeting-room__main-content[_ngcontent-%COMP%]{height:60%}}.meeting-room__main-content-view[_ngcontent-%COMP%]{width:100%;height:100%;background:#cecece;border-radius:8px}.meeting-room__main-others[_ngcontent-%COMP%]{margin-top:14px;width:100%;height:20%;display:flex;gap:12px;overflow-x:auto;padding:0 16px 14px}@media (min-width: 64em){.meeting-room__main-others[_ngcontent-%COMP%]{height:22%}}.meeting-room__main-others-member[_ngcontent-%COMP%]{position:relative}.meeting-room__main-others-view[_ngcontent-%COMP%]{width:180px;height:100%;background:#cecece;border-radius:8px}.meeting-room__main-others-name[_ngcontent-%COMP%]{position:absolute;left:8px;bottom:8px;font-size:12px;background:#53535365;color:#fff;padding:2px 8px;border-radius:8px}.meeting-room__main-toolbar[_ngcontent-%COMP%]{background:#fff;position:fixed;width:100%;bottom:0;left:0;right:0;border-radius:8px;padding:22px;display:flex;align-items:center;gap:8px;justify-content:center}@media (min-width: 40em){.meeting-room__main-toolbar[_ngcontent-%COMP%]{position:static;padding:0}}.meeting-room__main-toolbar-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.meeting-room__main-toolbar-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:8px;border-radius:8px;border:1px solid #e2e8f0;color:#5e5e5e}.meeting-room__main-toolbar-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.meeting-room__main-toolbar-button.active[_ngcontent-%COMP%]{background:#4c82ff1f;color:#068e44}.meeting-room__main-toolbar-button.leave[_ngcontent-%COMP%]{color:#e44949;background:#e0515133}.more-menu__button.leave[_ngcontent-%COMP%]{color:#e44949}"],changeDetection:0});let n=i;return n})();var Oi=()=>({height:"120px","border-radius":"8px"});function Ai(n,i){if(n&1&&g(0,"app-meetings-list-view",6),n&2){let s=w(3);d("meetings",s.data)}}function Fi(n,i){if(n&1&&g(0,"app-meetings-calendar-view",6),n&2){let s=w(3);d("meetings",s.data)}}function Vi(n,i){if(n&1&&b(0,Ai,1,1)(1,Fi,1,1),n&2){let s,e=w(3);S(0,(s=e.filter.view)===e.meetingsViews.LIST?0:s===e.meetingsViews.CALENDAR?1:-1)}}function Ri(n,i){n&1&&(o(0,"div",7),m(1,"No meetings found"),r())}function ji(n,i){if(n&1&&b(0,Vi,2,1)(1,Ri,2,0),n&2){let s=w();S(0,s.data.length>0?0:1)}}function Ni(n,i){n&1&&(o(0,"div",8),g(1,"ngx-skeleton-loader",9),r()),n&2&&(l(),d("theme",nt(1,Oi)))}function $i(n,i){if(n&1&&(o(0,"div",4),k(1,Ni,2,2,"div",8,it),r()),n&2){let s=w(2);l(),y(s.skeletonArray)}}function Li(n,i){n&1&&(o(0,"div",5)(1,"h1",10),m(2,"404"),r(),o(3,"div",11)(4,"h2",12),m(5," Oops.. "),g(6,"br"),m(7," We couldn't find a tasks list you are looking for. "),r(),o(8,"button",13)(9,"a",14),m(10,"Return Back"),r()()()())}function zi(n,i){if(n&1&&b(0,ji,2,1)(1,$i,3,0,"div",4)(2,Li,11,0,"div",5),n&2){let s=i;S(0,s.data?0:-1),l(),S(1,s.loading?1:-1),l(),S(2,s.error?2:-1)}}var Kt=(()=>{let i=class i{constructor(e,t){this.meetingService=e,this.toastService=t,this.skeletonArray=new Array(10).fill(0),this.meetingsViews=Y,this.filter={},this.pagination=ft,this.meetings$=this.meetingService.refetchMeetings$.pipe(Ze([]),D(()=>this.loadMeetings()))}ngOnInit(){this.meetingService.refetchMeetings()}loadMeetings(){let e={size:this.pagination.size,page:this.pagination.page};return this.meetingService.getMeetings(this.filter,e).pipe(ue(t=>{this.pagination.page=t.number,this.pagination.size=t.size,this.pagination.totalElements=t.totalElements,this.pagination.totalPages=t.totalPages}),Je(t=>t.content),F(t=>(this.toastService.open("Failed to get meetings"),v(()=>t))))}onPage(e){this.pagination.size=e.size,this.pagination.page=e.page,this.meetingService.refetchMeetings()}onFilter(e){this.filter=e,this.meetingService.refetchMeetings()}};i.\u0275fac=function(t){return new(t||i)(p(H),p(O))},i.\u0275cmp=h({type:i,selectors:[["app-meetings"]],decls:8,vars:6,consts:[[1,"page","meetings"],[3,"filter"],[1,"meetings__content"],[3,"page","pagination"],[1,"meetings__loading"],[1,"meetings__error","page"],[3,"meetings"],[1,"meetings__empty"],[1,"loading-element"],["count","1","appearance","line",3,"theme"],[1,"meetings__error-title"],[1,"meetings__error-content"],[1,"meetings__error-subtitle"],["mat-flat-button","","color","primary","routerLink","/hub/overview"],["routerLink","/hub/overview"]],template:function(t,a){if(t&1&&(o(0,"section",0),g(1,"app-meetings-toolbar"),o(2,"app-meetings-filter",1),u("filter",function(f){return a.onFilter(f)}),r(),o(3,"div",2),b(4,zi,3,3),E(5,"withLoading"),E(6,"async"),r(),o(7,"app-paginator",3),u("page",function(f){return a.onPage(f)}),r()()),t&2){let c;l(4),S(4,(c=V(6,4,V(5,2,a.meetings$)))?4:-1,c),l(3),d("pagination",a.pagination)}},dependencies:[B,mt,ut,gt,qt,Gt,Ht,Qt,N,Dt],styles:[".meetings[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.meetings__content[_ngcontent-%COMP%]{flex:1;margin-top:22px}.meetings__empty[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;font-size:14px;font-weight:400;color:#bdbdbd;text-transform:capitalize}.meetings__loading[_ngcontent-%COMP%]{overflow-x:auto;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));grid-template-rows:none}.meetings__error[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;height:100%}.meetings__error-content[_ngcontent-%COMP%]{z-index:10;display:flex;flex-direction:column;align-items:center}.meetings__error-title[_ngcontent-%COMP%]{color:#d8d7d7;font-size:280px;font-weight:600;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5;opacity:.25}@media screen and (max-width: 48em){.meetings__error-title[_ngcontent-%COMP%]{font-size:180px}}.meetings__error-subtitle[_ngcontent-%COMP%]{color:#000;font-size:26px;margin-bottom:26px;text-align:center;line-height:1.4}@media screen and (max-width: 48em){.meetings__error-subtitle[_ngcontent-%COMP%]{font-size:20px}}"],changeDetection:0});let n=i;return n})();var Ui=[{path:"",component:Kt},{path:":meetingId",component:Jt}],Xt=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ye({type:i}),i.\u0275inj=ke({imports:[qe.forChild(Ui),qe]});let n=i;return n})();var Bi=(()=>{let i=class i extends Tt{weekViewHour({date:e}){return new Intl.DateTimeFormat("pt-BR",{hour:"numeric",hour12:!1,minute:"numeric",hourCycle:"h23"}).format(e)}};i.\u0275fac=(()=>{let e;return function(a){return(e||(e=et(i)))(a||i)}})(),i.\u0275prov=W({token:i,factory:i.\u0275fac});let n=i;return n})(),vo=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ye({type:i}),i.\u0275inj=ke({providers:[{provide:Pt,useClass:Bi}],imports:[ot,yt,Xt,At.forRoot({provide:It,useFactory:Ft})]});let n=i;return n})();export{vo as MeetingsModule};
