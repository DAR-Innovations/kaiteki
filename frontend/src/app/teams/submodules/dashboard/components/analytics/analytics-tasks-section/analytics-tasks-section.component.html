<div class="dashboard__analytics-section">
	@if (completedTasksByExecutor$ | withLoading | async; as completedTasksByExecutor) {
		@if (completedTasksByExecutor.data) {
			<div class="dashboard__analytics-section-graph task">
				<div class="dashboard__analytics-section-graph-toolbar">
					<p class="dashboard__analytics-section-graph-title">Completed tasks by assignee</p>
				</div>

				<div>
					<canvas
						baseChart
						height="250"
						[data]="completedTasksByExecutor.data"
						[options]="barChartOptions"
					>
					</canvas>
				</div>
			</div>
		}

		@if (completedTasksByExecutor.loading || completedTasksByExecutor.error) {
			<div class="dashboard__analytics-section-first-graph-loading">
				<ngx-skeleton-loader
					count="1"
					appearance="line"
					[theme]="{
									height: '100%',
									'min-height': '270px',
                                    'border-radius': '8px',
								}"
				/>
			</div>
		}
	}

	@if (inProgressTasksByExecutor$ | withLoading | async; as inProgressTasksByExecutor) {
		@if (inProgressTasksByExecutor.data) {
			<div class="dashboard__analytics-section-graph">
				<div class="dashboard__analytics-section-graph-toolbar">
					<p class="dashboard__analytics-section-graph-title">Active tasks by assignee</p>
				</div>
				<div>
					<canvas
						baseChart
						height="250"
						[data]="inProgressTasksByExecutor.data"
						[options]="barChartOptions"
					>
					</canvas>
				</div>
			</div>
		}

		@if (inProgressTasksByExecutor.loading || inProgressTasksByExecutor.error) {
			<div class="dashboard__analytics-section-second-graph-loading">
				<ngx-skeleton-loader
					count="1"
					appearance="line"
					[theme]="{
									height: '100%',
									'min-height': '270px',
                                    'border-radius': '8px',
								}"
				/>
			</div>
		}
	}
</div>
