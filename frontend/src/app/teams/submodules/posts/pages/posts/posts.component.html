<section class="page posts__wrapper">
	<div class="posts__main">
		<app-posts-toolbar></app-posts-toolbar>
		<app-posts-filter (filter)="onFilter($event)"></app-posts-filter>

		<div class="posts__content">
			@if (posts$ | withLoading | async; as posts) {
				@if (posts.data) {
					@if (posts.data.length > 0) {
						<app-posts-list-view [posts]="posts.data"></app-posts-list-view>
					} @else {
						<div class="posts__empty">Not posts found</div>
					}
				}

				@if (posts.loading) {
					<div class="posts__loading">Loading</div>
				}

				@if (posts.error) {
					<div class="posts__error">Error</div>
				}
			}
		</div>

		<app-paginator
			(page)="onPage($event)"
			[pagination]="pagination"
		>
		</app-paginator>
	</div>

	@if (likedPosts$ | withLoading | async; as likedPosts) {
		@if (likedPosts.data) {
			<div class="posts__sidebar">
				<div class="posts__content-header">
					<h1 class="posts__content-header-title">Favorites</h1>
				</div>
				<div class="posts__content">
					@if (likedPosts.data.length > 0) {
						<app-posts-list-view [posts]="likedPosts.data"></app-posts-list-view>
					} @else {
						<div class="posts__empty">Not posts found</div>
					}
				</div>
			</div>
		}
	}
</section>
