<section class="page">
	<app-tasks-toolbar></app-tasks-toolbar>

	<app-tasks-filter (filter)="onFilter($event)"></app-tasks-filter>

	<div class="tasks__content">
		@if (columns$ | withLoading | async; as columns) {
			@if (columns.data) {
				@switch (filter.view) {
					@case ('Kanban') {
						<app-kanban-board-view [columns]="columns.data"></app-kanban-board-view>
					}
					@case ('List') {
						<app-list-view [columns]="columns.data"></app-list-view>
					}
					@case ('Table') {
						<app-table-view [columns]="columns.data"></app-table-view>
					}
				}
			}

			@if (columns.loading) {
				<div>Loading</div>
			}

			@if (columns.error) {
				<div>Error</div>
			}
		}
	</div>
</section>
